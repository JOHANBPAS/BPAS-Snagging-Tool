const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-DYk7XGbh.js","assets/pdfjs-D08STMeX.js"])))=>i.map(i=>d[i]);
import{GlobalWorkerOptions as nF,getDocument as iF}from"./pdfjs-D08STMeX.js";function $6(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Br(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aF(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var m1={exports:{}},rp={},v1={exports:{}},cr={};var sP;function oF(){if(sP)return cr;sP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(X){return X===null||typeof X!="object"?null:(X=h&&X[h]||X["@@iterator"],typeof X=="function"?X:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function v(X,D,Y){this.props=X,this.context=D,this.refs=b,this.updater=Y||g}v.prototype.isReactComponent={},v.prototype.setState=function(X,D){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,D,"setState")},v.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function w(){}w.prototype=v.prototype;function S(X,D,Y){this.props=X,this.context=D,this.refs=b,this.updater=Y||g}var A=S.prototype=new w;A.constructor=S,y(A,v.prototype),A.isPureReactComponent=!0;var k=Array.isArray,j=Object.prototype.hasOwnProperty,O={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function N(X,D,Y){var J,ee={},ue=null,me=null;if(D!=null)for(J in D.ref!==void 0&&(me=D.ref),D.key!==void 0&&(ue=""+D.key),D)j.call(D,J)&&!M.hasOwnProperty(J)&&(ee[J]=D[J]);var fe=arguments.length-2;if(fe===1)ee.children=Y;else if(1<fe){for(var le=Array(fe),ve=0;ve<fe;ve++)le[ve]=arguments[ve+2];ee.children=le}if(X&&X.defaultProps)for(J in fe=X.defaultProps,fe)ee[J]===void 0&&(ee[J]=fe[J]);return{$$typeof:t,type:X,key:ue,ref:me,props:ee,_owner:O.current}}function C(X,D){return{$$typeof:t,type:X.type,key:D,ref:X.ref,props:X.props,_owner:X._owner}}function H(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function T(X){var D={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Y){return D[Y]})}var L=/\/+/g;function $(X,D){return typeof X=="object"&&X!==null&&X.key!=null?T(""+X.key):D.toString(36)}function F(X,D,Y,J,ee){var ue=typeof X;(ue==="undefined"||ue==="boolean")&&(X=null);var me=!1;if(X===null)me=!0;else switch(ue){case"string":case"number":me=!0;break;case"object":switch(X.$$typeof){case t:case e:me=!0}}if(me)return me=X,ee=ee(me),X=J===""?"."+$(me,0):J,k(ee)?(Y="",X!=null&&(Y=X.replace(L,"$&/")+"/"),F(ee,D,Y,"",function(ve){return ve})):ee!=null&&(H(ee)&&(ee=C(ee,Y+(!ee.key||me&&me.key===ee.key?"":(""+ee.key).replace(L,"$&/")+"/")+X)),D.push(ee)),1;if(me=0,J=J===""?".":J+":",k(X))for(var fe=0;fe<X.length;fe++){ue=X[fe];var le=J+$(ue,fe);me+=F(ue,D,Y,le,ee)}else if(le=p(X),typeof le=="function")for(X=le.call(X),fe=0;!(ue=X.next()).done;)ue=ue.value,le=J+$(ue,fe++),me+=F(ue,D,Y,le,ee);else if(ue==="object")throw D=String(X),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return me}function U(X,D,Y){if(X==null)return X;var J=[],ee=0;return F(X,J,"","",function(ue){return D.call(Y,ue,ee++)}),J}function z(X){if(X._status===-1){var D=X._result;D=D(),D.then(function(Y){(X._status===0||X._status===-1)&&(X._status=1,X._result=Y)},function(Y){(X._status===0||X._status===-1)&&(X._status=2,X._result=Y)}),X._status===-1&&(X._status=0,X._result=D)}if(X._status===1)return X._result.default;throw X._result}var q={current:null},G={transition:null},K={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:G,ReactCurrentOwner:O};function te(){throw Error("act(...) is not supported in production builds of React.")}return cr.Children={map:U,forEach:function(X,D,Y){U(X,function(){D.apply(this,arguments)},Y)},count:function(X){var D=0;return U(X,function(){D++}),D},toArray:function(X){return U(X,function(D){return D})||[]},only:function(X){if(!H(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},cr.Component=v,cr.Fragment=r,cr.Profiler=i,cr.PureComponent=S,cr.StrictMode=n,cr.Suspense=l,cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,cr.act=te,cr.cloneElement=function(X,D,Y){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var J=y({},X.props),ee=X.key,ue=X.ref,me=X._owner;if(D!=null){if(D.ref!==void 0&&(ue=D.ref,me=O.current),D.key!==void 0&&(ee=""+D.key),X.type&&X.type.defaultProps)var fe=X.type.defaultProps;for(le in D)j.call(D,le)&&!M.hasOwnProperty(le)&&(J[le]=D[le]===void 0&&fe!==void 0?fe[le]:D[le])}var le=arguments.length-2;if(le===1)J.children=Y;else if(1<le){fe=Array(le);for(var ve=0;ve<le;ve++)fe[ve]=arguments[ve+2];J.children=fe}return{$$typeof:t,type:X.type,key:ee,ref:ue,props:J,_owner:me}},cr.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:a,_context:X},X.Consumer=X},cr.createElement=N,cr.createFactory=function(X){var D=N.bind(null,X);return D.type=X,D},cr.createRef=function(){return{current:null}},cr.forwardRef=function(X){return{$$typeof:s,render:X}},cr.isValidElement=H,cr.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:z}},cr.memo=function(X,D){return{$$typeof:u,type:X,compare:D===void 0?null:D}},cr.startTransition=function(X){var D=G.transition;G.transition={};try{X()}finally{G.transition=D}},cr.unstable_act=te,cr.useCallback=function(X,D){return q.current.useCallback(X,D)},cr.useContext=function(X){return q.current.useContext(X)},cr.useDebugValue=function(){},cr.useDeferredValue=function(X){return q.current.useDeferredValue(X)},cr.useEffect=function(X,D){return q.current.useEffect(X,D)},cr.useId=function(){return q.current.useId()},cr.useImperativeHandle=function(X,D,Y){return q.current.useImperativeHandle(X,D,Y)},cr.useInsertionEffect=function(X,D){return q.current.useInsertionEffect(X,D)},cr.useLayoutEffect=function(X,D){return q.current.useLayoutEffect(X,D)},cr.useMemo=function(X,D){return q.current.useMemo(X,D)},cr.useReducer=function(X,D,Y){return q.current.useReducer(X,D,Y)},cr.useRef=function(X){return q.current.useRef(X)},cr.useState=function(X){return q.current.useState(X)},cr.useSyncExternalStore=function(X,D,Y){return q.current.useSyncExternalStore(X,D,Y)},cr.useTransition=function(){return q.current.useTransition()},cr.version="18.3.1",cr}var lP;function SS(){return lP||(lP=1,v1.exports=oF()),v1.exports}var uP;function sF(){if(uP)return rp;uP=1;var t=SS(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(s,l,u){var f,h={},p=null,g=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(f in l)n.call(l,f)&&!a.hasOwnProperty(f)&&(h[f]=l[f]);if(s&&s.defaultProps)for(f in l=s.defaultProps,l)h[f]===void 0&&(h[f]=l[f]);return{$$typeof:e,type:s,key:p,ref:g,props:h,_owner:i.current}}return rp.Fragment=r,rp.jsx=o,rp.jsxs=o,rp}var cP;function lF(){return cP||(cP=1,m1.exports=sF()),m1.exports}var P=lF(),se=SS();const ge=Br(se),uF=$6({__proto__:null,default:ge},[se]);var xm={},y1={exports:{}},Fa={},b1={exports:{}},w1={};var fP;function cF(){return fP||(fP=1,(function(t){function e(G,K){var te=G.length;G.push(K);e:for(;0<te;){var X=te-1>>>1,D=G[X];if(0<i(D,K))G[X]=K,G[te]=D,te=X;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var K=G[0],te=G.pop();if(te!==K){G[0]=te;e:for(var X=0,D=G.length,Y=D>>>1;X<Y;){var J=2*(X+1)-1,ee=G[J],ue=J+1,me=G[ue];if(0>i(ee,te))ue<D&&0>i(me,ee)?(G[X]=me,G[ue]=te,X=ue):(G[X]=ee,G[J]=te,X=J);else if(ue<D&&0>i(me,te))G[X]=me,G[ue]=te,X=ue;else break e}}return K}function i(G,K){var te=G.sortIndex-K.sortIndex;return te!==0?te:G.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,h=null,p=3,g=!1,y=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=G)n(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=r(u)}}function k(G){if(b=!1,A(G),!y)if(r(l)!==null)y=!0,z(j);else{var K=r(u);K!==null&&q(k,K.startTime-G)}}function j(G,K){y=!1,b&&(b=!1,w(N),N=-1),g=!0;var te=p;try{for(A(K),h=r(l);h!==null&&(!(h.expirationTime>K)||G&&!T());){var X=h.callback;if(typeof X=="function"){h.callback=null,p=h.priorityLevel;var D=X(h.expirationTime<=K);K=t.unstable_now(),typeof D=="function"?h.callback=D:h===r(l)&&n(l),A(K)}else n(l);h=r(l)}if(h!==null)var Y=!0;else{var J=r(u);J!==null&&q(k,J.startTime-K),Y=!1}return Y}finally{h=null,p=te,g=!1}}var O=!1,M=null,N=-1,C=5,H=-1;function T(){return!(t.unstable_now()-H<C)}function L(){if(M!==null){var G=t.unstable_now();H=G;var K=!0;try{K=M(!0,G)}finally{K?$():(O=!1,M=null)}}else O=!1}var $;if(typeof S=="function")$=function(){S(L)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,U=F.port2;F.port1.onmessage=L,$=function(){U.postMessage(null)}}else $=function(){v(L,0)};function z(G){M=G,O||(O=!0,$())}function q(G,K){N=v(function(){G(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,z(j))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var te=p;p=K;try{return G()}finally{p=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=p;p=G;try{return K()}finally{p=te}},t.unstable_scheduleCallback=function(G,K,te){var X=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?X+te:X):te=X,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=te+D,G={id:f++,callback:K,priorityLevel:G,startTime:te,expirationTime:D,sortIndex:-1},te>X?(G.sortIndex=te,e(u,G),r(l)===null&&G===r(u)&&(b?(w(N),N=-1):b=!0,q(k,te-X))):(G.sortIndex=D,e(l,G),y||g||(y=!0,z(j))),G},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(G){var K=p;return function(){var te=p;p=K;try{return G.apply(this,arguments)}finally{p=te}}}})(w1)),w1}var dP;function fF(){return dP||(dP=1,b1.exports=cF()),b1.exports}var hP;function dF(){if(hP)return Fa;hP=1;var t=SS(),e=fF();function r(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(c,d){o(c,d),o(c+"Capture",d)}function o(c,d){for(i[c]=d,c=0;c<d.length;c++)n.add(d[c])}var s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function p(c){return l.call(h,c)?!0:l.call(f,c)?!1:u.test(c)?h[c]=!0:(f[c]=!0,!1)}function g(c,d,m,_){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return _?!1:m!==null?!m.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function y(c,d,m,_){if(d===null||typeof d>"u"||g(c,d,m,_))return!0;if(_)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function b(c,d,m,_,R,W,re){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=_,this.attributeNamespace=R,this.mustUseProperty=m,this.propertyName=c,this.type=d,this.sanitizeURL=W,this.removeEmptyString=re}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){v[c]=new b(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];v[d]=new b(d,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){v[c]=new b(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){v[c]=new b(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){v[c]=new b(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){v[c]=new b(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){v[c]=new b(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){v[c]=new b(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){v[c]=new b(c,5,!1,c.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function S(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(w,S);v[d]=new b(d,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(w,S);v[d]=new b(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(w,S);v[d]=new b(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){v[c]=new b(c,1,!1,c.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){v[c]=new b(c,1,!1,c.toLowerCase(),null,!0,!0)});function A(c,d,m,_){var R=v.hasOwnProperty(d)?v[d]:null;(R!==null?R.type!==0:_||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(y(d,m,R,_)&&(m=null),_||R===null?p(d)&&(m===null?c.removeAttribute(d):c.setAttribute(d,""+m)):R.mustUseProperty?c[R.propertyName]=m===null?R.type===3?!1:"":m:(d=R.attributeName,_=R.attributeNamespace,m===null?c.removeAttribute(d):(R=R.type,m=R===3||R===4&&m===!0?"":""+m,_?c.setAttributeNS(_,d,m):c.setAttribute(d,m))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),T=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),G=Symbol.iterator;function K(c){return c===null||typeof c!="object"?null:(c=G&&c[G]||c["@@iterator"],typeof c=="function"?c:null)}var te=Object.assign,X;function D(c){if(X===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);X=d&&d[1]||""}return`
`+X+c}var Y=!1;function J(c,d){if(!c||Y)return"";Y=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ie){var _=Ie}Reflect.construct(c,[],d)}else{try{d.call()}catch(Ie){_=Ie}c.call(d.prototype)}else{try{throw Error()}catch(Ie){_=Ie}c()}}catch(Ie){if(Ie&&_&&typeof Ie.stack=="string"){for(var R=Ie.stack.split(`
`),W=_.stack.split(`
`),re=R.length-1,ye=W.length-1;1<=re&&0<=ye&&R[re]!==W[ye];)ye--;for(;1<=re&&0<=ye;re--,ye--)if(R[re]!==W[ye]){if(re!==1||ye!==1)do if(re--,ye--,0>ye||R[re]!==W[ye]){var _e=`
`+R[re].replace(" at new "," at ");return c.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",c.displayName)),_e}while(1<=re&&0<=ye);break}}}finally{Y=!1,Error.prepareStackTrace=m}return(c=c?c.displayName||c.name:"")?D(c):""}function ee(c){switch(c.tag){case 5:return D(c.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return c=J(c.type,!1),c;case 11:return c=J(c.type.render,!1),c;case 1:return c=J(c.type,!0),c;default:return""}}function ue(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case M:return"Fragment";case O:return"Portal";case C:return"Profiler";case N:return"StrictMode";case $:return"Suspense";case F:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case T:return(c.displayName||"Context")+".Consumer";case H:return(c._context.displayName||"Context")+".Provider";case L:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case U:return d=c.displayName||null,d!==null?d:ue(c.type)||"Memo";case z:d=c._payload,c=c._init;try{return ue(c(d))}catch{}}return null}function me(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(d);case 8:return d===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function fe(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function le(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function ve(c){var d=le(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),_=""+c[d];if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var R=m.get,W=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return R.call(this)},set:function(re){_=""+re,W.call(this,re)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return _},setValue:function(re){_=""+re},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Ae(c){c._valueTracker||(c._valueTracker=ve(c))}function be(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),_="";return c&&(_=le(c)?c.checked?"true":"false":c.value),c=_,c!==m?(d.setValue(c),!0):!1}function De(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ee(c,d){var m=d.checked;return te({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??c._wrapperState.initialChecked})}function ce(c,d){var m=d.defaultValue==null?"":d.defaultValue,_=d.checked!=null?d.checked:d.defaultChecked;m=fe(d.value!=null?d.value:m),c._wrapperState={initialChecked:_,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function at(c,d){d=d.checked,d!=null&&A(c,"checked",d,!1)}function Ze(c,d){at(c,d);var m=fe(d.value),_=d.type;if(m!=null)_==="number"?(m===0&&c.value===""||c.value!=m)&&(c.value=""+m):c.value!==""+m&&(c.value=""+m);else if(_==="submit"||_==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?Be(c,d.type,m):d.hasOwnProperty("defaultValue")&&Be(c,d.type,fe(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function Ye(c,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var _=d.type;if(!(_!=="submit"&&_!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,m||d===c.value||(c.value=d),c.defaultValue=d}m=c.name,m!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,m!==""&&(c.name=m)}function Be(c,d,m){(d!=="number"||De(c.ownerDocument)!==c)&&(m==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+m&&(c.defaultValue=""+m))}var tt=Array.isArray;function Ve(c,d,m,_){if(c=c.options,d){d={};for(var R=0;R<m.length;R++)d["$"+m[R]]=!0;for(m=0;m<c.length;m++)R=d.hasOwnProperty("$"+c[m].value),c[m].selected!==R&&(c[m].selected=R),R&&_&&(c[m].defaultSelected=!0)}else{for(m=""+fe(m),d=null,R=0;R<c.length;R++){if(c[R].value===m){c[R].selected=!0,_&&(c[R].defaultSelected=!0);return}d!==null||c[R].disabled||(d=c[R])}d!==null&&(d.selected=!0)}}function ut(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function rt(c,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(r(92));if(tt(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),m=d}c._wrapperState={initialValue:fe(m)}}function ft(c,d){var m=fe(d.value),_=fe(d.defaultValue);m!=null&&(m=""+m,m!==c.value&&(c.value=m),d.defaultValue==null&&c.defaultValue!==m&&(c.defaultValue=m)),_!=null&&(c.defaultValue=""+_)}function ct(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function kt(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nr(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?kt(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var pt,ke=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,_,R){MSApp.execUnsafeLocalFunction(function(){return c(d,m,_,R)})}:c})(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(pt=pt||document.createElement("div"),pt.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=pt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function qe(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},st=["Webkit","ms","Moz","O"];Object.keys(ze).forEach(function(c){st.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),ze[d]=ze[c]})});function Nt(c,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||ze.hasOwnProperty(c)&&ze[c]?(""+d).trim():d+"px"}function lt(c,d){c=c.style;for(var m in d)if(d.hasOwnProperty(m)){var _=m.indexOf("--")===0,R=Nt(m,d[m],_);m==="float"&&(m="cssFloat"),_?c.setProperty(m,R):c[m]=R}}var Mt=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lr(c,d){if(d){if(Mt[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(r(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(r(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(r(61))}if(d.style!=null&&typeof d.style!="object")throw Error(r(62))}}function It(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tr=null;function Ut(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Sr=null,$r=null,rr=null;function Tt(c){if(c=Cu(c)){if(typeof Sr!="function")throw Error(r(280));var d=c.stateNode;d&&(d=Rc(d),Sr(c.stateNode,c.type,d))}}function ar(c){$r?rr?rr.push(c):rr=[c]:$r=c}function $i(){if($r){var c=$r,d=rr;if(rr=$r=null,Tt(c),d)for(c=0;c<d.length;c++)Tt(d[c])}}function Nn(c,d){return c(d)}function Jn(){}var Tn=!1;function Dt(c,d,m){if(Tn)return c(d,m);Tn=!0;try{return Nn(c,d,m)}finally{Tn=!1,($r!==null||rr!==null)&&(Jn(),$i())}}function la(c,d){var m=c.stateNode;if(m===null)return null;var _=Rc(m);if(_===null)return null;m=_[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(c=c.type,_=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!_;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var Wa=!1;if(s)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{Wa=!1}function _a(c,d,m,_,R,W,re,ye,_e){var Ie=Array.prototype.slice.call(arguments,3);try{d.apply(m,Ie)}catch(Xe){this.onError(Xe)}}var Ur=!1,wn=null,Ln=!1,Ko=null,Ns={onError:function(c){Ur=!0,wn=c}};function Ha(c,d,m,_,R,W,re,ye,_e){Ur=!1,wn=null,_a.apply(Ns,arguments)}function mo(c,d,m,_,R,W,re,ye,_e){if(Ha.apply(this,arguments),Ur){if(Ur){var Ie=wn;Ur=!1,wn=null}else throw Error(r(198));Ln||(Ln=!0,Ko=Ie)}}function oi(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function Sa(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function ua(c){if(oi(c)!==c)throw Error(r(188))}function cl(c){var d=c.alternate;if(!d){if(d=oi(c),d===null)throw Error(r(188));return d!==c?null:c}for(var m=c,_=d;;){var R=m.return;if(R===null)break;var W=R.alternate;if(W===null){if(_=R.return,_!==null){m=_;continue}break}if(R.child===W.child){for(W=R.child;W;){if(W===m)return ua(R),c;if(W===_)return ua(R),d;W=W.sibling}throw Error(r(188))}if(m.return!==_.return)m=R,_=W;else{for(var re=!1,ye=R.child;ye;){if(ye===m){re=!0,m=R,_=W;break}if(ye===_){re=!0,_=R,m=W;break}ye=ye.sibling}if(!re){for(ye=W.child;ye;){if(ye===m){re=!0,m=W,_=R;break}if(ye===_){re=!0,_=W,m=R;break}ye=ye.sibling}if(!re)throw Error(r(189))}}if(m.alternate!==_)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:d}function Va(c){return c=cl(c),c!==null?Ts(c):null}function Ts(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=Ts(c);if(d!==null)return d;c=c.sibling}return null}var fl=e.unstable_scheduleCallback,dl=e.unstable_cancelCallback,fu=e.unstable_shouldYield,jh=e.unstable_requestPaint,Hr=e.unstable_now,Mf=e.unstable_getCurrentPriorityLevel,du=e.unstable_ImmediatePriority,ca=e.unstable_UserBlockingPriority,Ls=e.unstable_NormalPriority,Df=e.unstable_LowPriority,hu=e.unstable_IdlePriority,hl=null,fa=null;function Ff(c){if(fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(hl,c,void 0,(c.current.flags&128)===128)}catch{}}var bi=Math.clz32?Math.clz32:Bf,Ch=Math.log,In=Math.LN2;function Bf(c){return c>>>=0,c===0?32:31-(Ch(c)/In|0)|0}var pl=64,Aa=4194304;function Ga(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ui(c,d){var m=c.pendingLanes;if(m===0)return 0;var _=0,R=c.suspendedLanes,W=c.pingedLanes,re=m&268435455;if(re!==0){var ye=re&~R;ye!==0?_=Ga(ye):(W&=re,W!==0&&(_=Ga(W)))}else re=m&~R,re!==0?_=Ga(re):W!==0&&(_=Ga(W));if(_===0)return 0;if(d!==0&&d!==_&&(d&R)===0&&(R=_&-_,W=d&-d,R>=W||R===16&&(W&4194240)!==0))return d;if((_&4)!==0&&(_|=m&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=_;0<d;)m=31-bi(d),R=1<<m,_|=c[m],d&=~R;return _}function gl(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(c,d){for(var m=c.suspendedLanes,_=c.pingedLanes,R=c.expirationTimes,W=c.pendingLanes;0<W;){var re=31-bi(W),ye=1<<re,_e=R[re];_e===-1?((ye&m)===0||(ye&_)!==0)&&(R[re]=gl(ye,d)):_e<=d&&(c.expiredLanes|=ye),W&=~ye}}function ml(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function $f(){var c=pl;return pl<<=1,(pl&4194240)===0&&(pl=64),c}function vc(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function vl(c,d,m){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-bi(d),c[d]=m}function vo(c,d){var m=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var _=c.eventTimes;for(c=c.expirationTimes;0<m;){var R=31-bi(m),W=1<<R;d[R]=0,_[R]=-1,c[R]=-1,m&=~W}}function pu(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var _=31-bi(m),R=1<<_;R&d|c[_]&d&&(c[_]|=d),m&=~R}}var pr=0;function Yo(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var gu,yc,Uf,qf,mu,Xo=!1,Ka=[],yo=null,qi=null,Pa=null,$t=new Map,yl=new Map,bo=[],Nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zf(c,d){switch(c){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":$t.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(d.pointerId)}}function da(c,d,m,_,R,W){return c===null||c.nativeEvent!==W?(c={blockedOn:d,domEventName:m,eventSystemFlags:_,nativeEvent:W,targetContainers:[R]},d!==null&&(d=Cu(d),d!==null&&yc(d)),c):(c.eventSystemFlags|=_,d=c.targetContainers,R!==null&&d.indexOf(R)===-1&&d.push(R),c)}function Jo(c,d,m,_,R){switch(d){case"focusin":return yo=da(yo,c,d,m,_,R),!0;case"dragenter":return qi=da(qi,c,d,m,_,R),!0;case"mouseover":return Pa=da(Pa,c,d,m,_,R),!0;case"pointerover":var W=R.pointerId;return $t.set(W,da($t.get(W)||null,c,d,m,_,R)),!0;case"gotpointercapture":return W=R.pointerId,yl.set(W,da(yl.get(W)||null,c,d,m,_,R)),!0}return!1}function Wf(c){var d=zs(c.target);if(d!==null){var m=oi(d);if(m!==null){if(d=m.tag,d===13){if(d=Sa(m),d!==null){c.blockedOn=d,mu(c.priority,function(){Uf(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function vu(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=wl(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(m===null){m=c.nativeEvent;var _=new m.constructor(m.type,m);tr=_,m.target.dispatchEvent(_),tr=null}else return d=Cu(m),d!==null&&yc(d),c.blockedOn=m,!1;d.shift()}return!0}function bl(c,d,m){vu(c)&&m.delete(d)}function bc(){Xo=!1,yo!==null&&vu(yo)&&(yo=null),qi!==null&&vu(qi)&&(qi=null),Pa!==null&&vu(Pa)&&(Pa=null),$t.forEach(bl),yl.forEach(bl)}function Ya(c,d){c.blockedOn===d&&(c.blockedOn=null,Xo||(Xo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bc)))}function wo(c){function d(R){return Ya(R,c)}if(0<Ka.length){Ya(Ka[0],c);for(var m=1;m<Ka.length;m++){var _=Ka[m];_.blockedOn===c&&(_.blockedOn=null)}}for(yo!==null&&Ya(yo,c),qi!==null&&Ya(qi,c),Pa!==null&&Ya(Pa,c),$t.forEach(d),yl.forEach(d),m=0;m<bo.length;m++)_=bo[m],_.blockedOn===c&&(_.blockedOn=null);for(;0<bo.length&&(m=bo[0],m.blockedOn===null);)Wf(m),m.blockedOn===null&&bo.shift()}var Xa=k.ReactCurrentBatchConfig,yu=!0;function wc(c,d,m,_){var R=pr,W=Xa.transition;Xa.transition=null;try{pr=1,Zo(c,d,m,_)}finally{pr=R,Xa.transition=W}}function xc(c,d,m,_){var R=pr,W=Xa.transition;Xa.transition=null;try{pr=4,Zo(c,d,m,_)}finally{pr=R,Xa.transition=W}}function Zo(c,d,m,_){if(yu){var R=wl(c,d,m,_);if(R===null)Tc(c,d,_,xo,m),zf(c,_);else if(Jo(R,c,d,m,_))_.stopPropagation();else if(zf(c,_),d&4&&-1<Nh.indexOf(c)){for(;R!==null;){var W=Cu(R);if(W!==null&&gu(W),W=wl(c,d,m,_),W===null&&Tc(c,d,_,xo,m),W===R)break;R=W}R!==null&&_.stopPropagation()}else Tc(c,d,_,null,m)}}var xo=null;function wl(c,d,m,_){if(xo=null,c=Ut(_),c=zs(c),c!==null)if(d=oi(c),d===null)c=null;else if(m=d.tag,m===13){if(c=Sa(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return xo=c,null}function xl(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mf()){case du:return 1;case ca:return 4;case Ls:case Df:return 16;case hu:return 536870912;default:return 16}default:return 16}}var Ea=null,Qo=null,_l=null;function _c(){if(_l)return _l;var c,d=Qo,m=d.length,_,R="value"in Ea?Ea.value:Ea.textContent,W=R.length;for(c=0;c<m&&d[c]===R[c];c++);var re=m-c;for(_=1;_<=re&&d[m-_]===R[W-_];_++);return _l=R.slice(c,1<_?1-_:void 0)}function ka(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Oa(){return!0}function Sc(){return!1}function wi(c){function d(m,_,R,W,re){this._reactName=m,this._targetInst=R,this.type=_,this.nativeEvent=W,this.target=re,this.currentTarget=null;for(var ye in c)c.hasOwnProperty(ye)&&(m=c[ye],this[ye]=m?m(W):W[ye]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?Oa:Sc,this.isPropagationStopped=Sc,this}return te(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),d}var ja={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bu=wi(ja),I=te({},ja,{view:0,detail:0}),Q=wi(I),pe,we,Oe,$e=te({},I,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Oe&&(Oe&&c.type==="mousemove"?(pe=c.screenX-Oe.screenX,we=c.screenY-Oe.screenY):we=pe=0,Oe=c),pe)},movementY:function(c){return"movementY"in c?c.movementY:we}}),Ge=wi($e),wt=te({},$e,{dataTransfer:0}),Pt=wi(wt),Wt=te({},I,{relatedTarget:0}),Ht=wi(Wt),gr=te({},ja,{animationName:0,elapsedTime:0,pseudoElement:0}),rn=wi(gr),Rn=te({},ja,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),qr=wi(Rn),zn=te({},ja,{data:0}),_n=wi(zn),si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ca={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=zi[c])?!!d[c]:!1}function Is(){return Hf}var Sl=te({},I,{key:function(c){if(c.key){var d=si[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=ka(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Ca[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(c){return c.type==="keypress"?ka(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ka(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Rs=wi(Sl),Al=te({},$e,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ms=wi(Al),Pl=te({},I,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),xi=wi(Pl),El=te({},ja,{propertyName:0,elapsedTime:0,pseudoElement:0}),kl=wi(El),Ac=te({},$e,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Pc=wi(Ac),un=[9,13,27,32],Ja=s&&"CompositionEvent"in window,_o=null;s&&"documentMode"in document&&(_o=document.documentMode);var Vf=s&&"TextEvent"in window&&!_o,ha=s&&(!Ja||_o&&8<_o&&11>=_o),Ds=" ",wu=!1;function xu(c,d){switch(c){case"keyup":return un.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function es(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Na=!1;function pa(c,d){switch(c){case"compositionend":return es(d);case"keypress":return d.which!==32?null:(wu=!0,Ds);case"textInput":return c=d.data,c===Ds&&wu?null:c;default:return null}}function ga(c,d){if(Na)return c==="compositionend"||!Ja&&xu(c,d)?(c=_c(),_l=Qo=Ea=null,Na=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return ha&&d.locale!=="ko"?null:d.data;default:return null}}var Fs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function So(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Fs[c.type]:d==="textarea"}function ts(c,d,m,_){ar(_),d=Jf(d,"onChange"),0<d.length&&(m=new bu("onChange","change",null,m,_),c.push({event:m,listeners:d}))}var rs=null,Ao=null;function Sn(c){Cc(c,0)}function Ol(c){var d=Fl(c);if(be(d))return c}function Po(c,d){if(c==="change")return d}var Za=!1;if(s){var jl;if(s){var Cl="oninput"in document;if(!Cl){var _u=document.createElement("div");_u.setAttribute("oninput","return;"),Cl=typeof _u.oninput=="function"}jl=Cl}else jl=!1;Za=jl&&(!document.documentMode||9<document.documentMode)}function Su(){rs&&(rs.detachEvent("onpropertychange",ns),Ao=rs=null)}function ns(c){if(c.propertyName==="value"&&Ol(Ao)){var d=[];ts(d,Ao,c,Ut(c)),Dt(Sn,d)}}function Bs(c,d,m){c==="focusin"?(Su(),rs=d,Ao=m,rs.attachEvent("onpropertychange",ns)):c==="focusout"&&Su()}function $s(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Ol(Ao)}function Nl(c,d){if(c==="click")return Ol(d)}function Us(c,d){if(c==="input"||c==="change")return Ol(d)}function Tl(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var cn=typeof Object.is=="function"?Object.is:Tl;function Wi(c,d){if(cn(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),_=Object.keys(d);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var R=m[_];if(!l.call(d,R)||!cn(c[R],d[R]))return!1}return!0}function mr(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function kr(c,d){var m=mr(c);c=0;for(var _;m;){if(m.nodeType===3){if(_=c+m.textContent.length,c<=d&&_>=d)return{node:m,offset:d-c};c=_}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=mr(m)}}function fn(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?fn(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function Mn(){for(var c=window,d=De();d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=De(c.document)}return d}function Qa(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function Ec(c){var d=Mn(),m=c.focusedElem,_=c.selectionRange;if(d!==m&&m&&m.ownerDocument&&fn(m.ownerDocument.documentElement,m)){if(_!==null&&Qa(m)){if(d=_.start,c=_.end,c===void 0&&(c=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(c,m.value.length);else if(c=(d=m.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var R=m.textContent.length,W=Math.min(_.start,R);_=_.end===void 0?W:Math.min(_.end,R),!c.extend&&W>_&&(R=_,_=W,W=R),R=kr(m,W);var re=kr(m,_);R&&re&&(c.rangeCount!==1||c.anchorNode!==R.node||c.anchorOffset!==R.offset||c.focusNode!==re.node||c.focusOffset!==re.offset)&&(d=d.createRange(),d.setStart(R.node,R.offset),c.removeAllRanges(),W>_?(c.addRange(d),c.extend(re.node,re.offset)):(d.setEnd(re.node,re.offset),c.addRange(d)))}}for(d=[],c=m;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)c=d[m],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Au=s&&"documentMode"in document&&11>=document.documentMode,is=null,Gf=null,Pu=null,Kf=!1;function Th(c,d,m){var _=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Kf||is==null||is!==De(_)||(_=is,"selectionStart"in _&&Qa(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),Pu&&Wi(Pu,_)||(Pu=_,_=Jf(Gf,"onSelect"),0<_.length&&(d=new bu("onSelect","select",null,d,m),c.push({event:d,listeners:_}),d.target=is)))}function kc(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var Ll={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Il={},Lh={};s&&(Lh=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function Oc(c){if(Il[c])return Il[c];if(!Ll[c])return c;var d=Ll[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in Lh)return Il[c]=d[m];return c}var Ih=Oc("animationend"),Rh=Oc("animationiteration"),Mh=Oc("animationstart"),Dh=Oc("transitionend"),Fh=new Map,Bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Eo(c,d){Fh.set(c,d),a(d,[c])}for(var Eu=0;Eu<Bh.length;Eu++){var Li=Bh[Eu],Ta=Li.toLowerCase(),Yf=Li[0].toUpperCase()+Li.slice(1);Eo(Ta,"on"+Yf)}Eo(Ih,"onAnimationEnd"),Eo(Rh,"onAnimationIteration"),Eo(Mh,"onAnimationStart"),Eo("dblclick","onDoubleClick"),Eo("focusin","onFocus"),Eo("focusout","onBlur"),Eo(Dh,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ug=new Set("cancel close invalid load scroll toggle".split(" ").concat(qs));function jc(c,d,m){var _=c.type||"unknown-event";c.currentTarget=m,mo(_,d,void 0,c),c.currentTarget=null}function Cc(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var _=c[m],R=_.event;_=_.listeners;e:{var W=void 0;if(d)for(var re=_.length-1;0<=re;re--){var ye=_[re],_e=ye.instance,Ie=ye.currentTarget;if(ye=ye.listener,_e!==W&&R.isPropagationStopped())break e;jc(R,ye,Ie),W=_e}else for(re=0;re<_.length;re++){if(ye=_[re],_e=ye.instance,Ie=ye.currentTarget,ye=ye.listener,_e!==W&&R.isPropagationStopped())break e;jc(R,ye,Ie),W=_e}}}if(Ln)throw c=Ko,Ln=!1,Ko=null,c}function Ir(c,d){var m=d[Vi];m===void 0&&(m=d[Vi]=new Set);var _=c+"__bubble";m.has(_)||(Nc(d,c,2,!1),m.add(_))}function Xf(c,d,m){var _=0;d&&(_|=4),Nc(m,c,_,d)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Rl(c){if(!c[ku]){c[ku]=!0,n.forEach(function(m){m!=="selectionchange"&&(Ug.has(m)||Xf(m,!1,c),Xf(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[ku]||(d[ku]=!0,Xf("selectionchange",!1,d))}}function Nc(c,d,m,_){switch(xl(d)){case 1:var R=wc;break;case 4:R=xc;break;default:R=Zo}m=R.bind(null,d,m,c),R=void 0,!Wa||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(R=!0),_?R!==void 0?c.addEventListener(d,m,{capture:!0,passive:R}):c.addEventListener(d,m,!0):R!==void 0?c.addEventListener(d,m,{passive:R}):c.addEventListener(d,m,!1)}function Tc(c,d,m,_,R){var W=_;if((d&1)===0&&(d&2)===0&&_!==null)e:for(;;){if(_===null)return;var re=_.tag;if(re===3||re===4){var ye=_.stateNode.containerInfo;if(ye===R||ye.nodeType===8&&ye.parentNode===R)break;if(re===4)for(re=_.return;re!==null;){var _e=re.tag;if((_e===3||_e===4)&&(_e=re.stateNode.containerInfo,_e===R||_e.nodeType===8&&_e.parentNode===R))return;re=re.return}for(;ye!==null;){if(re=zs(ye),re===null)return;if(_e=re.tag,_e===5||_e===6){_=W=re;continue e}ye=ye.parentNode}}_=_.return}Dt(function(){var Ie=W,Xe=Ut(m),et=[];e:{var Ke=Fh.get(c);if(Ke!==void 0){var ht=bu,_t=c;switch(c){case"keypress":if(ka(m)===0)break e;case"keydown":case"keyup":ht=Rs;break;case"focusin":_t="focus",ht=Ht;break;case"focusout":_t="blur",ht=Ht;break;case"beforeblur":case"afterblur":ht=Ht;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=Ge;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=Pt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=xi;break;case Ih:case Rh:case Mh:ht=rn;break;case Dh:ht=kl;break;case"scroll":ht=Q;break;case"wheel":ht=Pc;break;case"copy":case"cut":case"paste":ht=qr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=Ms}var At=(d&4)!==0,Vn=!At&&c==="scroll",Ne=At?Ke!==null?Ke+"Capture":null:Ke;At=[];for(var Pe=Ie,Le;Pe!==null;){Le=Pe;var nt=Le.stateNode;if(Le.tag===5&&nt!==null&&(Le=nt,Ne!==null&&(nt=la(Pe,Ne),nt!=null&&At.push(Lc(Pe,nt,Le)))),Vn)break;Pe=Pe.return}0<At.length&&(Ke=new ht(Ke,_t,null,m,Xe),et.push({event:Ke,listeners:At}))}}if((d&7)===0){e:{if(Ke=c==="mouseover"||c==="pointerover",ht=c==="mouseout"||c==="pointerout",Ke&&m!==tr&&(_t=m.relatedTarget||m.fromElement)&&(zs(_t)||_t[_i]))break e;if((ht||Ke)&&(Ke=Xe.window===Xe?Xe:(Ke=Xe.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,ht?(_t=m.relatedTarget||m.toElement,ht=Ie,_t=_t?zs(_t):null,_t!==null&&(Vn=oi(_t),_t!==Vn||_t.tag!==5&&_t.tag!==6)&&(_t=null)):(ht=null,_t=Ie),ht!==_t)){if(At=Ge,nt="onMouseLeave",Ne="onMouseEnter",Pe="mouse",(c==="pointerout"||c==="pointerover")&&(At=Ms,nt="onPointerLeave",Ne="onPointerEnter",Pe="pointer"),Vn=ht==null?Ke:Fl(ht),Le=_t==null?Ke:Fl(_t),Ke=new At(nt,Pe+"leave",ht,m,Xe),Ke.target=Vn,Ke.relatedTarget=Le,nt=null,zs(Xe)===Ie&&(At=new At(Ne,Pe+"enter",_t,m,Xe),At.target=Le,At.relatedTarget=Vn,nt=At),Vn=nt,ht&&_t)t:{for(At=ht,Ne=_t,Pe=0,Le=At;Le;Le=Ml(Le))Pe++;for(Le=0,nt=Ne;nt;nt=Ml(nt))Le++;for(;0<Pe-Le;)At=Ml(At),Pe--;for(;0<Le-Pe;)Ne=Ml(Ne),Le--;for(;Pe--;){if(At===Ne||Ne!==null&&At===Ne.alternate)break t;At=Ml(At),Ne=Ml(Ne)}At=null}else At=null;ht!==null&&qg(et,Ke,ht,At,!1),_t!==null&&Vn!==null&&qg(et,Vn,_t,At,!0)}}e:{if(Ke=Ie?Fl(Ie):window,ht=Ke.nodeName&&Ke.nodeName.toLowerCase(),ht==="select"||ht==="input"&&Ke.type==="file")var Ot=Po;else if(So(Ke))if(Za)Ot=Us;else{Ot=$s;var Ft=Bs}else(ht=Ke.nodeName)&&ht.toLowerCase()==="input"&&(Ke.type==="checkbox"||Ke.type==="radio")&&(Ot=Nl);if(Ot&&(Ot=Ot(c,Ie))){ts(et,Ot,m,Xe);break e}Ft&&Ft(c,Ke,Ie),c==="focusout"&&(Ft=Ke._wrapperState)&&Ft.controlled&&Ke.type==="number"&&Be(Ke,"number",Ke.value)}switch(Ft=Ie?Fl(Ie):window,c){case"focusin":(So(Ft)||Ft.contentEditable==="true")&&(is=Ft,Gf=Ie,Pu=null);break;case"focusout":Pu=Gf=is=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Th(et,m,Xe);break;case"selectionchange":if(Au)break;case"keydown":case"keyup":Th(et,m,Xe)}var Bt;if(Ja)e:{switch(c){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else Na?xu(c,m)&&(Kt="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Kt="onCompositionStart");Kt&&(ha&&m.locale!=="ko"&&(Na||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&Na&&(Bt=_c()):(Ea=Xe,Qo="value"in Ea?Ea.value:Ea.textContent,Na=!0)),Ft=Jf(Ie,Kt),0<Ft.length&&(Kt=new _n(Kt,c,null,m,Xe),et.push({event:Kt,listeners:Ft}),Bt?Kt.data=Bt:(Bt=es(m),Bt!==null&&(Kt.data=Bt)))),(Bt=Vf?pa(c,m):ga(c,m))&&(Ie=Jf(Ie,"onBeforeInput"),0<Ie.length&&(Xe=new _n("onBeforeInput","beforeinput",null,m,Xe),et.push({event:Xe,listeners:Ie}),Xe.data=Bt))}Cc(et,d)})}function Lc(c,d,m){return{instance:c,listener:d,currentTarget:m}}function Jf(c,d){for(var m=d+"Capture",_=[];c!==null;){var R=c,W=R.stateNode;R.tag===5&&W!==null&&(R=W,W=la(c,m),W!=null&&_.unshift(Lc(c,W,R)),W=la(c,d),W!=null&&_.push(Lc(c,W,R))),c=c.return}return _}function Ml(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function qg(c,d,m,_,R){for(var W=d._reactName,re=[];m!==null&&m!==_;){var ye=m,_e=ye.alternate,Ie=ye.stateNode;if(_e!==null&&_e===_)break;ye.tag===5&&Ie!==null&&(ye=Ie,R?(_e=la(m,W),_e!=null&&re.unshift(Lc(m,_e,ye))):R||(_e=la(m,W),_e!=null&&re.push(Lc(m,_e,ye)))),m=m.return}re.length!==0&&c.push({event:d,listeners:re})}var Cy=/\r\n?/g,Ny=/\u0000|\uFFFD/g;function zg(c){return(typeof c=="string"?c:""+c).replace(Cy,`
`).replace(Ny,"")}function Zf(c,d,m){if(d=zg(d),zg(c)!==d&&m)throw Error(r(425))}function Ou(){}var Ic=null,Dl=null;function $h(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,Wg=typeof clearTimeout=="function"?clearTimeout:void 0,Hg=typeof Promise=="function"?Promise:void 0,Ty=typeof queueMicrotask=="function"?queueMicrotask:typeof Hg<"u"?function(c){return Hg.resolve(null).then(c).catch(Ly)}:Uh;function Ly(c){setTimeout(function(){throw c})}function qh(c,d){var m=d,_=0;do{var R=m.nextSibling;if(c.removeChild(m),R&&R.nodeType===8)if(m=R.data,m==="/$"){if(_===0){c.removeChild(R),wo(d);return}_--}else m!=="$"&&m!=="$?"&&m!=="$!"||_++;m=R}while(m);wo(d)}function Ii(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function La(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return c;d--}else m==="/$"&&d++}c=c.previousSibling}return null}var Hi=Math.random().toString(36).slice(2),ko="__reactFiber$"+Hi,ju="__reactProps$"+Hi,_i="__reactContainer$"+Hi,Vi="__reactEvents$"+Hi,Iy="__reactListeners$"+Hi,Ry="__reactHandles$"+Hi;function zs(c){var d=c[ko];if(d)return d;for(var m=c.parentNode;m;){if(d=m[_i]||m[ko]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=La(c);c!==null;){if(m=c[ko])return m;c=La(c)}return d}c=m,m=c.parentNode}return null}function Cu(c){return c=c[ko]||c[_i],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function Fl(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(r(33))}function Rc(c){return c[ju]||null}var zh=[],as=-1;function eo(c){return{current:c}}function Ar(c){0>as||(c.current=zh[as],zh[as]=null,as--)}function Or(c,d){as++,zh[as]=c.current,c.current=d}var Ws={},li=eo(Ws),Gi=eo(!1),Bl=Ws;function Nu(c,d){var m=c.type.contextTypes;if(!m)return Ws;var _=c.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===d)return _.__reactInternalMemoizedMaskedChildContext;var R={},W;for(W in m)R[W]=d[W];return _&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=R),R}function Ki(c){return c=c.childContextTypes,c!=null}function Qf(){Ar(Gi),Ar(li)}function Vg(c,d,m){if(li.current!==Ws)throw Error(r(168));Or(li,d),Or(Gi,m)}function Wh(c,d,m){var _=c.stateNode;if(d=d.childContextTypes,typeof _.getChildContext!="function")return m;_=_.getChildContext();for(var R in _)if(!(R in d))throw Error(r(108,me(c)||"Unknown",R));return te({},m,_)}function $l(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Ws,Bl=li.current,Or(li,c),Or(Gi,Gi.current),!0}function Gg(c,d,m){var _=c.stateNode;if(!_)throw Error(r(169));m?(c=Wh(c,d,Bl),_.__reactInternalMemoizedMergedChildContext=c,Ar(Gi),Ar(li),Or(li,c)):Ar(Gi),Or(Gi,m)}var os=null,Mc=!1,x=!1;function E(c){os===null?os=[c]:os.push(c)}function B(c){Mc=!0,E(c)}function V(){if(!x&&os!==null){x=!0;var c=0,d=pr;try{var m=os;for(pr=1;c<m.length;c++){var _=m[c];do _=_(!0);while(_!==null)}os=null,Mc=!1}catch(R){throw os!==null&&(os=os.slice(c+1)),fl(du,V),R}finally{pr=d,x=!1}}return null}var Z=[],ne=0,ie=null,ae=0,oe=[],de=0,xe=null,Ce=1,he="";function Se(c,d){Z[ne++]=ae,Z[ne++]=ie,ie=c,ae=d}function je(c,d,m){oe[de++]=Ce,oe[de++]=he,oe[de++]=xe,xe=c;var _=Ce;c=he;var R=32-bi(_)-1;_&=~(1<<R),m+=1;var W=32-bi(d)+R;if(30<W){var re=R-R%5;W=(_&(1<<re)-1).toString(32),_>>=re,R-=re,Ce=1<<32-bi(d)+R|m<<R|_,he=W+c}else Ce=1<<W|m<<R|_,he=c}function Fe(c){c.return!==null&&(Se(c,1),je(c,1,0))}function Te(c){for(;c===ie;)ie=Z[--ne],Z[ne]=null,ae=Z[--ne],Z[ne]=null;for(;c===xe;)xe=oe[--de],oe[de]=null,he=oe[--de],oe[de]=null,Ce=oe[--de],oe[de]=null}var Re=null,Me=null,We=!1,He=null;function Et(c,d){var m=To(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=c,d=c.deletions,d===null?(c.deletions=[m],c.flags|=16):d.push(m)}function gt(c,d){switch(c.tag){case 5:var m=c.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,Re=c,Me=Ii(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,Re=c,Me=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=xe!==null?{id:Ce,overflow:he}:null,c.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=To(18,null,null,0),m.stateNode=d,m.return=c,c.child=m,Re=c,Me=null,!0):!1;default:return!1}}function Jt(c){return(c.mode&1)!==0&&(c.flags&128)===0}function xt(c){if(We){var d=Me;if(d){var m=d;if(!gt(c,d)){if(Jt(c))throw Error(r(418));d=Ii(m.nextSibling);var _=Re;d&&gt(c,d)?Et(_,m):(c.flags=c.flags&-4097|2,We=!1,Re=c)}}else{if(Jt(c))throw Error(r(418));c.flags=c.flags&-4097|2,We=!1,Re=c}}}function ur(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Re=c}function dn(c){if(c!==Re)return!1;if(!We)return ur(c),We=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!$h(c.type,c.memoizedProps)),d&&(d=Me)){if(Jt(c))throw Zt(),Error(r(418));for(;d;)Et(c,d),d=Ii(d.nextSibling)}if(ur(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"){if(d===0){Me=Ii(c.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}c=c.nextSibling}Me=null}}else Me=Re?Ii(c.stateNode.nextSibling):null;return!0}function Zt(){for(var c=Me;c;)c=Ii(c.nextSibling)}function mt(){Me=Re=null,We=!1}function ot(c){He===null?He=[c]:He.push(c)}var An=k.ReactCurrentBatchConfig;function zt(c,d,m){if(c=m.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var _=m.stateNode}if(!_)throw Error(r(147,c));var R=_,W=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===W?d.ref:(d=function(re){var ye=R.refs;re===null?delete ye[W]:ye[W]=re},d._stringRef=W,d)}if(typeof c!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,c))}return c}function or(c,d){throw c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function zr(c){var d=c._init;return d(c._payload)}function Zn(c){function d(Ne,Pe){if(c){var Le=Ne.deletions;Le===null?(Ne.deletions=[Pe],Ne.flags|=16):Le.push(Pe)}}function m(Ne,Pe){if(!c)return null;for(;Pe!==null;)d(Ne,Pe),Pe=Pe.sibling;return null}function _(Ne,Pe){for(Ne=new Map;Pe!==null;)Pe.key!==null?Ne.set(Pe.key,Pe):Ne.set(Pe.index,Pe),Pe=Pe.sibling;return Ne}function R(Ne,Pe){return Ne=Uu(Ne,Pe),Ne.index=0,Ne.sibling=null,Ne}function W(Ne,Pe,Le){return Ne.index=Le,c?(Le=Ne.alternate,Le!==null?(Le=Le.index,Le<Pe?(Ne.flags|=2,Pe):Le):(Ne.flags|=2,Pe)):(Ne.flags|=1048576,Pe)}function re(Ne){return c&&Ne.alternate===null&&(Ne.flags|=2),Ne}function ye(Ne,Pe,Le,nt){return Pe===null||Pe.tag!==6?(Pe=c1(Le,Ne.mode,nt),Pe.return=Ne,Pe):(Pe=R(Pe,Le),Pe.return=Ne,Pe)}function _e(Ne,Pe,Le,nt){var Ot=Le.type;return Ot===M?Xe(Ne,Pe,Le.props.children,nt,Le.key):Pe!==null&&(Pe.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===z&&zr(Ot)===Pe.type)?(nt=R(Pe,Le.props),nt.ref=zt(Ne,Pe,Le),nt.return=Ne,nt):(nt=hm(Le.type,Le.key,Le.props,null,Ne.mode,nt),nt.ref=zt(Ne,Pe,Le),nt.return=Ne,nt)}function Ie(Ne,Pe,Le,nt){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Le.containerInfo||Pe.stateNode.implementation!==Le.implementation?(Pe=f1(Le,Ne.mode,nt),Pe.return=Ne,Pe):(Pe=R(Pe,Le.children||[]),Pe.return=Ne,Pe)}function Xe(Ne,Pe,Le,nt,Ot){return Pe===null||Pe.tag!==7?(Pe=Wc(Le,Ne.mode,nt,Ot),Pe.return=Ne,Pe):(Pe=R(Pe,Le),Pe.return=Ne,Pe)}function et(Ne,Pe,Le){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Pe=c1(""+Pe,Ne.mode,Le),Pe.return=Ne,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case j:return Le=hm(Pe.type,Pe.key,Pe.props,null,Ne.mode,Le),Le.ref=zt(Ne,null,Pe),Le.return=Ne,Le;case O:return Pe=f1(Pe,Ne.mode,Le),Pe.return=Ne,Pe;case z:var nt=Pe._init;return et(Ne,nt(Pe._payload),Le)}if(tt(Pe)||K(Pe))return Pe=Wc(Pe,Ne.mode,Le,null),Pe.return=Ne,Pe;or(Ne,Pe)}return null}function Ke(Ne,Pe,Le,nt){var Ot=Pe!==null?Pe.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Ot!==null?null:ye(Ne,Pe,""+Le,nt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case j:return Le.key===Ot?_e(Ne,Pe,Le,nt):null;case O:return Le.key===Ot?Ie(Ne,Pe,Le,nt):null;case z:return Ot=Le._init,Ke(Ne,Pe,Ot(Le._payload),nt)}if(tt(Le)||K(Le))return Ot!==null?null:Xe(Ne,Pe,Le,nt,null);or(Ne,Le)}return null}function ht(Ne,Pe,Le,nt,Ot){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return Ne=Ne.get(Le)||null,ye(Pe,Ne,""+nt,Ot);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case j:return Ne=Ne.get(nt.key===null?Le:nt.key)||null,_e(Pe,Ne,nt,Ot);case O:return Ne=Ne.get(nt.key===null?Le:nt.key)||null,Ie(Pe,Ne,nt,Ot);case z:var Ft=nt._init;return ht(Ne,Pe,Le,Ft(nt._payload),Ot)}if(tt(nt)||K(nt))return Ne=Ne.get(Le)||null,Xe(Pe,Ne,nt,Ot,null);or(Pe,nt)}return null}function _t(Ne,Pe,Le,nt){for(var Ot=null,Ft=null,Bt=Pe,Kt=Pe=0,ki=null;Bt!==null&&Kt<Le.length;Kt++){Bt.index>Kt?(ki=Bt,Bt=null):ki=Bt.sibling;var wr=Ke(Ne,Bt,Le[Kt],nt);if(wr===null){Bt===null&&(Bt=ki);break}c&&Bt&&wr.alternate===null&&d(Ne,Bt),Pe=W(wr,Pe,Kt),Ft===null?Ot=wr:Ft.sibling=wr,Ft=wr,Bt=ki}if(Kt===Le.length)return m(Ne,Bt),We&&Se(Ne,Kt),Ot;if(Bt===null){for(;Kt<Le.length;Kt++)Bt=et(Ne,Le[Kt],nt),Bt!==null&&(Pe=W(Bt,Pe,Kt),Ft===null?Ot=Bt:Ft.sibling=Bt,Ft=Bt);return We&&Se(Ne,Kt),Ot}for(Bt=_(Ne,Bt);Kt<Le.length;Kt++)ki=ht(Bt,Ne,Kt,Le[Kt],nt),ki!==null&&(c&&ki.alternate!==null&&Bt.delete(ki.key===null?Kt:ki.key),Pe=W(ki,Pe,Kt),Ft===null?Ot=ki:Ft.sibling=ki,Ft=ki);return c&&Bt.forEach(function(qu){return d(Ne,qu)}),We&&Se(Ne,Kt),Ot}function At(Ne,Pe,Le,nt){var Ot=K(Le);if(typeof Ot!="function")throw Error(r(150));if(Le=Ot.call(Le),Le==null)throw Error(r(151));for(var Ft=Ot=null,Bt=Pe,Kt=Pe=0,ki=null,wr=Le.next();Bt!==null&&!wr.done;Kt++,wr=Le.next()){Bt.index>Kt?(ki=Bt,Bt=null):ki=Bt.sibling;var qu=Ke(Ne,Bt,wr.value,nt);if(qu===null){Bt===null&&(Bt=ki);break}c&&Bt&&qu.alternate===null&&d(Ne,Bt),Pe=W(qu,Pe,Kt),Ft===null?Ot=qu:Ft.sibling=qu,Ft=qu,Bt=ki}if(wr.done)return m(Ne,Bt),We&&Se(Ne,Kt),Ot;if(Bt===null){for(;!wr.done;Kt++,wr=Le.next())wr=et(Ne,wr.value,nt),wr!==null&&(Pe=W(wr,Pe,Kt),Ft===null?Ot=wr:Ft.sibling=wr,Ft=wr);return We&&Se(Ne,Kt),Ot}for(Bt=_(Ne,Bt);!wr.done;Kt++,wr=Le.next())wr=ht(Bt,Ne,Kt,wr.value,nt),wr!==null&&(c&&wr.alternate!==null&&Bt.delete(wr.key===null?Kt:wr.key),Pe=W(wr,Pe,Kt),Ft===null?Ot=wr:Ft.sibling=wr,Ft=wr);return c&&Bt.forEach(function(rF){return d(Ne,rF)}),We&&Se(Ne,Kt),Ot}function Vn(Ne,Pe,Le,nt){if(typeof Le=="object"&&Le!==null&&Le.type===M&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case j:e:{for(var Ot=Le.key,Ft=Pe;Ft!==null;){if(Ft.key===Ot){if(Ot=Le.type,Ot===M){if(Ft.tag===7){m(Ne,Ft.sibling),Pe=R(Ft,Le.props.children),Pe.return=Ne,Ne=Pe;break e}}else if(Ft.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===z&&zr(Ot)===Ft.type){m(Ne,Ft.sibling),Pe=R(Ft,Le.props),Pe.ref=zt(Ne,Ft,Le),Pe.return=Ne,Ne=Pe;break e}m(Ne,Ft);break}else d(Ne,Ft);Ft=Ft.sibling}Le.type===M?(Pe=Wc(Le.props.children,Ne.mode,nt,Le.key),Pe.return=Ne,Ne=Pe):(nt=hm(Le.type,Le.key,Le.props,null,Ne.mode,nt),nt.ref=zt(Ne,Pe,Le),nt.return=Ne,Ne=nt)}return re(Ne);case O:e:{for(Ft=Le.key;Pe!==null;){if(Pe.key===Ft)if(Pe.tag===4&&Pe.stateNode.containerInfo===Le.containerInfo&&Pe.stateNode.implementation===Le.implementation){m(Ne,Pe.sibling),Pe=R(Pe,Le.children||[]),Pe.return=Ne,Ne=Pe;break e}else{m(Ne,Pe);break}else d(Ne,Pe);Pe=Pe.sibling}Pe=f1(Le,Ne.mode,nt),Pe.return=Ne,Ne=Pe}return re(Ne);case z:return Ft=Le._init,Vn(Ne,Pe,Ft(Le._payload),nt)}if(tt(Le))return _t(Ne,Pe,Le,nt);if(K(Le))return At(Ne,Pe,Le,nt);or(Ne,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"?(Le=""+Le,Pe!==null&&Pe.tag===6?(m(Ne,Pe.sibling),Pe=R(Pe,Le),Pe.return=Ne,Ne=Pe):(m(Ne,Pe),Pe=c1(Le,Ne.mode,nt),Pe.return=Ne,Ne=Pe),re(Ne)):m(Ne,Pe)}return Vn}var Dn=Zn(!0),nn=Zn(!1),Wn=eo(null),Qn=null,Xr=null,fr=null;function vr(){fr=Xr=Qn=null}function Jr(c){var d=Wn.current;Ar(Wn),c._currentValue=d}function yr(c,d,m){for(;c!==null;){var _=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,_!==null&&(_.childLanes|=d)):_!==null&&(_.childLanes&d)!==d&&(_.childLanes|=d),c===m)break;c=c.return}}function hn(c,d){Qn=c,fr=Xr=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&d)!==0&&(Ra=!0),c.firstContext=null)}function pn(c){var d=c._currentValue;if(fr!==c)if(c={context:c,memoizedValue:d,next:null},Xr===null){if(Qn===null)throw Error(r(308));Xr=c,Qn.dependencies={lanes:0,firstContext:c}}else Xr=Xr.next=c;return d}var Rr=null;function Si(c){Rr===null?Rr=[c]:Rr.push(c)}function jr(c,d,m,_){var R=d.interleaved;return R===null?(m.next=m,Si(d)):(m.next=R.next,R.next=m),d.interleaved=m,Mr(c,_)}function Mr(c,d){c.lanes|=d;var m=c.alternate;for(m!==null&&(m.lanes|=d),m=c,c=c.return;c!==null;)c.childLanes|=d,m=c.alternate,m!==null&&(m.childLanes|=d),m=c,c=c.return;return m.tag===3?m.stateNode:null}var Fn=!1;function ui(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yi(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Pn(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function En(c,d,m){var _=c.updateQueue;if(_===null)return null;if(_=_.shared,(br&2)!==0){var R=_.pending;return R===null?d.next=d:(d.next=R.next,R.next=d),_.pending=d,Mr(c,m)}return R=_.interleaved,R===null?(d.next=d,Si(_)):(d.next=R.next,R.next=d),_.interleaved=d,Mr(c,m)}function Ai(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var _=d.lanes;_&=c.pendingLanes,m|=_,d.lanes=m,pu(c,m)}}function Dr(c,d){var m=c.updateQueue,_=c.alternate;if(_!==null&&(_=_.updateQueue,m===_)){var R=null,W=null;if(m=m.firstBaseUpdate,m!==null){do{var re={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};W===null?R=W=re:W=W.next=re,m=m.next}while(m!==null);W===null?R=W=d:W=W.next=d}else R=W=d;m={baseState:_.baseState,firstBaseUpdate:R,lastBaseUpdate:W,shared:_.shared,effects:_.effects},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}function Pi(c,d,m,_){var R=c.updateQueue;Fn=!1;var W=R.firstBaseUpdate,re=R.lastBaseUpdate,ye=R.shared.pending;if(ye!==null){R.shared.pending=null;var _e=ye,Ie=_e.next;_e.next=null,re===null?W=Ie:re.next=Ie,re=_e;var Xe=c.alternate;Xe!==null&&(Xe=Xe.updateQueue,ye=Xe.lastBaseUpdate,ye!==re&&(ye===null?Xe.firstBaseUpdate=Ie:ye.next=Ie,Xe.lastBaseUpdate=_e))}if(W!==null){var et=R.baseState;re=0,Xe=Ie=_e=null,ye=W;do{var Ke=ye.lane,ht=ye.eventTime;if((_&Ke)===Ke){Xe!==null&&(Xe=Xe.next={eventTime:ht,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var _t=c,At=ye;switch(Ke=d,ht=m,At.tag){case 1:if(_t=At.payload,typeof _t=="function"){et=_t.call(ht,et,Ke);break e}et=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=At.payload,Ke=typeof _t=="function"?_t.call(ht,et,Ke):_t,Ke==null)break e;et=te({},et,Ke);break e;case 2:Fn=!0}}ye.callback!==null&&ye.lane!==0&&(c.flags|=64,Ke=R.effects,Ke===null?R.effects=[ye]:Ke.push(ye))}else ht={eventTime:ht,lane:Ke,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Xe===null?(Ie=Xe=ht,_e=et):Xe=Xe.next=ht,re|=Ke;if(ye=ye.next,ye===null){if(ye=R.shared.pending,ye===null)break;Ke=ye,ye=Ke.next,Ke.next=null,R.lastBaseUpdate=Ke,R.shared.pending=null}}while(!0);if(Xe===null&&(_e=et),R.baseState=_e,R.firstBaseUpdate=Ie,R.lastBaseUpdate=Xe,d=R.shared.interleaved,d!==null){R=d;do re|=R.lane,R=R.next;while(R!==d)}else W===null&&(R.shared.lanes=0);$c|=re,c.lanes=re,c.memoizedState=et}}function Ia(c,d,m){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var _=c[d],R=_.callback;if(R!==null){if(_.callback=null,_=m,typeof R!="function")throw Error(r(191,R));R.call(_)}}}var to={},ei=eo(to),kn=eo(to),Hs=eo(to);function ss(c){if(c===to)throw Error(r(174));return c}function Tu(c,d){switch(Or(Hs,d),Or(kn,c),Or(ei,to),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:nr(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=nr(d,c)}Ar(ei),Or(ei,d)}function Oo(){Ar(ei),Ar(kn),Ar(Hs)}function Kg(c){ss(Hs.current);var d=ss(ei.current),m=nr(d,c.type);d!==m&&(Or(kn,c),Or(ei,m))}function Hh(c){kn.current===c&&(Ar(ei),Ar(kn))}var Vr=eo(0);function ro(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Vh=[];function Gh(){for(var c=0;c<Vh.length;c++)Vh[c]._workInProgressVersionPrimary=null;Vh.length=0}var ed=k.ReactCurrentDispatcher,td=k.ReactCurrentBatchConfig,jo=0,Zr=null,Bn=null,On=null,Lu=!1,ls=!1,Iu=0,My=0;function Hn(){throw Error(r(321))}function rd(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!cn(c[m],d[m]))return!1;return!0}function Dc(c,d,m,_,R,W){if(jo=W,Zr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,ed.current=c===null||c.memoizedState===null?OD:jD,c=m(_,R),ls){W=0;do{if(ls=!1,Iu=0,25<=W)throw Error(r(301));W+=1,On=Bn=null,d.updateQueue=null,ed.current=CD,c=m(_,R)}while(ls)}if(ed.current=Qg,d=Bn!==null&&Bn.next!==null,jo=0,On=Bn=Zr=null,Lu=!1,d)throw Error(r(300));return c}function Co(){var c=Iu!==0;return Iu=0,c}function no(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Zr.memoizedState=On=c:On=On.next=c,On}function ma(){if(Bn===null){var c=Zr.alternate;c=c!==null?c.memoizedState:null}else c=Bn.next;var d=On===null?Zr.memoizedState:On.next;if(d!==null)On=d,Bn=c;else{if(c===null)throw Error(r(310));Bn=c,c={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},On===null?Zr.memoizedState=On=c:On=On.next=c}return On}function Fc(c,d){return typeof d=="function"?d(c):d}function nd(c){var d=ma(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var _=Bn,R=_.baseQueue,W=m.pending;if(W!==null){if(R!==null){var re=R.next;R.next=W.next,W.next=re}_.baseQueue=R=W,m.pending=null}if(R!==null){W=R.next,_=_.baseState;var ye=re=null,_e=null,Ie=W;do{var Xe=Ie.lane;if((jo&Xe)===Xe)_e!==null&&(_e=_e.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),_=Ie.hasEagerState?Ie.eagerState:c(_,Ie.action);else{var et={lane:Xe,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};_e===null?(ye=_e=et,re=_):_e=_e.next=et,Zr.lanes|=Xe,$c|=Xe}Ie=Ie.next}while(Ie!==null&&Ie!==W);_e===null?re=_:_e.next=ye,cn(_,d.memoizedState)||(Ra=!0),d.memoizedState=_,d.baseState=re,d.baseQueue=_e,m.lastRenderedState=_}if(c=m.interleaved,c!==null){R=c;do W=R.lane,Zr.lanes|=W,$c|=W,R=R.next;while(R!==c)}else R===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function Vs(c){var d=ma(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var _=m.dispatch,R=m.pending,W=d.memoizedState;if(R!==null){m.pending=null;var re=R=R.next;do W=c(W,re.action),re=re.next;while(re!==R);cn(W,d.memoizedState)||(Ra=!0),d.memoizedState=W,d.baseQueue===null&&(d.baseState=W),m.lastRenderedState=W}return[W,_]}function Yg(){}function Kh(c,d){var m=Zr,_=ma(),R=d(),W=!cn(_.memoizedState,R);if(W&&(_.memoizedState=R,Ra=!0),_=_.queue,od(Jg.bind(null,m,_,c),[c]),_.getSnapshot!==d||W||On!==null&&On.memoizedState.tag&1){if(m.flags|=2048,va(9,Yh.bind(null,m,_,R,d),void 0,null),Ei===null)throw Error(r(349));(jo&30)!==0||Xg(m,d,R)}return R}function Xg(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Zr.updateQueue,d===null?(d={lastEffect:null,stores:null},Zr.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function Yh(c,d,m,_){d.value=m,d.getSnapshot=_,Ru(d)&&id(c)}function Jg(c,d,m){return m(function(){Ru(d)&&id(c)})}function Ru(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!cn(c,m)}catch{return!0}}function id(c){var d=Mr(c,1);d!==null&&hs(d,c,1,-1)}function Bc(c){var d=no();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:c},d.queue=c,c=c.dispatch=kD.bind(null,Zr,c),[d.memoizedState,c]}function va(c,d,m,_){return c={tag:c,create:d,destroy:m,deps:_,next:null},d=Zr.updateQueue,d===null?(d={lastEffect:null,stores:null},Zr.updateQueue=d,d.lastEffect=c.next=c):(m=d.lastEffect,m===null?d.lastEffect=c.next=c:(_=m.next,m.next=c,c.next=_,d.lastEffect=c)),c}function us(){return ma().memoizedState}function io(c,d,m,_){var R=no();Zr.flags|=c,R.memoizedState=va(1|d,m,void 0,_===void 0?null:_)}function Ul(c,d,m,_){var R=ma();_=_===void 0?null:_;var W=void 0;if(Bn!==null){var re=Bn.memoizedState;if(W=re.destroy,_!==null&&rd(_,re.deps)){R.memoizedState=va(d,m,W,_);return}}Zr.flags|=c,R.memoizedState=va(1|d,m,W,_)}function ad(c,d){return io(8390656,8,c,d)}function od(c,d){return Ul(2048,8,c,d)}function Zg(c,d){return Ul(4,2,c,d)}function sd(c,d){return Ul(4,4,c,d)}function ld(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function a3(c,d,m){return m=m!=null?m.concat([c]):null,Ul(4,4,ld.bind(null,d,c),m)}function Dy(){}function o3(c,d){var m=ma();d=d===void 0?null:d;var _=m.memoizedState;return _!==null&&d!==null&&rd(d,_[1])?_[0]:(m.memoizedState=[c,d],c)}function s3(c,d){var m=ma();d=d===void 0?null:d;var _=m.memoizedState;return _!==null&&d!==null&&rd(d,_[1])?_[0]:(c=c(),m.memoizedState=[c,d],c)}function l3(c,d,m){return(jo&21)===0?(c.baseState&&(c.baseState=!1,Ra=!0),c.memoizedState=m):(cn(m,d)||(m=$f(),Zr.lanes|=m,$c|=m,c.baseState=!0),d)}function PD(c,d){var m=pr;pr=m!==0&&4>m?m:4,c(!0);var _=td.transition;td.transition={};try{c(!1),d()}finally{pr=m,td.transition=_}}function u3(){return ma().memoizedState}function ED(c,d,m){var _=Bu(c);if(m={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null},c3(c))f3(d,m);else if(m=jr(c,d,m,_),m!==null){var R=ba();hs(m,c,_,R),d3(m,d,_)}}function kD(c,d,m){var _=Bu(c),R={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null};if(c3(c))f3(d,R);else{var W=c.alternate;if(c.lanes===0&&(W===null||W.lanes===0)&&(W=d.lastRenderedReducer,W!==null))try{var re=d.lastRenderedState,ye=W(re,m);if(R.hasEagerState=!0,R.eagerState=ye,cn(ye,re)){var _e=d.interleaved;_e===null?(R.next=R,Si(d)):(R.next=_e.next,_e.next=R),d.interleaved=R;return}}catch{}finally{}m=jr(c,d,R,_),m!==null&&(R=ba(),hs(m,c,_,R),d3(m,d,_))}}function c3(c){var d=c.alternate;return c===Zr||d!==null&&d===Zr}function f3(c,d){ls=Lu=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function d3(c,d,m){if((m&4194240)!==0){var _=d.lanes;_&=c.pendingLanes,m|=_,d.lanes=m,pu(c,m)}}var Qg={readContext:pn,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},OD={readContext:pn,useCallback:function(c,d){return no().memoizedState=[c,d===void 0?null:d],c},useContext:pn,useEffect:ad,useImperativeHandle:function(c,d,m){return m=m!=null?m.concat([c]):null,io(4194308,4,ld.bind(null,d,c),m)},useLayoutEffect:function(c,d){return io(4194308,4,c,d)},useInsertionEffect:function(c,d){return io(4,2,c,d)},useMemo:function(c,d){var m=no();return d=d===void 0?null:d,c=c(),m.memoizedState=[c,d],c},useReducer:function(c,d,m){var _=no();return d=m!==void 0?m(d):d,_.memoizedState=_.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},_.queue=c,c=c.dispatch=ED.bind(null,Zr,c),[_.memoizedState,c]},useRef:function(c){var d=no();return c={current:c},d.memoizedState=c},useState:Bc,useDebugValue:Dy,useDeferredValue:function(c){return no().memoizedState=c},useTransition:function(){var c=Bc(!1),d=c[0];return c=PD.bind(null,c[1]),no().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,m){var _=Zr,R=no();if(We){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),Ei===null)throw Error(r(349));(jo&30)!==0||Xg(_,d,m)}R.memoizedState=m;var W={value:m,getSnapshot:d};return R.queue=W,ad(Jg.bind(null,_,W,c),[c]),_.flags|=2048,va(9,Yh.bind(null,_,W,m,d),void 0,null),m},useId:function(){var c=no(),d=Ei.identifierPrefix;if(We){var m=he,_=Ce;m=(_&~(1<<32-bi(_)-1)).toString(32)+m,d=":"+d+"R"+m,m=Iu++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=My++,d=":"+d+"r"+m.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},jD={readContext:pn,useCallback:o3,useContext:pn,useEffect:od,useImperativeHandle:a3,useInsertionEffect:Zg,useLayoutEffect:sd,useMemo:s3,useReducer:nd,useRef:us,useState:function(){return nd(Fc)},useDebugValue:Dy,useDeferredValue:function(c){var d=ma();return l3(d,Bn.memoizedState,c)},useTransition:function(){var c=nd(Fc)[0],d=ma().memoizedState;return[c,d]},useMutableSource:Yg,useSyncExternalStore:Kh,useId:u3,unstable_isNewReconciler:!1},CD={readContext:pn,useCallback:o3,useContext:pn,useEffect:od,useImperativeHandle:a3,useInsertionEffect:Zg,useLayoutEffect:sd,useMemo:s3,useReducer:Vs,useRef:us,useState:function(){return Vs(Fc)},useDebugValue:Dy,useDeferredValue:function(c){var d=ma();return Bn===null?d.memoizedState=c:l3(d,Bn.memoizedState,c)},useTransition:function(){var c=Vs(Fc)[0],d=ma().memoizedState;return[c,d]},useMutableSource:Yg,useSyncExternalStore:Kh,useId:u3,unstable_isNewReconciler:!1};function cs(c,d){if(c&&c.defaultProps){d=te({},d),c=c.defaultProps;for(var m in c)d[m]===void 0&&(d[m]=c[m]);return d}return d}function Fy(c,d,m,_){d=c.memoizedState,m=m(_,d),m=m==null?d:te({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var em={isMounted:function(c){return(c=c._reactInternals)?oi(c)===c:!1},enqueueSetState:function(c,d,m){c=c._reactInternals;var _=ba(),R=Bu(c),W=Pn(_,R);W.payload=d,m!=null&&(W.callback=m),d=En(c,W,R),d!==null&&(hs(d,c,R,_),Ai(d,c,R))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var _=ba(),R=Bu(c),W=Pn(_,R);W.tag=1,W.payload=d,m!=null&&(W.callback=m),d=En(c,W,R),d!==null&&(hs(d,c,R,_),Ai(d,c,R))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=ba(),_=Bu(c),R=Pn(m,_);R.tag=2,d!=null&&(R.callback=d),d=En(c,R,_),d!==null&&(hs(d,c,_,m),Ai(d,c,_))}};function h3(c,d,m,_,R,W,re){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(_,W,re):d.prototype&&d.prototype.isPureReactComponent?!Wi(m,_)||!Wi(R,W):!0}function p3(c,d,m){var _=!1,R=Ws,W=d.contextType;return typeof W=="object"&&W!==null?W=pn(W):(R=Ki(d)?Bl:li.current,_=d.contextTypes,W=(_=_!=null)?Nu(c,R):Ws),d=new d(m,W),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=em,c.stateNode=d,d._reactInternals=c,_&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=R,c.__reactInternalMemoizedMaskedChildContext=W),d}function g3(c,d,m,_){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,_),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,_),d.state!==c&&em.enqueueReplaceState(d,d.state,null)}function By(c,d,m,_){var R=c.stateNode;R.props=m,R.state=c.memoizedState,R.refs={},ui(c);var W=d.contextType;typeof W=="object"&&W!==null?R.context=pn(W):(W=Ki(d)?Bl:li.current,R.context=Nu(c,W)),R.state=c.memoizedState,W=d.getDerivedStateFromProps,typeof W=="function"&&(Fy(c,d,W,m),R.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(d=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),d!==R.state&&em.enqueueReplaceState(R,R.state,null),Pi(c,m,R,_),R.state=c.memoizedState),typeof R.componentDidMount=="function"&&(c.flags|=4194308)}function ud(c,d){try{var m="",_=d;do m+=ee(_),_=_.return;while(_);var R=m}catch(W){R=`
Error generating stack: `+W.message+`
`+W.stack}return{value:c,source:d,stack:R,digest:null}}function $y(c,d,m){return{value:c,source:null,stack:m??null,digest:d??null}}function Uy(c,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var ND=typeof WeakMap=="function"?WeakMap:Map;function m3(c,d,m){m=Pn(-1,m),m.tag=3,m.payload={element:null};var _=d.value;return m.callback=function(){sm||(sm=!0,r1=_),Uy(c,d)},m}function v3(c,d,m){m=Pn(-1,m),m.tag=3;var _=c.type.getDerivedStateFromError;if(typeof _=="function"){var R=d.value;m.payload=function(){return _(R)},m.callback=function(){Uy(c,d)}}var W=c.stateNode;return W!==null&&typeof W.componentDidCatch=="function"&&(m.callback=function(){Uy(c,d),typeof _!="function"&&(Du===null?Du=new Set([this]):Du.add(this));var re=d.stack;this.componentDidCatch(d.value,{componentStack:re!==null?re:""})}),m}function y3(c,d,m){var _=c.pingCache;if(_===null){_=c.pingCache=new ND;var R=new Set;_.set(d,R)}else R=_.get(d),R===void 0&&(R=new Set,_.set(d,R));R.has(m)||(R.add(m),c=HD.bind(null,c,d,m),d.then(c,c))}function b3(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function w3(c,d,m,_,R){return(c.mode&1)===0?(c===d?c.flags|=65536:(c.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=Pn(-1,1),d.tag=2,En(m,d,1))),m.lanes|=1),c):(c.flags|=65536,c.lanes=R,c)}var TD=k.ReactCurrentOwner,Ra=!1;function ya(c,d,m,_){d.child=c===null?nn(d,null,m,_):Dn(d,c.child,m,_)}function x3(c,d,m,_,R){m=m.render;var W=d.ref;return hn(d,R),_=Dc(c,d,m,_,W,R),m=Co(),c!==null&&!Ra?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,ql(c,d,R)):(We&&m&&Fe(d),d.flags|=1,ya(c,d,_,R),d.child)}function _3(c,d,m,_,R){if(c===null){var W=m.type;return typeof W=="function"&&!u1(W)&&W.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=W,S3(c,d,W,_,R)):(c=hm(m.type,null,_,d,d.mode,R),c.ref=d.ref,c.return=d,d.child=c)}if(W=c.child,(c.lanes&R)===0){var re=W.memoizedProps;if(m=m.compare,m=m!==null?m:Wi,m(re,_)&&c.ref===d.ref)return ql(c,d,R)}return d.flags|=1,c=Uu(W,_),c.ref=d.ref,c.return=d,d.child=c}function S3(c,d,m,_,R){if(c!==null){var W=c.memoizedProps;if(Wi(W,_)&&c.ref===d.ref)if(Ra=!1,d.pendingProps=_=W,(c.lanes&R)!==0)(c.flags&131072)!==0&&(Ra=!0);else return d.lanes=c.lanes,ql(c,d,R)}return qy(c,d,m,_,R)}function A3(c,d,m){var _=d.pendingProps,R=_.children,W=c!==null?c.memoizedState:null;if(_.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(fd,ao),ao|=m;else{if((m&1073741824)===0)return c=W!==null?W.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,Or(fd,ao),ao|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=W!==null?W.baseLanes:m,Or(fd,ao),ao|=_}else W!==null?(_=W.baseLanes|m,d.memoizedState=null):_=m,Or(fd,ao),ao|=_;return ya(c,d,R,m),d.child}function P3(c,d){var m=d.ref;(c===null&&m!==null||c!==null&&c.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function qy(c,d,m,_,R){var W=Ki(m)?Bl:li.current;return W=Nu(d,W),hn(d,R),m=Dc(c,d,m,_,W,R),_=Co(),c!==null&&!Ra?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~R,ql(c,d,R)):(We&&_&&Fe(d),d.flags|=1,ya(c,d,m,R),d.child)}function E3(c,d,m,_,R){if(Ki(m)){var W=!0;$l(d)}else W=!1;if(hn(d,R),d.stateNode===null)rm(c,d),p3(d,m,_),By(d,m,_,R),_=!0;else if(c===null){var re=d.stateNode,ye=d.memoizedProps;re.props=ye;var _e=re.context,Ie=m.contextType;typeof Ie=="object"&&Ie!==null?Ie=pn(Ie):(Ie=Ki(m)?Bl:li.current,Ie=Nu(d,Ie));var Xe=m.getDerivedStateFromProps,et=typeof Xe=="function"||typeof re.getSnapshotBeforeUpdate=="function";et||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ye!==_||_e!==Ie)&&g3(d,re,_,Ie),Fn=!1;var Ke=d.memoizedState;re.state=Ke,Pi(d,_,re,R),_e=d.memoizedState,ye!==_||Ke!==_e||Gi.current||Fn?(typeof Xe=="function"&&(Fy(d,m,Xe,_),_e=d.memoizedState),(ye=Fn||h3(d,m,ye,_,Ke,_e,Ie))?(et||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(d.flags|=4194308)):(typeof re.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=_,d.memoizedState=_e),re.props=_,re.state=_e,re.context=Ie,_=ye):(typeof re.componentDidMount=="function"&&(d.flags|=4194308),_=!1)}else{re=d.stateNode,Yi(c,d),ye=d.memoizedProps,Ie=d.type===d.elementType?ye:cs(d.type,ye),re.props=Ie,et=d.pendingProps,Ke=re.context,_e=m.contextType,typeof _e=="object"&&_e!==null?_e=pn(_e):(_e=Ki(m)?Bl:li.current,_e=Nu(d,_e));var ht=m.getDerivedStateFromProps;(Xe=typeof ht=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(ye!==et||Ke!==_e)&&g3(d,re,_,_e),Fn=!1,Ke=d.memoizedState,re.state=Ke,Pi(d,_,re,R);var _t=d.memoizedState;ye!==et||Ke!==_t||Gi.current||Fn?(typeof ht=="function"&&(Fy(d,m,ht,_),_t=d.memoizedState),(Ie=Fn||h3(d,m,Ie,_,Ke,_t,_e)||!1)?(Xe||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(_,_t,_e),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(_,_t,_e)),typeof re.componentDidUpdate=="function"&&(d.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof re.componentDidUpdate!="function"||ye===c.memoizedProps&&Ke===c.memoizedState||(d.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ye===c.memoizedProps&&Ke===c.memoizedState||(d.flags|=1024),d.memoizedProps=_,d.memoizedState=_t),re.props=_,re.state=_t,re.context=_e,_=Ie):(typeof re.componentDidUpdate!="function"||ye===c.memoizedProps&&Ke===c.memoizedState||(d.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||ye===c.memoizedProps&&Ke===c.memoizedState||(d.flags|=1024),_=!1)}return zy(c,d,m,_,W,R)}function zy(c,d,m,_,R,W){P3(c,d);var re=(d.flags&128)!==0;if(!_&&!re)return R&&Gg(d,m,!1),ql(c,d,W);_=d.stateNode,TD.current=d;var ye=re&&typeof m.getDerivedStateFromError!="function"?null:_.render();return d.flags|=1,c!==null&&re?(d.child=Dn(d,c.child,null,W),d.child=Dn(d,null,ye,W)):ya(c,d,ye,W),d.memoizedState=_.state,R&&Gg(d,m,!0),d.child}function k3(c){var d=c.stateNode;d.pendingContext?Vg(c,d.pendingContext,d.pendingContext!==d.context):d.context&&Vg(c,d.context,!1),Tu(c,d.containerInfo)}function O3(c,d,m,_,R){return mt(),ot(R),d.flags|=256,ya(c,d,m,_),d.child}var Wy={dehydrated:null,treeContext:null,retryLane:0};function Hy(c){return{baseLanes:c,cachePool:null,transitions:null}}function j3(c,d,m){var _=d.pendingProps,R=Vr.current,W=!1,re=(d.flags&128)!==0,ye;if((ye=re)||(ye=c!==null&&c.memoizedState===null?!1:(R&2)!==0),ye?(W=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(R|=1),Or(Vr,R&1),c===null)return xt(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((d.mode&1)===0?d.lanes=1:c.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(re=_.children,c=_.fallback,W?(_=d.mode,W=d.child,re={mode:"hidden",children:re},(_&1)===0&&W!==null?(W.childLanes=0,W.pendingProps=re):W=pm(re,_,0,null),c=Wc(c,_,m,null),W.return=d,c.return=d,W.sibling=c,d.child=W,d.child.memoizedState=Hy(m),d.memoizedState=Wy,c):Vy(d,re));if(R=c.memoizedState,R!==null&&(ye=R.dehydrated,ye!==null))return LD(c,d,re,_,ye,R,m);if(W){W=_.fallback,re=d.mode,R=c.child,ye=R.sibling;var _e={mode:"hidden",children:_.children};return(re&1)===0&&d.child!==R?(_=d.child,_.childLanes=0,_.pendingProps=_e,d.deletions=null):(_=Uu(R,_e),_.subtreeFlags=R.subtreeFlags&14680064),ye!==null?W=Uu(ye,W):(W=Wc(W,re,m,null),W.flags|=2),W.return=d,_.return=d,_.sibling=W,d.child=_,_=W,W=d.child,re=c.child.memoizedState,re=re===null?Hy(m):{baseLanes:re.baseLanes|m,cachePool:null,transitions:re.transitions},W.memoizedState=re,W.childLanes=c.childLanes&~m,d.memoizedState=Wy,_}return W=c.child,c=W.sibling,_=Uu(W,{mode:"visible",children:_.children}),(d.mode&1)===0&&(_.lanes=m),_.return=d,_.sibling=null,c!==null&&(m=d.deletions,m===null?(d.deletions=[c],d.flags|=16):m.push(c)),d.child=_,d.memoizedState=null,_}function Vy(c,d){return d=pm({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function tm(c,d,m,_){return _!==null&&ot(_),Dn(d,c.child,null,m),c=Vy(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function LD(c,d,m,_,R,W,re){if(m)return d.flags&256?(d.flags&=-257,_=$y(Error(r(422))),tm(c,d,re,_)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(W=_.fallback,R=d.mode,_=pm({mode:"visible",children:_.children},R,0,null),W=Wc(W,R,re,null),W.flags|=2,_.return=d,W.return=d,_.sibling=W,d.child=_,(d.mode&1)!==0&&Dn(d,c.child,null,re),d.child.memoizedState=Hy(re),d.memoizedState=Wy,W);if((d.mode&1)===0)return tm(c,d,re,null);if(R.data==="$!"){if(_=R.nextSibling&&R.nextSibling.dataset,_)var ye=_.dgst;return _=ye,W=Error(r(419)),_=$y(W,_,void 0),tm(c,d,re,_)}if(ye=(re&c.childLanes)!==0,Ra||ye){if(_=Ei,_!==null){switch(re&-re){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(_.suspendedLanes|re))!==0?0:R,R!==0&&R!==W.retryLane&&(W.retryLane=R,Mr(c,R),hs(_,c,R,-1))}return l1(),_=$y(Error(r(421))),tm(c,d,re,_)}return R.data==="$?"?(d.flags|=128,d.child=c.child,d=VD.bind(null,c),R._reactRetry=d,null):(c=W.treeContext,Me=Ii(R.nextSibling),Re=d,We=!0,He=null,c!==null&&(oe[de++]=Ce,oe[de++]=he,oe[de++]=xe,Ce=c.id,he=c.overflow,xe=d),d=Vy(d,_.children),d.flags|=4096,d)}function C3(c,d,m){c.lanes|=d;var _=c.alternate;_!==null&&(_.lanes|=d),yr(c.return,d,m)}function Gy(c,d,m,_,R){var W=c.memoizedState;W===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:R}:(W.isBackwards=d,W.rendering=null,W.renderingStartTime=0,W.last=_,W.tail=m,W.tailMode=R)}function N3(c,d,m){var _=d.pendingProps,R=_.revealOrder,W=_.tail;if(ya(c,d,_.children,m),_=Vr.current,(_&2)!==0)_=_&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&C3(c,m,d);else if(c.tag===19)C3(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}_&=1}if(Or(Vr,_),(d.mode&1)===0)d.memoizedState=null;else switch(R){case"forwards":for(m=d.child,R=null;m!==null;)c=m.alternate,c!==null&&ro(c)===null&&(R=m),m=m.sibling;m=R,m===null?(R=d.child,d.child=null):(R=m.sibling,m.sibling=null),Gy(d,!1,R,m,W);break;case"backwards":for(m=null,R=d.child,d.child=null;R!==null;){if(c=R.alternate,c!==null&&ro(c)===null){d.child=R;break}c=R.sibling,R.sibling=m,m=R,R=c}Gy(d,!0,m,null,W);break;case"together":Gy(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function rm(c,d){(d.mode&1)===0&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function ql(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),$c|=d.lanes,(m&d.childLanes)===0)return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,m=Uu(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=Uu(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function ID(c,d,m){switch(d.tag){case 3:k3(d),mt();break;case 5:Kg(d);break;case 1:Ki(d.type)&&$l(d);break;case 4:Tu(d,d.stateNode.containerInfo);break;case 10:var _=d.type._context,R=d.memoizedProps.value;Or(Wn,_._currentValue),_._currentValue=R;break;case 13:if(_=d.memoizedState,_!==null)return _.dehydrated!==null?(Or(Vr,Vr.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?j3(c,d,m):(Or(Vr,Vr.current&1),c=ql(c,d,m),c!==null?c.sibling:null);Or(Vr,Vr.current&1);break;case 19:if(_=(m&d.childLanes)!==0,(c.flags&128)!==0){if(_)return N3(c,d,m);d.flags|=128}if(R=d.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Or(Vr,Vr.current),_)break;return null;case 22:case 23:return d.lanes=0,A3(c,d,m)}return ql(c,d,m)}var T3,Ky,L3,I3;T3=function(c,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Ky=function(){},L3=function(c,d,m,_){var R=c.memoizedProps;if(R!==_){c=d.stateNode,ss(ei.current);var W=null;switch(m){case"input":R=Ee(c,R),_=Ee(c,_),W=[];break;case"select":R=te({},R,{value:void 0}),_=te({},_,{value:void 0}),W=[];break;case"textarea":R=ut(c,R),_=ut(c,_),W=[];break;default:typeof R.onClick!="function"&&typeof _.onClick=="function"&&(c.onclick=Ou)}lr(m,_);var re;m=null;for(Ie in R)if(!_.hasOwnProperty(Ie)&&R.hasOwnProperty(Ie)&&R[Ie]!=null)if(Ie==="style"){var ye=R[Ie];for(re in ye)ye.hasOwnProperty(re)&&(m||(m={}),m[re]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?W||(W=[]):(W=W||[]).push(Ie,null));for(Ie in _){var _e=_[Ie];if(ye=R?.[Ie],_.hasOwnProperty(Ie)&&_e!==ye&&(_e!=null||ye!=null))if(Ie==="style")if(ye){for(re in ye)!ye.hasOwnProperty(re)||_e&&_e.hasOwnProperty(re)||(m||(m={}),m[re]="");for(re in _e)_e.hasOwnProperty(re)&&ye[re]!==_e[re]&&(m||(m={}),m[re]=_e[re])}else m||(W||(W=[]),W.push(Ie,m)),m=_e;else Ie==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,ye=ye?ye.__html:void 0,_e!=null&&ye!==_e&&(W=W||[]).push(Ie,_e)):Ie==="children"?typeof _e!="string"&&typeof _e!="number"||(W=W||[]).push(Ie,""+_e):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(_e!=null&&Ie==="onScroll"&&Ir("scroll",c),W||ye===_e||(W=[])):(W=W||[]).push(Ie,_e))}m&&(W=W||[]).push("style",m);var Ie=W;(d.updateQueue=Ie)&&(d.flags|=4)}},I3=function(c,d,m,_){m!==_&&(d.flags|=4)};function Xh(c,d){if(!We)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:_.sibling=null}}function Xi(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,_=0;if(d)for(var R=c.child;R!==null;)m|=R.lanes|R.childLanes,_|=R.subtreeFlags&14680064,_|=R.flags&14680064,R.return=c,R=R.sibling;else for(R=c.child;R!==null;)m|=R.lanes|R.childLanes,_|=R.subtreeFlags,_|=R.flags,R.return=c,R=R.sibling;return c.subtreeFlags|=_,c.childLanes=m,d}function RD(c,d,m){var _=d.pendingProps;switch(Te(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xi(d),null;case 1:return Ki(d.type)&&Qf(),Xi(d),null;case 3:return _=d.stateNode,Oo(),Ar(Gi),Ar(li),Gh(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(c===null||c.child===null)&&(dn(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,He!==null&&(a1(He),He=null))),Ky(c,d),Xi(d),null;case 5:Hh(d);var R=ss(Hs.current);if(m=d.type,c!==null&&d.stateNode!=null)L3(c,d,m,_,R),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!_){if(d.stateNode===null)throw Error(r(166));return Xi(d),null}if(c=ss(ei.current),dn(d)){_=d.stateNode,m=d.type;var W=d.memoizedProps;switch(_[ko]=d,_[ju]=W,c=(d.mode&1)!==0,m){case"dialog":Ir("cancel",_),Ir("close",_);break;case"iframe":case"object":case"embed":Ir("load",_);break;case"video":case"audio":for(R=0;R<qs.length;R++)Ir(qs[R],_);break;case"source":Ir("error",_);break;case"img":case"image":case"link":Ir("error",_),Ir("load",_);break;case"details":Ir("toggle",_);break;case"input":ce(_,W),Ir("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!W.multiple},Ir("invalid",_);break;case"textarea":rt(_,W),Ir("invalid",_)}lr(m,W),R=null;for(var re in W)if(W.hasOwnProperty(re)){var ye=W[re];re==="children"?typeof ye=="string"?_.textContent!==ye&&(W.suppressHydrationWarning!==!0&&Zf(_.textContent,ye,c),R=["children",ye]):typeof ye=="number"&&_.textContent!==""+ye&&(W.suppressHydrationWarning!==!0&&Zf(_.textContent,ye,c),R=["children",""+ye]):i.hasOwnProperty(re)&&ye!=null&&re==="onScroll"&&Ir("scroll",_)}switch(m){case"input":Ae(_),Ye(_,W,!0);break;case"textarea":Ae(_),ct(_);break;case"select":case"option":break;default:typeof W.onClick=="function"&&(_.onclick=Ou)}_=R,d.updateQueue=_,_!==null&&(d.flags|=4)}else{re=R.nodeType===9?R:R.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=kt(m)),c==="http://www.w3.org/1999/xhtml"?m==="script"?(c=re.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof _.is=="string"?c=re.createElement(m,{is:_.is}):(c=re.createElement(m),m==="select"&&(re=c,_.multiple?re.multiple=!0:_.size&&(re.size=_.size))):c=re.createElementNS(c,m),c[ko]=d,c[ju]=_,T3(c,d,!1,!1),d.stateNode=c;e:{switch(re=It(m,_),m){case"dialog":Ir("cancel",c),Ir("close",c),R=_;break;case"iframe":case"object":case"embed":Ir("load",c),R=_;break;case"video":case"audio":for(R=0;R<qs.length;R++)Ir(qs[R],c);R=_;break;case"source":Ir("error",c),R=_;break;case"img":case"image":case"link":Ir("error",c),Ir("load",c),R=_;break;case"details":Ir("toggle",c),R=_;break;case"input":ce(c,_),R=Ee(c,_),Ir("invalid",c);break;case"option":R=_;break;case"select":c._wrapperState={wasMultiple:!!_.multiple},R=te({},_,{value:void 0}),Ir("invalid",c);break;case"textarea":rt(c,_),R=ut(c,_),Ir("invalid",c);break;default:R=_}lr(m,R),ye=R;for(W in ye)if(ye.hasOwnProperty(W)){var _e=ye[W];W==="style"?lt(c,_e):W==="dangerouslySetInnerHTML"?(_e=_e?_e.__html:void 0,_e!=null&&ke(c,_e)):W==="children"?typeof _e=="string"?(m!=="textarea"||_e!=="")&&qe(c,_e):typeof _e=="number"&&qe(c,""+_e):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(i.hasOwnProperty(W)?_e!=null&&W==="onScroll"&&Ir("scroll",c):_e!=null&&A(c,W,_e,re))}switch(m){case"input":Ae(c),Ye(c,_,!1);break;case"textarea":Ae(c),ct(c);break;case"option":_.value!=null&&c.setAttribute("value",""+fe(_.value));break;case"select":c.multiple=!!_.multiple,W=_.value,W!=null?Ve(c,!!_.multiple,W,!1):_.defaultValue!=null&&Ve(c,!!_.multiple,_.defaultValue,!0);break;default:typeof R.onClick=="function"&&(c.onclick=Ou)}switch(m){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Xi(d),null;case 6:if(c&&d.stateNode!=null)I3(c,d,c.memoizedProps,_);else{if(typeof _!="string"&&d.stateNode===null)throw Error(r(166));if(m=ss(Hs.current),ss(ei.current),dn(d)){if(_=d.stateNode,m=d.memoizedProps,_[ko]=d,(W=_.nodeValue!==m)&&(c=Re,c!==null))switch(c.tag){case 3:Zf(_.nodeValue,m,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Zf(_.nodeValue,m,(c.mode&1)!==0)}W&&(d.flags|=4)}else _=(m.nodeType===9?m:m.ownerDocument).createTextNode(_),_[ko]=d,d.stateNode=_}return Xi(d),null;case 13:if(Ar(Vr),_=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(We&&Me!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Zt(),mt(),d.flags|=98560,W=!1;else if(W=dn(d),_!==null&&_.dehydrated!==null){if(c===null){if(!W)throw Error(r(318));if(W=d.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(r(317));W[ko]=d}else mt(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Xi(d),W=!1}else He!==null&&(a1(He),He=null),W=!0;if(!W)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(_=_!==null,_!==(c!==null&&c.memoizedState!==null)&&_&&(d.child.flags|=8192,(d.mode&1)!==0&&(c===null||(Vr.current&1)!==0?ci===0&&(ci=3):l1())),d.updateQueue!==null&&(d.flags|=4),Xi(d),null);case 4:return Oo(),Ky(c,d),c===null&&Rl(d.stateNode.containerInfo),Xi(d),null;case 10:return Jr(d.type._context),Xi(d),null;case 17:return Ki(d.type)&&Qf(),Xi(d),null;case 19:if(Ar(Vr),W=d.memoizedState,W===null)return Xi(d),null;if(_=(d.flags&128)!==0,re=W.rendering,re===null)if(_)Xh(W,!1);else{if(ci!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(re=ro(c),re!==null){for(d.flags|=128,Xh(W,!1),_=re.updateQueue,_!==null&&(d.updateQueue=_,d.flags|=4),d.subtreeFlags=0,_=m,m=d.child;m!==null;)W=m,c=_,W.flags&=14680066,re=W.alternate,re===null?(W.childLanes=0,W.lanes=c,W.child=null,W.subtreeFlags=0,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null):(W.childLanes=re.childLanes,W.lanes=re.lanes,W.child=re.child,W.subtreeFlags=0,W.deletions=null,W.memoizedProps=re.memoizedProps,W.memoizedState=re.memoizedState,W.updateQueue=re.updateQueue,W.type=re.type,c=re.dependencies,W.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),m=m.sibling;return Or(Vr,Vr.current&1|2),d.child}c=c.sibling}W.tail!==null&&Hr()>dd&&(d.flags|=128,_=!0,Xh(W,!1),d.lanes=4194304)}else{if(!_)if(c=ro(re),c!==null){if(d.flags|=128,_=!0,m=c.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Xh(W,!0),W.tail===null&&W.tailMode==="hidden"&&!re.alternate&&!We)return Xi(d),null}else 2*Hr()-W.renderingStartTime>dd&&m!==1073741824&&(d.flags|=128,_=!0,Xh(W,!1),d.lanes=4194304);W.isBackwards?(re.sibling=d.child,d.child=re):(m=W.last,m!==null?m.sibling=re:d.child=re,W.last=re)}return W.tail!==null?(d=W.tail,W.rendering=d,W.tail=d.sibling,W.renderingStartTime=Hr(),d.sibling=null,m=Vr.current,Or(Vr,_?m&1|2:m&1),d):(Xi(d),null);case 22:case 23:return s1(),_=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==_&&(d.flags|=8192),_&&(d.mode&1)!==0?(ao&1073741824)!==0&&(Xi(d),d.subtreeFlags&6&&(d.flags|=8192)):Xi(d),null;case 24:return null;case 25:return null}throw Error(r(156,d.tag))}function MD(c,d){switch(Te(d),d.tag){case 1:return Ki(d.type)&&Qf(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Oo(),Ar(Gi),Ar(li),Gh(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 5:return Hh(d),null;case 13:if(Ar(Vr),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));mt()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return Ar(Vr),null;case 4:return Oo(),null;case 10:return Jr(d.type._context),null;case 22:case 23:return s1(),null;case 24:return null;default:return null}}var nm=!1,Ji=!1,DD=typeof WeakSet=="function"?WeakSet:Set,yt=null;function cd(c,d){var m=c.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(_){$n(c,d,_)}else m.current=null}function Yy(c,d,m){try{m()}catch(_){$n(c,d,_)}}var R3=!1;function FD(c,d){if(Ic=yu,c=Mn(),Qa(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var _=m.getSelection&&m.getSelection();if(_&&_.rangeCount!==0){m=_.anchorNode;var R=_.anchorOffset,W=_.focusNode;_=_.focusOffset;try{m.nodeType,W.nodeType}catch{m=null;break e}var re=0,ye=-1,_e=-1,Ie=0,Xe=0,et=c,Ke=null;t:for(;;){for(var ht;et!==m||R!==0&&et.nodeType!==3||(ye=re+R),et!==W||_!==0&&et.nodeType!==3||(_e=re+_),et.nodeType===3&&(re+=et.nodeValue.length),(ht=et.firstChild)!==null;)Ke=et,et=ht;for(;;){if(et===c)break t;if(Ke===m&&++Ie===R&&(ye=re),Ke===W&&++Xe===_&&(_e=re),(ht=et.nextSibling)!==null)break;et=Ke,Ke=et.parentNode}et=ht}m=ye===-1||_e===-1?null:{start:ye,end:_e}}else m=null}m=m||{start:0,end:0}}else m=null;for(Dl={focusedElem:c,selectionRange:m},yu=!1,yt=d;yt!==null;)if(d=yt,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,yt=c;else for(;yt!==null;){d=yt;try{var _t=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(_t!==null){var At=_t.memoizedProps,Vn=_t.memoizedState,Ne=d.stateNode,Pe=Ne.getSnapshotBeforeUpdate(d.elementType===d.type?At:cs(d.type,At),Vn);Ne.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:var Le=d.stateNode.containerInfo;Le.nodeType===1?Le.textContent="":Le.nodeType===9&&Le.documentElement&&Le.removeChild(Le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(nt){$n(d,d.return,nt)}if(c=d.sibling,c!==null){c.return=d.return,yt=c;break}yt=d.return}return _t=R3,R3=!1,_t}function Jh(c,d,m){var _=d.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var R=_=_.next;do{if((R.tag&c)===c){var W=R.destroy;R.destroy=void 0,W!==void 0&&Yy(d,m,W)}R=R.next}while(R!==_)}}function im(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&c)===c){var _=m.create;m.destroy=_()}m=m.next}while(m!==d)}}function Xy(c){var d=c.ref;if(d!==null){var m=c.stateNode;switch(c.tag){case 5:c=m;break;default:c=m}typeof d=="function"?d(c):d.current=c}}function M3(c){var d=c.alternate;d!==null&&(c.alternate=null,M3(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[ko],delete d[ju],delete d[Vi],delete d[Iy],delete d[Ry])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function D3(c){return c.tag===5||c.tag===3||c.tag===4}function F3(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||D3(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Jy(c,d,m){var _=c.tag;if(_===5||_===6)c=c.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(c,d):m.insertBefore(c,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(c,m)):(d=m,d.appendChild(c)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Ou));else if(_!==4&&(c=c.child,c!==null))for(Jy(c,d,m),c=c.sibling;c!==null;)Jy(c,d,m),c=c.sibling}function Zy(c,d,m){var _=c.tag;if(_===5||_===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(_!==4&&(c=c.child,c!==null))for(Zy(c,d,m),c=c.sibling;c!==null;)Zy(c,d,m),c=c.sibling}var Ri=null,fs=!1;function Mu(c,d,m){for(m=m.child;m!==null;)B3(c,d,m),m=m.sibling}function B3(c,d,m){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(hl,m)}catch{}switch(m.tag){case 5:Ji||cd(m,d);case 6:var _=Ri,R=fs;Ri=null,Mu(c,d,m),Ri=_,fs=R,Ri!==null&&(fs?(c=Ri,m=m.stateNode,c.nodeType===8?c.parentNode.removeChild(m):c.removeChild(m)):Ri.removeChild(m.stateNode));break;case 18:Ri!==null&&(fs?(c=Ri,m=m.stateNode,c.nodeType===8?qh(c.parentNode,m):c.nodeType===1&&qh(c,m),wo(c)):qh(Ri,m.stateNode));break;case 4:_=Ri,R=fs,Ri=m.stateNode.containerInfo,fs=!0,Mu(c,d,m),Ri=_,fs=R;break;case 0:case 11:case 14:case 15:if(!Ji&&(_=m.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){R=_=_.next;do{var W=R,re=W.destroy;W=W.tag,re!==void 0&&((W&2)!==0||(W&4)!==0)&&Yy(m,d,re),R=R.next}while(R!==_)}Mu(c,d,m);break;case 1:if(!Ji&&(cd(m,d),_=m.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=m.memoizedProps,_.state=m.memoizedState,_.componentWillUnmount()}catch(ye){$n(m,d,ye)}Mu(c,d,m);break;case 21:Mu(c,d,m);break;case 22:m.mode&1?(Ji=(_=Ji)||m.memoizedState!==null,Mu(c,d,m),Ji=_):Mu(c,d,m);break;default:Mu(c,d,m)}}function $3(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var m=c.stateNode;m===null&&(m=c.stateNode=new DD),d.forEach(function(_){var R=GD.bind(null,c,_);m.has(_)||(m.add(_),_.then(R,R))})}}function ds(c,d){var m=d.deletions;if(m!==null)for(var _=0;_<m.length;_++){var R=m[_];try{var W=c,re=d,ye=re;e:for(;ye!==null;){switch(ye.tag){case 5:Ri=ye.stateNode,fs=!1;break e;case 3:Ri=ye.stateNode.containerInfo,fs=!0;break e;case 4:Ri=ye.stateNode.containerInfo,fs=!0;break e}ye=ye.return}if(Ri===null)throw Error(r(160));B3(W,re,R),Ri=null,fs=!1;var _e=R.alternate;_e!==null&&(_e.return=null),R.return=null}catch(Ie){$n(R,d,Ie)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)U3(d,c),d=d.sibling}function U3(c,d){var m=c.alternate,_=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(ds(d,c),Gs(c),_&4){try{Jh(3,c,c.return),im(3,c)}catch(At){$n(c,c.return,At)}try{Jh(5,c,c.return)}catch(At){$n(c,c.return,At)}}break;case 1:ds(d,c),Gs(c),_&512&&m!==null&&cd(m,m.return);break;case 5:if(ds(d,c),Gs(c),_&512&&m!==null&&cd(m,m.return),c.flags&32){var R=c.stateNode;try{qe(R,"")}catch(At){$n(c,c.return,At)}}if(_&4&&(R=c.stateNode,R!=null)){var W=c.memoizedProps,re=m!==null?m.memoizedProps:W,ye=c.type,_e=c.updateQueue;if(c.updateQueue=null,_e!==null)try{ye==="input"&&W.type==="radio"&&W.name!=null&&at(R,W),It(ye,re);var Ie=It(ye,W);for(re=0;re<_e.length;re+=2){var Xe=_e[re],et=_e[re+1];Xe==="style"?lt(R,et):Xe==="dangerouslySetInnerHTML"?ke(R,et):Xe==="children"?qe(R,et):A(R,Xe,et,Ie)}switch(ye){case"input":Ze(R,W);break;case"textarea":ft(R,W);break;case"select":var Ke=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!W.multiple;var ht=W.value;ht!=null?Ve(R,!!W.multiple,ht,!1):Ke!==!!W.multiple&&(W.defaultValue!=null?Ve(R,!!W.multiple,W.defaultValue,!0):Ve(R,!!W.multiple,W.multiple?[]:"",!1))}R[ju]=W}catch(At){$n(c,c.return,At)}}break;case 6:if(ds(d,c),Gs(c),_&4){if(c.stateNode===null)throw Error(r(162));R=c.stateNode,W=c.memoizedProps;try{R.nodeValue=W}catch(At){$n(c,c.return,At)}}break;case 3:if(ds(d,c),Gs(c),_&4&&m!==null&&m.memoizedState.isDehydrated)try{wo(d.containerInfo)}catch(At){$n(c,c.return,At)}break;case 4:ds(d,c),Gs(c);break;case 13:ds(d,c),Gs(c),R=c.child,R.flags&8192&&(W=R.memoizedState!==null,R.stateNode.isHidden=W,!W||R.alternate!==null&&R.alternate.memoizedState!==null||(t1=Hr())),_&4&&$3(c);break;case 22:if(Xe=m!==null&&m.memoizedState!==null,c.mode&1?(Ji=(Ie=Ji)||Xe,ds(d,c),Ji=Ie):ds(d,c),Gs(c),_&8192){if(Ie=c.memoizedState!==null,(c.stateNode.isHidden=Ie)&&!Xe&&(c.mode&1)!==0)for(yt=c,Xe=c.child;Xe!==null;){for(et=yt=Xe;yt!==null;){switch(Ke=yt,ht=Ke.child,Ke.tag){case 0:case 11:case 14:case 15:Jh(4,Ke,Ke.return);break;case 1:cd(Ke,Ke.return);var _t=Ke.stateNode;if(typeof _t.componentWillUnmount=="function"){_=Ke,m=Ke.return;try{d=_,_t.props=d.memoizedProps,_t.state=d.memoizedState,_t.componentWillUnmount()}catch(At){$n(_,m,At)}}break;case 5:cd(Ke,Ke.return);break;case 22:if(Ke.memoizedState!==null){W3(et);continue}}ht!==null?(ht.return=Ke,yt=ht):W3(et)}Xe=Xe.sibling}e:for(Xe=null,et=c;;){if(et.tag===5){if(Xe===null){Xe=et;try{R=et.stateNode,Ie?(W=R.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none"):(ye=et.stateNode,_e=et.memoizedProps.style,re=_e!=null&&_e.hasOwnProperty("display")?_e.display:null,ye.style.display=Nt("display",re))}catch(At){$n(c,c.return,At)}}}else if(et.tag===6){if(Xe===null)try{et.stateNode.nodeValue=Ie?"":et.memoizedProps}catch(At){$n(c,c.return,At)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===c)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===c)break e;for(;et.sibling===null;){if(et.return===null||et.return===c)break e;Xe===et&&(Xe=null),et=et.return}Xe===et&&(Xe=null),et.sibling.return=et.return,et=et.sibling}}break;case 19:ds(d,c),Gs(c),_&4&&$3(c);break;case 21:break;default:ds(d,c),Gs(c)}}function Gs(c){var d=c.flags;if(d&2){try{e:{for(var m=c.return;m!==null;){if(D3(m)){var _=m;break e}m=m.return}throw Error(r(160))}switch(_.tag){case 5:var R=_.stateNode;_.flags&32&&(qe(R,""),_.flags&=-33);var W=F3(c);Zy(c,W,R);break;case 3:case 4:var re=_.stateNode.containerInfo,ye=F3(c);Jy(c,ye,re);break;default:throw Error(r(161))}}catch(_e){$n(c,c.return,_e)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function BD(c,d,m){yt=c,q3(c)}function q3(c,d,m){for(var _=(c.mode&1)!==0;yt!==null;){var R=yt,W=R.child;if(R.tag===22&&_){var re=R.memoizedState!==null||nm;if(!re){var ye=R.alternate,_e=ye!==null&&ye.memoizedState!==null||Ji;ye=nm;var Ie=Ji;if(nm=re,(Ji=_e)&&!Ie)for(yt=R;yt!==null;)re=yt,_e=re.child,re.tag===22&&re.memoizedState!==null?H3(R):_e!==null?(_e.return=re,yt=_e):H3(R);for(;W!==null;)yt=W,q3(W),W=W.sibling;yt=R,nm=ye,Ji=Ie}z3(c)}else(R.subtreeFlags&8772)!==0&&W!==null?(W.return=R,yt=W):z3(c)}}function z3(c){for(;yt!==null;){var d=yt;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:Ji||im(5,d);break;case 1:var _=d.stateNode;if(d.flags&4&&!Ji)if(m===null)_.componentDidMount();else{var R=d.elementType===d.type?m.memoizedProps:cs(d.type,m.memoizedProps);_.componentDidUpdate(R,m.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var W=d.updateQueue;W!==null&&Ia(d,W,_);break;case 3:var re=d.updateQueue;if(re!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}Ia(d,re,m)}break;case 5:var ye=d.stateNode;if(m===null&&d.flags&4){m=ye;var _e=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":_e.autoFocus&&m.focus();break;case"img":_e.src&&(m.src=_e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ie=d.alternate;if(Ie!==null){var Xe=Ie.memoizedState;if(Xe!==null){var et=Xe.dehydrated;et!==null&&wo(et)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ji||d.flags&512&&Xy(d)}catch(Ke){$n(d,d.return,Ke)}}if(d===c){yt=null;break}if(m=d.sibling,m!==null){m.return=d.return,yt=m;break}yt=d.return}}function W3(c){for(;yt!==null;){var d=yt;if(d===c){yt=null;break}var m=d.sibling;if(m!==null){m.return=d.return,yt=m;break}yt=d.return}}function H3(c){for(;yt!==null;){var d=yt;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{im(4,d)}catch(_e){$n(d,m,_e)}break;case 1:var _=d.stateNode;if(typeof _.componentDidMount=="function"){var R=d.return;try{_.componentDidMount()}catch(_e){$n(d,R,_e)}}var W=d.return;try{Xy(d)}catch(_e){$n(d,W,_e)}break;case 5:var re=d.return;try{Xy(d)}catch(_e){$n(d,re,_e)}}}catch(_e){$n(d,d.return,_e)}if(d===c){yt=null;break}var ye=d.sibling;if(ye!==null){ye.return=d.return,yt=ye;break}yt=d.return}}var $D=Math.ceil,am=k.ReactCurrentDispatcher,Qy=k.ReactCurrentOwner,No=k.ReactCurrentBatchConfig,br=0,Ei=null,ti=null,Mi=0,ao=0,fd=eo(0),ci=0,Zh=null,$c=0,om=0,e1=0,Qh=null,Ma=null,t1=0,dd=1/0,zl=null,sm=!1,r1=null,Du=null,lm=!1,Fu=null,um=0,ep=0,n1=null,cm=-1,fm=0;function ba(){return(br&6)!==0?Hr():cm!==-1?cm:cm=Hr()}function Bu(c){return(c.mode&1)===0?1:(br&2)!==0&&Mi!==0?Mi&-Mi:An.transition!==null?(fm===0&&(fm=$f()),fm):(c=pr,c!==0||(c=window.event,c=c===void 0?16:xl(c.type)),c)}function hs(c,d,m,_){if(50<ep)throw ep=0,n1=null,Error(r(185));vl(c,m,_),((br&2)===0||c!==Ei)&&(c===Ei&&((br&2)===0&&(om|=m),ci===4&&$u(c,Mi)),Da(c,_),m===1&&br===0&&(d.mode&1)===0&&(dd=Hr()+500,Mc&&V()))}function Da(c,d){var m=c.callbackNode;xn(c,d);var _=Ui(c,c===Ei?Mi:0);if(_===0)m!==null&&dl(m),c.callbackNode=null,c.callbackPriority=0;else if(d=_&-_,c.callbackPriority!==d){if(m!=null&&dl(m),d===1)c.tag===0?B(G3.bind(null,c)):E(G3.bind(null,c)),Ty(function(){(br&6)===0&&V()}),m=null;else{switch(Yo(_)){case 1:m=du;break;case 4:m=ca;break;case 16:m=Ls;break;case 536870912:m=hu;break;default:m=Ls}m=tP(m,V3.bind(null,c))}c.callbackPriority=d,c.callbackNode=m}}function V3(c,d){if(cm=-1,fm=0,(br&6)!==0)throw Error(r(327));var m=c.callbackNode;if(hd()&&c.callbackNode!==m)return null;var _=Ui(c,c===Ei?Mi:0);if(_===0)return null;if((_&30)!==0||(_&c.expiredLanes)!==0||d)d=dm(c,_);else{d=_;var R=br;br|=2;var W=Y3();(Ei!==c||Mi!==d)&&(zl=null,dd=Hr()+500,qc(c,d));do try{zD();break}catch(ye){K3(c,ye)}while(!0);vr(),am.current=W,br=R,ti!==null?d=0:(Ei=null,Mi=0,d=ci)}if(d!==0){if(d===2&&(R=ml(c),R!==0&&(_=R,d=i1(c,R))),d===1)throw m=Zh,qc(c,0),$u(c,_),Da(c,Hr()),m;if(d===6)$u(c,_);else{if(R=c.current.alternate,(_&30)===0&&!UD(R)&&(d=dm(c,_),d===2&&(W=ml(c),W!==0&&(_=W,d=i1(c,W))),d===1))throw m=Zh,qc(c,0),$u(c,_),Da(c,Hr()),m;switch(c.finishedWork=R,c.finishedLanes=_,d){case 0:case 1:throw Error(r(345));case 2:zc(c,Ma,zl);break;case 3:if($u(c,_),(_&130023424)===_&&(d=t1+500-Hr(),10<d)){if(Ui(c,0)!==0)break;if(R=c.suspendedLanes,(R&_)!==_){ba(),c.pingedLanes|=c.suspendedLanes&R;break}c.timeoutHandle=Uh(zc.bind(null,c,Ma,zl),d);break}zc(c,Ma,zl);break;case 4:if($u(c,_),(_&4194240)===_)break;for(d=c.eventTimes,R=-1;0<_;){var re=31-bi(_);W=1<<re,re=d[re],re>R&&(R=re),_&=~W}if(_=R,_=Hr()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*$D(_/1960))-_,10<_){c.timeoutHandle=Uh(zc.bind(null,c,Ma,zl),_);break}zc(c,Ma,zl);break;case 5:zc(c,Ma,zl);break;default:throw Error(r(329))}}}return Da(c,Hr()),c.callbackNode===m?V3.bind(null,c):null}function i1(c,d){var m=Qh;return c.current.memoizedState.isDehydrated&&(qc(c,d).flags|=256),c=dm(c,d),c!==2&&(d=Ma,Ma=m,d!==null&&a1(d)),c}function a1(c){Ma===null?Ma=c:Ma.push.apply(Ma,c)}function UD(c){for(var d=c;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var _=0;_<m.length;_++){var R=m[_],W=R.getSnapshot;R=R.value;try{if(!cn(W(),R))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function $u(c,d){for(d&=~e1,d&=~om,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var m=31-bi(d),_=1<<m;c[m]=-1,d&=~_}}function G3(c){if((br&6)!==0)throw Error(r(327));hd();var d=Ui(c,0);if((d&1)===0)return Da(c,Hr()),null;var m=dm(c,d);if(c.tag!==0&&m===2){var _=ml(c);_!==0&&(d=_,m=i1(c,_))}if(m===1)throw m=Zh,qc(c,0),$u(c,d),Da(c,Hr()),m;if(m===6)throw Error(r(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,zc(c,Ma,zl),Da(c,Hr()),null}function o1(c,d){var m=br;br|=1;try{return c(d)}finally{br=m,br===0&&(dd=Hr()+500,Mc&&V())}}function Uc(c){Fu!==null&&Fu.tag===0&&(br&6)===0&&hd();var d=br;br|=1;var m=No.transition,_=pr;try{if(No.transition=null,pr=1,c)return c()}finally{pr=_,No.transition=m,br=d,(br&6)===0&&V()}}function s1(){ao=fd.current,Ar(fd)}function qc(c,d){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;if(m!==-1&&(c.timeoutHandle=-1,Wg(m)),ti!==null)for(m=ti.return;m!==null;){var _=m;switch(Te(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Qf();break;case 3:Oo(),Ar(Gi),Ar(li),Gh();break;case 5:Hh(_);break;case 4:Oo();break;case 13:Ar(Vr);break;case 19:Ar(Vr);break;case 10:Jr(_.type._context);break;case 22:case 23:s1()}m=m.return}if(Ei=c,ti=c=Uu(c.current,null),Mi=ao=d,ci=0,Zh=null,e1=om=$c=0,Ma=Qh=null,Rr!==null){for(d=0;d<Rr.length;d++)if(m=Rr[d],_=m.interleaved,_!==null){m.interleaved=null;var R=_.next,W=m.pending;if(W!==null){var re=W.next;W.next=R,_.next=re}m.pending=_}Rr=null}return c}function K3(c,d){do{var m=ti;try{if(vr(),ed.current=Qg,Lu){for(var _=Zr.memoizedState;_!==null;){var R=_.queue;R!==null&&(R.pending=null),_=_.next}Lu=!1}if(jo=0,On=Bn=Zr=null,ls=!1,Iu=0,Qy.current=null,m===null||m.return===null){ci=1,Zh=d,ti=null;break}e:{var W=c,re=m.return,ye=m,_e=d;if(d=Mi,ye.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Ie=_e,Xe=ye,et=Xe.tag;if((Xe.mode&1)===0&&(et===0||et===11||et===15)){var Ke=Xe.alternate;Ke?(Xe.updateQueue=Ke.updateQueue,Xe.memoizedState=Ke.memoizedState,Xe.lanes=Ke.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var ht=b3(re);if(ht!==null){ht.flags&=-257,w3(ht,re,ye,W,d),ht.mode&1&&y3(W,Ie,d),d=ht,_e=Ie;var _t=d.updateQueue;if(_t===null){var At=new Set;At.add(_e),d.updateQueue=At}else _t.add(_e);break e}else{if((d&1)===0){y3(W,Ie,d),l1();break e}_e=Error(r(426))}}else if(We&&ye.mode&1){var Vn=b3(re);if(Vn!==null){(Vn.flags&65536)===0&&(Vn.flags|=256),w3(Vn,re,ye,W,d),ot(ud(_e,ye));break e}}W=_e=ud(_e,ye),ci!==4&&(ci=2),Qh===null?Qh=[W]:Qh.push(W),W=re;do{switch(W.tag){case 3:W.flags|=65536,d&=-d,W.lanes|=d;var Ne=m3(W,_e,d);Dr(W,Ne);break e;case 1:ye=_e;var Pe=W.type,Le=W.stateNode;if((W.flags&128)===0&&(typeof Pe.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&(Du===null||!Du.has(Le)))){W.flags|=65536,d&=-d,W.lanes|=d;var nt=v3(W,ye,d);Dr(W,nt);break e}}W=W.return}while(W!==null)}J3(m)}catch(Ot){d=Ot,ti===m&&m!==null&&(ti=m=m.return);continue}break}while(!0)}function Y3(){var c=am.current;return am.current=Qg,c===null?Qg:c}function l1(){(ci===0||ci===3||ci===2)&&(ci=4),Ei===null||($c&268435455)===0&&(om&268435455)===0||$u(Ei,Mi)}function dm(c,d){var m=br;br|=2;var _=Y3();(Ei!==c||Mi!==d)&&(zl=null,qc(c,d));do try{qD();break}catch(R){K3(c,R)}while(!0);if(vr(),br=m,am.current=_,ti!==null)throw Error(r(261));return Ei=null,Mi=0,ci}function qD(){for(;ti!==null;)X3(ti)}function zD(){for(;ti!==null&&!fu();)X3(ti)}function X3(c){var d=eP(c.alternate,c,ao);c.memoizedProps=c.pendingProps,d===null?J3(c):ti=d,Qy.current=null}function J3(c){var d=c;do{var m=d.alternate;if(c=d.return,(d.flags&32768)===0){if(m=RD(m,d,ao),m!==null){ti=m;return}}else{if(m=MD(m,d),m!==null){m.flags&=32767,ti=m;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{ci=6,ti=null;return}}if(d=d.sibling,d!==null){ti=d;return}ti=d=c}while(d!==null);ci===0&&(ci=5)}function zc(c,d,m){var _=pr,R=No.transition;try{No.transition=null,pr=1,WD(c,d,m,_)}finally{No.transition=R,pr=_}return null}function WD(c,d,m,_){do hd();while(Fu!==null);if((br&6)!==0)throw Error(r(327));m=c.finishedWork;var R=c.finishedLanes;if(m===null)return null;if(c.finishedWork=null,c.finishedLanes=0,m===c.current)throw Error(r(177));c.callbackNode=null,c.callbackPriority=0;var W=m.lanes|m.childLanes;if(vo(c,W),c===Ei&&(ti=Ei=null,Mi=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||lm||(lm=!0,tP(Ls,function(){return hd(),null})),W=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||W){W=No.transition,No.transition=null;var re=pr;pr=1;var ye=br;br|=4,Qy.current=null,FD(c,m),U3(m,c),Ec(Dl),yu=!!Ic,Dl=Ic=null,c.current=m,BD(m),jh(),br=ye,pr=re,No.transition=W}else c.current=m;if(lm&&(lm=!1,Fu=c,um=R),W=c.pendingLanes,W===0&&(Du=null),Ff(m.stateNode),Da(c,Hr()),d!==null)for(_=c.onRecoverableError,m=0;m<d.length;m++)R=d[m],_(R.value,{componentStack:R.stack,digest:R.digest});if(sm)throw sm=!1,c=r1,r1=null,c;return(um&1)!==0&&c.tag!==0&&hd(),W=c.pendingLanes,(W&1)!==0?c===n1?ep++:(ep=0,n1=c):ep=0,V(),null}function hd(){if(Fu!==null){var c=Yo(um),d=No.transition,m=pr;try{if(No.transition=null,pr=16>c?16:c,Fu===null)var _=!1;else{if(c=Fu,Fu=null,um=0,(br&6)!==0)throw Error(r(331));var R=br;for(br|=4,yt=c.current;yt!==null;){var W=yt,re=W.child;if((yt.flags&16)!==0){var ye=W.deletions;if(ye!==null){for(var _e=0;_e<ye.length;_e++){var Ie=ye[_e];for(yt=Ie;yt!==null;){var Xe=yt;switch(Xe.tag){case 0:case 11:case 15:Jh(8,Xe,W)}var et=Xe.child;if(et!==null)et.return=Xe,yt=et;else for(;yt!==null;){Xe=yt;var Ke=Xe.sibling,ht=Xe.return;if(M3(Xe),Xe===Ie){yt=null;break}if(Ke!==null){Ke.return=ht,yt=Ke;break}yt=ht}}}var _t=W.alternate;if(_t!==null){var At=_t.child;if(At!==null){_t.child=null;do{var Vn=At.sibling;At.sibling=null,At=Vn}while(At!==null)}}yt=W}}if((W.subtreeFlags&2064)!==0&&re!==null)re.return=W,yt=re;else e:for(;yt!==null;){if(W=yt,(W.flags&2048)!==0)switch(W.tag){case 0:case 11:case 15:Jh(9,W,W.return)}var Ne=W.sibling;if(Ne!==null){Ne.return=W.return,yt=Ne;break e}yt=W.return}}var Pe=c.current;for(yt=Pe;yt!==null;){re=yt;var Le=re.child;if((re.subtreeFlags&2064)!==0&&Le!==null)Le.return=re,yt=Le;else e:for(re=Pe;yt!==null;){if(ye=yt,(ye.flags&2048)!==0)try{switch(ye.tag){case 0:case 11:case 15:im(9,ye)}}catch(Ot){$n(ye,ye.return,Ot)}if(ye===re){yt=null;break e}var nt=ye.sibling;if(nt!==null){nt.return=ye.return,yt=nt;break e}yt=ye.return}}if(br=R,V(),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(hl,c)}catch{}_=!0}return _}finally{pr=m,No.transition=d}}return!1}function Z3(c,d,m){d=ud(m,d),d=m3(c,d,1),c=En(c,d,1),d=ba(),c!==null&&(vl(c,1,d),Da(c,d))}function $n(c,d,m){if(c.tag===3)Z3(c,c,m);else for(;d!==null;){if(d.tag===3){Z3(d,c,m);break}else if(d.tag===1){var _=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Du===null||!Du.has(_))){c=ud(m,c),c=v3(d,c,1),d=En(d,c,1),c=ba(),d!==null&&(vl(d,1,c),Da(d,c));break}}d=d.return}}function HD(c,d,m){var _=c.pingCache;_!==null&&_.delete(d),d=ba(),c.pingedLanes|=c.suspendedLanes&m,Ei===c&&(Mi&m)===m&&(ci===4||ci===3&&(Mi&130023424)===Mi&&500>Hr()-t1?qc(c,0):e1|=m),Da(c,d)}function Q3(c,d){d===0&&((c.mode&1)===0?d=1:(d=Aa,Aa<<=1,(Aa&130023424)===0&&(Aa=4194304)));var m=ba();c=Mr(c,d),c!==null&&(vl(c,d,m),Da(c,m))}function VD(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),Q3(c,m)}function GD(c,d){var m=0;switch(c.tag){case 13:var _=c.stateNode,R=c.memoizedState;R!==null&&(m=R.retryLane);break;case 19:_=c.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(d),Q3(c,m)}var eP;eP=function(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps||Gi.current)Ra=!0;else{if((c.lanes&m)===0&&(d.flags&128)===0)return Ra=!1,ID(c,d,m);Ra=(c.flags&131072)!==0}else Ra=!1,We&&(d.flags&1048576)!==0&&je(d,ae,d.index);switch(d.lanes=0,d.tag){case 2:var _=d.type;rm(c,d),c=d.pendingProps;var R=Nu(d,li.current);hn(d,m),R=Dc(null,d,_,c,R,m);var W=Co();return d.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ki(_)?(W=!0,$l(d)):W=!1,d.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,ui(d),R.updater=em,d.stateNode=R,R._reactInternals=d,By(d,_,c,m),d=zy(null,d,_,!0,W,m)):(d.tag=0,We&&W&&Fe(d),ya(null,d,R,m),d=d.child),d;case 16:_=d.elementType;e:{switch(rm(c,d),c=d.pendingProps,R=_._init,_=R(_._payload),d.type=_,R=d.tag=YD(_),c=cs(_,c),R){case 0:d=qy(null,d,_,c,m);break e;case 1:d=E3(null,d,_,c,m);break e;case 11:d=x3(null,d,_,c,m);break e;case 14:d=_3(null,d,_,cs(_.type,c),m);break e}throw Error(r(306,_,""))}return d;case 0:return _=d.type,R=d.pendingProps,R=d.elementType===_?R:cs(_,R),qy(c,d,_,R,m);case 1:return _=d.type,R=d.pendingProps,R=d.elementType===_?R:cs(_,R),E3(c,d,_,R,m);case 3:e:{if(k3(d),c===null)throw Error(r(387));_=d.pendingProps,W=d.memoizedState,R=W.element,Yi(c,d),Pi(d,_,null,m);var re=d.memoizedState;if(_=re.element,W.isDehydrated)if(W={element:_,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},d.updateQueue.baseState=W,d.memoizedState=W,d.flags&256){R=ud(Error(r(423)),d),d=O3(c,d,_,m,R);break e}else if(_!==R){R=ud(Error(r(424)),d),d=O3(c,d,_,m,R);break e}else for(Me=Ii(d.stateNode.containerInfo.firstChild),Re=d,We=!0,He=null,m=nn(d,null,_,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(mt(),_===R){d=ql(c,d,m);break e}ya(c,d,_,m)}d=d.child}return d;case 5:return Kg(d),c===null&&xt(d),_=d.type,R=d.pendingProps,W=c!==null?c.memoizedProps:null,re=R.children,$h(_,R)?re=null:W!==null&&$h(_,W)&&(d.flags|=32),P3(c,d),ya(c,d,re,m),d.child;case 6:return c===null&&xt(d),null;case 13:return j3(c,d,m);case 4:return Tu(d,d.stateNode.containerInfo),_=d.pendingProps,c===null?d.child=Dn(d,null,_,m):ya(c,d,_,m),d.child;case 11:return _=d.type,R=d.pendingProps,R=d.elementType===_?R:cs(_,R),x3(c,d,_,R,m);case 7:return ya(c,d,d.pendingProps,m),d.child;case 8:return ya(c,d,d.pendingProps.children,m),d.child;case 12:return ya(c,d,d.pendingProps.children,m),d.child;case 10:e:{if(_=d.type._context,R=d.pendingProps,W=d.memoizedProps,re=R.value,Or(Wn,_._currentValue),_._currentValue=re,W!==null)if(cn(W.value,re)){if(W.children===R.children&&!Gi.current){d=ql(c,d,m);break e}}else for(W=d.child,W!==null&&(W.return=d);W!==null;){var ye=W.dependencies;if(ye!==null){re=W.child;for(var _e=ye.firstContext;_e!==null;){if(_e.context===_){if(W.tag===1){_e=Pn(-1,m&-m),_e.tag=2;var Ie=W.updateQueue;if(Ie!==null){Ie=Ie.shared;var Xe=Ie.pending;Xe===null?_e.next=_e:(_e.next=Xe.next,Xe.next=_e),Ie.pending=_e}}W.lanes|=m,_e=W.alternate,_e!==null&&(_e.lanes|=m),yr(W.return,m,d),ye.lanes|=m;break}_e=_e.next}}else if(W.tag===10)re=W.type===d.type?null:W.child;else if(W.tag===18){if(re=W.return,re===null)throw Error(r(341));re.lanes|=m,ye=re.alternate,ye!==null&&(ye.lanes|=m),yr(re,m,d),re=W.sibling}else re=W.child;if(re!==null)re.return=W;else for(re=W;re!==null;){if(re===d){re=null;break}if(W=re.sibling,W!==null){W.return=re.return,re=W;break}re=re.return}W=re}ya(c,d,R.children,m),d=d.child}return d;case 9:return R=d.type,_=d.pendingProps.children,hn(d,m),R=pn(R),_=_(R),d.flags|=1,ya(c,d,_,m),d.child;case 14:return _=d.type,R=cs(_,d.pendingProps),R=cs(_.type,R),_3(c,d,_,R,m);case 15:return S3(c,d,d.type,d.pendingProps,m);case 17:return _=d.type,R=d.pendingProps,R=d.elementType===_?R:cs(_,R),rm(c,d),d.tag=1,Ki(_)?(c=!0,$l(d)):c=!1,hn(d,m),p3(d,_,R),By(d,_,R,m),zy(null,d,_,!0,c,m);case 19:return N3(c,d,m);case 22:return A3(c,d,m)}throw Error(r(156,d.tag))};function tP(c,d){return fl(c,d)}function KD(c,d,m,_){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function To(c,d,m,_){return new KD(c,d,m,_)}function u1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function YD(c){if(typeof c=="function")return u1(c)?1:0;if(c!=null){if(c=c.$$typeof,c===L)return 11;if(c===U)return 14}return 2}function Uu(c,d){var m=c.alternate;return m===null?(m=To(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&14680064,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m}function hm(c,d,m,_,R,W){var re=2;if(_=c,typeof c=="function")u1(c)&&(re=1);else if(typeof c=="string")re=5;else e:switch(c){case M:return Wc(m.children,R,W,d);case N:re=8,R|=8;break;case C:return c=To(12,m,d,R|2),c.elementType=C,c.lanes=W,c;case $:return c=To(13,m,d,R),c.elementType=$,c.lanes=W,c;case F:return c=To(19,m,d,R),c.elementType=F,c.lanes=W,c;case q:return pm(m,R,W,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case H:re=10;break e;case T:re=9;break e;case L:re=11;break e;case U:re=14;break e;case z:re=16,_=null;break e}throw Error(r(130,c==null?c:typeof c,""))}return d=To(re,m,d,R),d.elementType=c,d.type=_,d.lanes=W,d}function Wc(c,d,m,_){return c=To(7,c,_,d),c.lanes=m,c}function pm(c,d,m,_){return c=To(22,c,_,d),c.elementType=q,c.lanes=m,c.stateNode={isHidden:!1},c}function c1(c,d,m){return c=To(6,c,null,d),c.lanes=m,c}function f1(c,d,m){return d=To(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function XD(c,d,m,_,R){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vc(0),this.expirationTimes=vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vc(0),this.identifierPrefix=_,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function d1(c,d,m,_,R,W,re,ye,_e){return c=new XD(c,d,m,ye,_e),d===1?(d=1,W===!0&&(d|=8)):d=0,W=To(3,null,null,d),c.current=W,W.stateNode=c,W.memoizedState={element:_,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},ui(W),c}function JD(c,d,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:_==null?null:""+_,children:c,containerInfo:d,implementation:m}}function rP(c){if(!c)return Ws;c=c._reactInternals;e:{if(oi(c)!==c||c.tag!==1)throw Error(r(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ki(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(r(171))}if(c.tag===1){var m=c.type;if(Ki(m))return Wh(c,m,d)}return d}function nP(c,d,m,_,R,W,re,ye,_e){return c=d1(m,_,!0,c,R,W,re,ye,_e),c.context=rP(null),m=c.current,_=ba(),R=Bu(m),W=Pn(_,R),W.callback=d??null,En(m,W,R),c.current.lanes=R,vl(c,R,_),Da(c,_),c}function gm(c,d,m,_){var R=d.current,W=ba(),re=Bu(R);return m=rP(m),d.context===null?d.context=m:d.pendingContext=m,d=Pn(W,re),d.payload={element:c},_=_===void 0?null:_,_!==null&&(d.callback=_),c=En(R,d,re),c!==null&&(hs(c,R,re,W),Ai(c,R,re)),re}function mm(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function iP(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function h1(c,d){iP(c,d),(c=c.alternate)&&iP(c,d)}function ZD(){return null}var aP=typeof reportError=="function"?reportError:function(c){console.error(c)};function p1(c){this._internalRoot=c}vm.prototype.render=p1.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));gm(c,d,null,null)},vm.prototype.unmount=p1.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;Uc(function(){gm(null,c,null,null)}),d[_i]=null}};function vm(c){this._internalRoot=c}vm.prototype.unstable_scheduleHydration=function(c){if(c){var d=qf();c={blockedOn:null,target:c,priority:d};for(var m=0;m<bo.length&&d!==0&&d<bo[m].priority;m++);bo.splice(m,0,c),m===0&&Wf(c)}};function g1(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function ym(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function oP(){}function QD(c,d,m,_,R){if(R){if(typeof _=="function"){var W=_;_=function(){var Ie=mm(re);W.call(Ie)}}var re=nP(d,_,c,0,null,!1,!1,"",oP);return c._reactRootContainer=re,c[_i]=re.current,Rl(c.nodeType===8?c.parentNode:c),Uc(),re}for(;R=c.lastChild;)c.removeChild(R);if(typeof _=="function"){var ye=_;_=function(){var Ie=mm(_e);ye.call(Ie)}}var _e=d1(c,0,!1,null,null,!1,!1,"",oP);return c._reactRootContainer=_e,c[_i]=_e.current,Rl(c.nodeType===8?c.parentNode:c),Uc(function(){gm(d,_e,m,_)}),_e}function bm(c,d,m,_,R){var W=m._reactRootContainer;if(W){var re=W;if(typeof R=="function"){var ye=R;R=function(){var _e=mm(re);ye.call(_e)}}gm(d,re,c,R)}else re=QD(m,d,c,R,_);return mm(re)}gu=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var m=Ga(d.pendingLanes);m!==0&&(pu(d,m|1),Da(d,Hr()),(br&6)===0&&(dd=Hr()+500,V()))}break;case 13:Uc(function(){var _=Mr(c,1);if(_!==null){var R=ba();hs(_,c,1,R)}}),h1(c,1)}},yc=function(c){if(c.tag===13){var d=Mr(c,134217728);if(d!==null){var m=ba();hs(d,c,134217728,m)}h1(c,134217728)}},Uf=function(c){if(c.tag===13){var d=Bu(c),m=Mr(c,d);if(m!==null){var _=ba();hs(m,c,d,_)}h1(c,d)}},qf=function(){return pr},mu=function(c,d){var m=pr;try{return pr=c,d()}finally{pr=m}},Sr=function(c,d,m){switch(d){case"input":if(Ze(c,m),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var _=m[d];if(_!==c&&_.form===c.form){var R=Rc(_);if(!R)throw Error(r(90));be(_),Ze(_,R)}}}break;case"textarea":ft(c,m);break;case"select":d=m.value,d!=null&&Ve(c,!!m.multiple,d,!1)}},Nn=o1,Jn=Uc;var eF={usingClientEntryPoint:!1,Events:[Cu,Fl,Rc,ar,$i,o1]},tp={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tF={bundleType:tp.bundleType,version:tp.version,rendererPackageName:tp.rendererPackageName,rendererConfig:tp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Va(c),c===null?null:c.stateNode},findFiberByHostInstance:tp.findFiberByHostInstance||ZD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wm.isDisabled&&wm.supportsFiber)try{hl=wm.inject(tF),fa=wm}catch{}}return Fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eF,Fa.createPortal=function(c,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g1(d))throw Error(r(200));return JD(c,d,null,m)},Fa.createRoot=function(c,d){if(!g1(c))throw Error(r(299));var m=!1,_="",R=aP;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),d=d1(c,1,!1,null,null,m,!1,_,R),c[_i]=d.current,Rl(c.nodeType===8?c.parentNode:c),new p1(d)},Fa.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=Va(d),c=c===null?null:c.stateNode,c},Fa.flushSync=function(c){return Uc(c)},Fa.hydrate=function(c,d,m){if(!ym(d))throw Error(r(200));return bm(null,c,d,!0,m)},Fa.hydrateRoot=function(c,d,m){if(!g1(c))throw Error(r(405));var _=m!=null&&m.hydratedSources||null,R=!1,W="",re=aP;if(m!=null&&(m.unstable_strictMode===!0&&(R=!0),m.identifierPrefix!==void 0&&(W=m.identifierPrefix),m.onRecoverableError!==void 0&&(re=m.onRecoverableError)),d=nP(d,null,c,1,m??null,R,!1,W,re),c[_i]=d.current,Rl(c),_)for(c=0;c<_.length;c++)m=_[c],R=m._getVersion,R=R(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,R]:d.mutableSourceEagerHydrationData.push(m,R);return new vm(d)},Fa.render=function(c,d,m){if(!ym(d))throw Error(r(200));return bm(null,c,d,!1,m)},Fa.unmountComponentAtNode=function(c){if(!ym(c))throw Error(r(40));return c._reactRootContainer?(Uc(function(){bm(null,null,c,!1,function(){c._reactRootContainer=null,c[_i]=null})}),!0):!1},Fa.unstable_batchedUpdates=o1,Fa.unstable_renderSubtreeIntoContainer=function(c,d,m,_){if(!ym(m))throw Error(r(200));if(c==null||c._reactInternals===void 0)throw Error(r(38));return bm(c,d,m,!1,_)},Fa.version="18.3.1-next-f1338f8080-20240426",Fa}var pP;function U6(){if(pP)return y1.exports;pP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),y1.exports=dF(),y1.exports}var gP;function hF(){if(gP)return xm;gP=1;var t=U6();return xm.createRoot=t.createRoot,xm.hydrateRoot=t.hydrateRoot,xm}var pF=hF();const gF=Br(pF);var mF=U6();const vF=Br(mF);function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lp.apply(this,arguments)}var Yu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yu||(Yu={}));const mP="popstate";function yF(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:s}=n.location;return f5("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:p0(i)}return wF(e,r,null,t)}function Cn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bF(){return Math.random().toString(36).substr(2,8)}function vP(t,e){return{usr:t.state,key:t.key,idx:e}}function f5(t,e,r,n){return r===void 0&&(r=null),Lp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gh(e):e,{state:r,key:e&&e.key||n||bF()})}function p0(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function wF(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Yu.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(Lp({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function h(){s=Yu.Pop;let v=f(),w=v==null?null:v-u;u=v,l&&l({action:s,location:b.location,delta:w})}function p(v,w){s=Yu.Push;let S=f5(b.location,v,w);u=f()+1;let A=vP(S,u),k=b.createHref(S);try{o.pushState(A,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(k)}a&&l&&l({action:s,location:b.location,delta:1})}function g(v,w){s=Yu.Replace;let S=f5(b.location,v,w);u=f();let A=vP(S,u),k=b.createHref(S);o.replaceState(A,"",k),a&&l&&l({action:s,location:b.location,delta:0})}function y(v){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof v=="string"?v:p0(v);return S=S.replace(/ $/,"%20"),Cn(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let b={get action(){return s},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mP,h),l=v,()=>{i.removeEventListener(mP,h),l=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let w=y(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(v){return o.go(v)}};return b}var yP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yP||(yP={}));function xF(t,e,r){return r===void 0&&(r="/"),_F(t,e,r)}function _F(t,e,r,n){let i=typeof e=="string"?gh(e):e,a=Vd(i.pathname||"/",r);if(a==null)return null;let o=q6(t);SF(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=IF(a);s=TF(o[l],u)}return s}function q6(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(Cn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Zu([n,l.relativePath]),f=r.concat(l);a.children&&a.children.length>0&&(Cn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),q6(a.children,e,f,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:CF(u,a.index),routesMeta:f})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of z6(a.path))i(a,o,l)}),e}function z6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=z6(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function SF(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:NF(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AF=/^:[\w-]+$/,PF=3,EF=2,kF=1,OF=10,jF=-2,bP=t=>t==="*";function CF(t,e){let r=t.split("/"),n=r.length;return r.some(bP)&&(n+=jF),e&&(n+=EF),r.filter(i=>!bP(i)).reduce((i,a)=>i+(AF.test(a)?PF:a===""?kF:OF),n)}function NF(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function TF(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",h=d5({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),p=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Zu([a,h.pathname]),pathnameBase:BF(Zu([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Zu([a,h.pathnameBase]))}return o}function d5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=LF(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,f,h)=>{let{paramName:p,isOptional:g}=f;if(p==="*"){let b=s[h]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=s[h];return g&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function LF(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),AS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function IF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const RF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MF=t=>RF.test(t);function DF(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?gh(t):t,a;if(r)if(MF(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),AS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=wP(r.substring(1),"/"):a=wP(r,e)}else a=e;return{pathname:a,search:$F(n),hash:UF(i)}}function wP(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function x1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FF(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function PS(t,e){let r=FF(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ES(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=gh(t):(i=Lp({},t),Cn(!i.pathname||!i.pathname.includes("?"),x1("?","pathname","search",i)),Cn(!i.pathname||!i.pathname.includes("#"),x1("#","pathname","hash",i)),Cn(!i.search||!i.search.includes("#"),x1("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}s=h>=0?e[h]:"/"}let l=DF(i,s),u=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Zu=t=>t.join("/").replace(/\/\/+/g,"/"),BF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$F=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const W6=["post","put","patch","delete"];new Set(W6);const zF=["get",...W6];new Set(zF);function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ip.apply(this,arguments)}const Nv=se.createContext(null),H6=se.createContext(null),ou=se.createContext(null),Tv=se.createContext(null),su=se.createContext({outlet:null,matches:[],isDataRoute:!1}),V6=se.createContext(null);function WF(t,e){let{relative:r}=e===void 0?{}:e;mh()||Cn(!1);let{basename:n,navigator:i}=se.useContext(ou),{hash:a,pathname:o,search:s}=Lv(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Zu([n,o])),i.createHref({pathname:l,search:s,hash:a})}function mh(){return se.useContext(Tv)!=null}function vh(){return mh()||Cn(!1),se.useContext(Tv).location}function G6(t){se.useContext(ou).static||se.useLayoutEffect(t)}function oc(){let{isDataRoute:t}=se.useContext(su);return t?nB():HF()}function HF(){mh()||Cn(!1);let t=se.useContext(Nv),{basename:e,future:r,navigator:n}=se.useContext(ou),{matches:i}=se.useContext(su),{pathname:a}=vh(),o=JSON.stringify(PS(i,r.v7_relativeSplatPath)),s=se.useRef(!1);return G6(()=>{s.current=!0}),se.useCallback(function(u,f){if(f===void 0&&(f={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let h=ES(u,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Zu([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,o,a,t])}function K6(){let{matches:t}=se.useContext(su),e=t[t.length-1];return e?e.params:{}}function Lv(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=se.useContext(ou),{matches:i}=se.useContext(su),{pathname:a}=vh(),o=JSON.stringify(PS(i,n.v7_relativeSplatPath));return se.useMemo(()=>ES(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function VF(t,e){return GF(t,e)}function GF(t,e,r,n){mh()||Cn(!1);let{navigator:i}=se.useContext(ou),{matches:a}=se.useContext(su),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=vh(),f;if(e){var h;let v=typeof e=="string"?gh(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||Cn(!1),f=v}else f=u;let p=f.pathname||"/",g=p;if(l!=="/"){let v=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=xF(t,{pathname:g}),b=ZF(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:Zu([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Zu([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&b?se.createElement(Tv.Provider,{value:{location:Ip({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Yu.Pop}},b):b}function KF(){let t=rB(),e=qF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),r?se.createElement("pre",{style:i},r):null,null)}const YF=se.createElement(KF,null);class XF extends se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?se.createElement(su.Provider,{value:this.props.routeContext},se.createElement(V6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JF(t){let{routeContext:e,match:r,children:n}=t,i=se.useContext(Nv);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),se.createElement(su.Provider,{value:e},n)}function ZF(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let f=o.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);f>=0||Cn(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:p,errors:g}=r,y=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,h,p)=>{let g,y=!1,b=null,v=null;r&&(g=s&&h.route.id?s[h.route.id]:void 0,b=h.route.errorElement||YF,l&&(u<0&&p===0?(iB("route-fallback"),y=!0,v=null):u===p&&(y=!0,v=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),S=()=>{let A;return g?A=b:y?A=v:h.route.Component?A=se.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=f,se.createElement(JF,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:r!=null},children:A})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?se.createElement(XF,{location:r.location,revalidation:r.revalidation,component:b,error:g,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var Y6=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Y6||{}),X6=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(X6||{});function QF(t){let e=se.useContext(Nv);return e||Cn(!1),e}function eB(t){let e=se.useContext(H6);return e||Cn(!1),e}function tB(t){let e=se.useContext(su);return e||Cn(!1),e}function J6(t){let e=tB(),r=e.matches[e.matches.length-1];return r.route.id||Cn(!1),r.route.id}function rB(){var t;let e=se.useContext(V6),r=eB(),n=J6();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function nB(){let{router:t}=QF(Y6.UseNavigateStable),e=J6(X6.UseNavigateStable),r=se.useRef(!1);return G6(()=>{r.current=!0}),se.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ip({fromRouteId:e},a)))},[t,e])}const xP={};function iB(t,e,r){xP[t]||(xP[t]=!0)}function aB(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Z6(t){let{to:e,replace:r,state:n,relative:i}=t;mh()||Cn(!1);let{future:a,static:o}=se.useContext(ou),{matches:s}=se.useContext(su),{pathname:l}=vh(),u=oc(),f=ES(e,PS(s,a.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(f);return se.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Do(t){Cn(!1)}function oB(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Yu.Pop,navigator:a,static:o=!1,future:s}=t;mh()&&Cn(!1);let l=e.replace(/^\/*/,"/"),u=se.useMemo(()=>({basename:l,navigator:a,static:o,future:Ip({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=gh(n));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:y="default"}=n,b=se.useMemo(()=>{let v=Vd(f,l);return v==null?null:{location:{pathname:v,search:h,hash:p,state:g,key:y},navigationType:i}},[l,f,h,p,g,y,i]);return b==null?null:se.createElement(ou.Provider,{value:u},se.createElement(Tv.Provider,{children:r,value:b}))}function _P(t){let{children:e,location:r}=t;return VF(h5(e),r)}new Promise(()=>{});function h5(t,e){e===void 0&&(e=[]);let r=[];return se.Children.forEach(t,(n,i)=>{if(!se.isValidElement(n))return;let a=[...e,i];if(n.type===se.Fragment){r.push.apply(r,h5(n.props.children,a));return}n.type!==Do&&Cn(!1),!n.props.index||!n.props.children||Cn(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=h5(n.props.children,a)),r.push(o)}),r}function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g0.apply(this,arguments)}function Q6(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function sB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lB(t,e){return t.button===0&&(!e||e==="_self")&&!sB(t)}const uB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cB=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],fB="6";try{window.__reactRouterVersion=fB}catch{}const dB=se.createContext({isTransitioning:!1}),hB="startTransition",SP=uF[hB];function pB(t){let{basename:e,children:r,future:n,window:i}=t,a=se.useRef();a.current==null&&(a.current=yF({window:i,v5Compat:!0}));let o=a.current,[s,l]=se.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=se.useCallback(h=>{u&&SP?SP(()=>l(h)):l(h)},[l,u]);return se.useLayoutEffect(()=>o.listen(f),[o,f]),se.useEffect(()=>aB(n),[n]),se.createElement(oB,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const gB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yf=se.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:f,viewTransition:h}=e,p=Q6(e,uB),{basename:g}=se.useContext(ou),y,b=!1;if(typeof u=="string"&&mB.test(u)&&(y=u,gB))try{let A=new URL(window.location.href),k=u.startsWith("//")?new URL(A.protocol+u):new URL(u),j=Vd(k.pathname,g);k.origin===A.origin&&j!=null?u=j+k.search+k.hash:b=!0}catch{}let v=WF(u,{relative:i}),w=yB(u,{replace:o,state:s,target:l,preventScrollReset:f,relative:i,viewTransition:h});function S(A){n&&n(A),A.defaultPrevented||w(A)}return se.createElement("a",g0({},p,{href:y||v,onClick:b||a?n:S,ref:r,target:l}))}),e8=se.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,viewTransition:u,children:f}=e,h=Q6(e,cB),p=Lv(l,{relative:h.relative}),g=vh(),y=se.useContext(H6),{navigator:b,basename:v}=se.useContext(ou),w=y!=null&&bB(p)&&u===!0,S=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,A=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(A=A.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&v&&(k=Vd(k,v)||k);const j=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let O=A===S||!o&&A.startsWith(S)&&A.charAt(j)==="/",M=k!=null&&(k===S||!o&&k.startsWith(S)&&k.charAt(S.length)==="/"),N={isActive:O,isPending:M,isTransitioning:w},C=O?n:void 0,H;typeof a=="function"?H=a(N):H=[a,O?"active":null,M?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let T=typeof s=="function"?s(N):s;return se.createElement(yf,g0({},h,{"aria-current":C,className:H,ref:r,style:T,to:l,viewTransition:u}),typeof f=="function"?f(N):f)});var p5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(p5||(p5={}));var AP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(AP||(AP={}));function vB(t){let e=se.useContext(Nv);return e||Cn(!1),e}function yB(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=oc(),u=vh(),f=Lv(t,{relative:o});return se.useCallback(h=>{if(lB(h,r)){h.preventDefault();let p=n!==void 0?n:p0(u)===p0(f);l(t,{replace:p,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,f,n,i,r,t,a,o,s])}function bB(t,e){e===void 0&&(e={});let r=se.useContext(dB);r==null&&Cn(!1);let{basename:n}=vB(p5.useViewTransitionState),i=Lv(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Vd(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Vd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return d5(i.pathname,o)!=null||d5(i.pathname,a)!=null}const vn={black:"#121212",grey:"#5a6061",yellow:"#eba000"},t8={logoLight:"/brand/logo-light.png",letterhead:"/brand/letterhead.png"};var g5=function(t,e){return g5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},g5(t,e)};function r8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");g5(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var m0=function(){return m0=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m0.apply(this,arguments)};function yh(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function n8(t,e,r,n){var i=arguments.length,a=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function i8(t,e){return function(r,n){e(r,n,t)}}function a8(t,e,r,n,i,a){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var s=n.kind,l=s==="getter"?"get":s==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,p=!1,g=r.length-1;g>=0;g--){var y={};for(var b in n)y[b]=b==="access"?{}:n[b];for(var b in n.access)y.access[b]=n.access[b];y.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(w||null))};var v=(0,r[g])(s==="accessor"?{get:f.get,set:f.set}:f[l],y);if(s==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(h=o(v.get))&&(f.get=h),(h=o(v.set))&&(f.set=h),(h=o(v.init))&&i.unshift(h)}else(h=o(v))&&(s==="field"?i.unshift(h):f[l]=h)}u&&Object.defineProperty(u,n.name,f),p=!0}function o8(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function s8(t){return typeof t=="symbol"?t:"".concat(t)}function l8(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function u8(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function jt(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(f){try{u(n.next(f))}catch(h){o(h)}}function l(f){try{u(n.throw(f))}catch(h){o(h)}}function u(f){f.done?a(f.value):i(f.value).then(s,l)}u((n=n.apply(t,e||[])).next())})}function c8(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Iv=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function f8(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Iv(e,t,r)}function v0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kS(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function d8(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kS(arguments[e]));return t}function h8(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function p8(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}function Gd(t){return this instanceof Gd?(this.v=t,this):new Gd(t)}function g8(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(y){return Promise.resolve(y).then(g,h)}}function s(g,y){n[g]&&(i[g]=function(b){return new Promise(function(v,w){a.push([g,b,v,w])>1||l(g,b)})},y&&(i[g]=y(i[g])))}function l(g,y){try{u(n[g](y))}catch(b){p(a[0][3],b)}}function u(g){g.value instanceof Gd?Promise.resolve(g.value.v).then(f,h):p(a[0][2],g)}function f(g){l("next",g)}function h(g){l("throw",g)}function p(g,y){g(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function m8(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,a){e[i]=t[i]?function(o){return(r=!r)?{value:Gd(t[i](o)),done:!1}:a?a(o):o}:a}}function v8(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof v0=="function"?v0(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,l){o=t[a](o),i(s,l,o.done,o.value)})}}function i(a,o,s,l){Promise.resolve(l).then(function(u){a({value:u,done:s})},o)}}function y8(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var wB=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},m5=function(t){return m5=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},m5(t)};function b8(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=m5(t),n=0;n<r.length;n++)r[n]!=="default"&&Iv(e,t,r[n]);return wB(e,t),e}function w8(t){return t&&t.__esModule?t:{default:t}}function x8(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function _8(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function S8(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function A8(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var xB=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function P8(t){function e(a){t.error=t.hasError?new xB(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function E8(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?e?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):t}const _B={__extends:r8,__assign:m0,__rest:yh,__decorate:n8,__param:i8,__esDecorate:a8,__runInitializers:o8,__propKey:s8,__setFunctionName:l8,__metadata:u8,__awaiter:jt,__generator:c8,__createBinding:Iv,__exportStar:f8,__values:v0,__read:kS,__spread:d8,__spreadArrays:h8,__spreadArray:p8,__await:Gd,__asyncGenerator:g8,__asyncDelegator:m8,__asyncValues:v8,__makeTemplateObject:y8,__importStar:b8,__importDefault:w8,__classPrivateFieldGet:x8,__classPrivateFieldSet:_8,__classPrivateFieldIn:S8,__addDisposableResource:A8,__disposeResources:P8,__rewriteRelativeImportExtension:E8},SB=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:A8,get __assign(){return m0},__asyncDelegator:m8,__asyncGenerator:g8,__asyncValues:v8,__await:Gd,__awaiter:jt,__classPrivateFieldGet:x8,__classPrivateFieldIn:S8,__classPrivateFieldSet:_8,__createBinding:Iv,__decorate:n8,__disposeResources:P8,__esDecorate:a8,__exportStar:f8,__extends:r8,__generator:c8,__importDefault:w8,__importStar:b8,__makeTemplateObject:y8,__metadata:u8,__param:i8,__propKey:s8,__read:kS,__rest:yh,__rewriteRelativeImportExtension:E8,__runInitializers:o8,__setFunctionName:l8,__spread:d8,__spreadArray:p8,__spreadArrays:h8,__values:v0,default:_B},Symbol.toStringTag,{value:"Module"})),AB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class OS extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class PB extends OS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class PP extends OS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class EP extends OS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var v5;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(v5||(v5={}));class EB{constructor(e,{headers:r={},customFetch:n,region:i=v5.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=AB(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return jt(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:l,body:u,signal:f,timeout:h}=n;let p={},{region:g}=n;g||(g=this.region);const y=new URL(`${this.url}/${r}`);g&&g!=="any"&&(p["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let b;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(p["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(p["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let v=f;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),f?(v=o.signal,f.addEventListener("abort",()=>o.abort())):v=o.signal);const w=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:b,signal:v}).catch(j=>{throw new PB(j)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new PP(w);if(!w.ok)throw new EP(w);let A=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return A==="application/json"?k=yield w.json():A==="application/octet-stream"||A==="application/pdf"?k=yield w.blob():A==="text/event-stream"?k=w:A==="multipart/form-data"?k=yield w.formData():k=yield w.text(),{data:k,error:null,response:w}}catch(s){return{data:null,error:s,response:s instanceof EP||s instanceof PP?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var Zi={};const bh=aF(SB);var _m={},Sm={},Am={},Pm={},Em={},km={},kP;function k8(){if(kP)return km;kP=1,Object.defineProperty(km,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return km.default=t,km}var OP;function O8(){if(OP)return Em;OP=1,Object.defineProperty(Em,"__esModule",{value:!0});const e=bh.__importDefault(k8());class r{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,f,h,p;let g=null,y=null,b=null,v=l.status,w=l.statusText;if(l.ok){if(this.method!=="HEAD"){const j=await l.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=j:y=JSON.parse(j))}const A=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),k=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");A&&k&&k.length>1&&(b=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,v=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const A=await l.text();try{g=JSON.parse(A),Array.isArray(g)&&l.status===404&&(y=[],g=null,v=200,w="OK")}catch{l.status===404&&A===""?(v=204,w="No Content"):g={message:A}}if(g&&this.isMaybeSingle&&(!((p=g?.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,v=200,w="OK"),g&&this.shouldThrowOnError)throw new e.default(g)}return{error:g,data:y,count:b,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(l=>{var u,f,h;return{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:`${(f=l?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=l?.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}}return Em.default=r,Em}var jP;function j8(){if(jP)return Pm;jP=1,Object.defineProperty(Pm,"__esModule",{value:!0});const e=bh.__importDefault(O8());class r extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:l=s}={}){const u=l?`${l}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const l=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:l=!1,format:u="text"}={}){var f;const h=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Pm.default=r,Pm}var CP;function jS(){if(CP)return Am;CP=1,Object.defineProperty(Am,"__esModule",{value:!0});const e=bh.__importDefault(j8()),r=new RegExp("[,()]");class n extends e.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const f=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${u}fts${f}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const l=s?`${s}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}}return Am.default=n,Am}var NP;function C8(){if(NP)return Sm;NP=1,Object.defineProperty(Sm,"__esModule",{value:!0});const e=bh.__importDefault(jS());class r{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},l=o?"HEAD":"GET";let u=!1;const f=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const l="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:l=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Sm.default=r,Sm}var TP;function kB(){if(TP)return _m;TP=1,Object.defineProperty(_m,"__esModule",{value:!0});const t=bh,e=t.__importDefault(C8()),r=t.__importDefault(jS());class n{constructor(a,{headers:o={},schema:s,fetch:l}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=l}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:l=!1,count:u}={}){var f;let h;const p=new URL(`${this.url}/rpc/${a}`);let g;s||l?(h=s?"HEAD":"GET",Object.entries(o).filter(([b,v])=>v!==void 0).map(([b,v])=>[b,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([b,v])=>{p.searchParams.append(b,v)})):(h="POST",g=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:h,url:p,headers:y,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return _m.default=n,_m}var LP;function OB(){if(LP)return Zi;LP=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.PostgrestError=Zi.PostgrestBuilder=Zi.PostgrestTransformBuilder=Zi.PostgrestFilterBuilder=Zi.PostgrestQueryBuilder=Zi.PostgrestClient=void 0;const t=bh,e=t.__importDefault(kB());Zi.PostgrestClient=e.default;const r=t.__importDefault(C8());Zi.PostgrestQueryBuilder=r.default;const n=t.__importDefault(jS());Zi.PostgrestFilterBuilder=n.default;const i=t.__importDefault(j8());Zi.PostgrestTransformBuilder=i.default;const a=t.__importDefault(O8());Zi.PostgrestBuilder=a.default;const o=t.__importDefault(k8());return Zi.PostgrestError=o.default,Zi.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Zi}var N8=OB();const T8=Br(N8),jB=$6({__proto__:null,default:T8},[N8]),{PostgrestClient:CB,PostgrestQueryBuilder:Gce,PostgrestFilterBuilder:Kce,PostgrestTransformBuilder:Yce,PostgrestBuilder:Xce,PostgrestError:Jce}=T8||jB;class NB{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const TB="2.81.1",LB=`realtime-js/${TB}`,L8="1.0.0",IB="2.0.0",IP=L8,y5=1e4,RB=1e3,MB=100;var Zc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Zc||(Zc={}));var pi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pi||(pi={}));var Fo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Fo||(Fo={}));var b5;(function(t){t.websocket="websocket"})(b5||(b5={}));var Qc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qc||(Qc={}));class DB{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:i,topic:a,payload:o}=e,s=this.META_LENGTH+r.length+n.length+a.length+i.length,l=new ArrayBuffer(this.HEADER_LENGTH+s);let u=new DataView(l),f=0;u.setUint8(f++,this.KINDS.push),u.setUint8(f++,r.length),u.setUint8(f++,n.length),u.setUint8(f++,a.length),u.setUint8(f++,i.length),Array.from(r,p=>u.setUint8(f++,p.charCodeAt(0))),Array.from(n,p=>u.setUint8(f++,p.charCodeAt(0))),Array.from(a,p=>u.setUint8(f++,p.charCodeAt(0))),Array.from(i,p=>u.setUint8(f++,p.charCodeAt(0)));var h=new Uint8Array(l.byteLength+o.byteLength);return h.set(new Uint8Array(l),0),h.set(new Uint8Array(o),l.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:o}=e,s=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+o.length+s.length,f=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(f),p=0;h.setUint8(p++,this.KINDS.userBroadcastPush),h.setUint8(p++,i.length),h.setUint8(p++,a.length),h.setUint8(p++,o.length),h.setUint8(p++,s.length),h.setUint8(p++,this.BINARY_ENCODING),Array.from(i,y=>h.setUint8(p++,y.charCodeAt(0))),Array.from(a,y=>h.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>h.setUint8(p++,y.charCodeAt(0))),Array.from(s,y=>h.setUint8(p++,y.charCodeAt(0)));var g=new Uint8Array(f.byteLength+l.byteLength);return g.set(new Uint8Array(f),0),g.set(new Uint8Array(l),f.byteLength),g.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:i,ref:a,topic:o}=e,s=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},f=new TextEncoder().encode(JSON.stringify(l)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+a.length+o.length+s.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,i.length),g.setUint8(y++,a.length),g.setUint8(y++,o.length),g.setUint8(y++,s.length),g.setUint8(y++,this.JSON_ENCODING),Array.from(i,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(a,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(o,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(s,v=>g.setUint8(y++,v.charCodeAt(0)));var b=new Uint8Array(p.byteLength+f.byteLength);return b.set(new Uint8Array(p),0),b.set(new Uint8Array(f),p.byteLength),b.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,o,s,l]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,i);case this.KINDS.reply:return this._decodeReply(e,r,i);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,i);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodePush(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3);let s=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(s,s+i));s=s+i;const u=n.decode(e.slice(s,s+a));s=s+a;const f=n.decode(e.slice(s,s+o));s=s+o;const h=JSON.parse(n.decode(e.slice(s,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:f,payload:h}}_decodeReply(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+a));l=l+a;const h=n.decode(e.slice(l,l+o));l=l+o;const p=n.decode(e.slice(l,l+s));l=l+s;const g=JSON.parse(n.decode(e.slice(l,e.byteLength))),y={status:p,response:g};return{join_ref:u,ref:f,topic:h,event:Fo.reply,payload:y}}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:s,event:l,payload:u}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+a));l=l+a;const h=n.decode(e.slice(l,l+o));l=l+o;const p=e.slice(l,e.byteLength),g=s===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST,event:f,payload:g};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class I8{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qr||(Qr={}));const RP=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=FB(o,t,e,i),a),{}):{}},FB=(t,e,r,n)=>{const i=e.find(s=>s.name===t),a=i?.type,o=r[t];return a&&!n.includes(a)?R8(a,o):w5(o)},R8=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return qB(e,r)}switch(t){case Qr.bool:return BB(e);case Qr.float4:case Qr.float8:case Qr.int2:case Qr.int4:case Qr.int8:case Qr.numeric:case Qr.oid:return $B(e);case Qr.json:case Qr.jsonb:return UB(e);case Qr.timestamp:return zB(e);case Qr.abstime:case Qr.date:case Qr.daterange:case Qr.int4range:case Qr.int8range:case Qr.money:case Qr.reltime:case Qr.text:case Qr.time:case Qr.timestamptz:case Qr.timetz:case Qr.tsrange:case Qr.tstzrange:return w5(e);default:return w5(e)}},w5=t=>t,BB=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},$B=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},UB=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qB=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>R8(e,s))}return t},zB=t=>typeof t=="string"?t.replace(" ","T"):t,M8=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class _1{constructor(e,r,n={},i=y5){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var MP;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(MP||(MP={}));class xp{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xp.syncState(this.state,i,a,o),this.pendingDiffs.forEach(l=>{this.state=xp.syncDiff(this.state,l,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=xp.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),s={},l={};return this.map(a,(u,f)=>{o[u]||(l[u]=f)}),this.map(o,(u,f)=>{const h=a[u];if(h){const p=f.map(v=>v.presence_ref),g=h.map(v=>v.presence_ref),y=f.filter(v=>g.indexOf(v.presence_ref)<0),b=h.filter(v=>p.indexOf(v.presence_ref)<0);y.length>0&&(s[u]=y),b.length>0&&(l[u]=b)}else s[u]=f}),this.syncDiff(a,{joins:s,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,l)=>{var u;const f=(u=e[s])!==null&&u!==void 0?u:[];if(e[s]=this.cloneDeep(l),f.length>0){const h=e[s].map(g=>g.presence_ref),p=f.filter(g=>h.indexOf(g.presence_ref)<0);e[s].unshift(...p)}n(s,f,l)}),this.map(o,(s,l)=>{let u=e[s];if(!u)return;const f=l.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),e[s]=u,i(s,u,l),u.length===0&&delete e[s]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var DP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(DP||(DP={}));var _p;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_p||(_p={}));var Gl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gl||(Gl={}));class CS{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _1(this,Fo.join,this.params,this.timeout),this.rejoinTimer=new I8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pi.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fo.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new xp(this),this.broadcastEndpointURL=M8(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==pi.closed){const{config:{broadcast:o,presence:s,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[_p.PRESENCE]&&this.bindings[_p.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:f}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(g=>e?.(Gl.CHANNEL_ERROR,g)),this._onClose(()=>e?.(Gl.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){e?.(Gl.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,v=(y=b?.length)!==null&&y!==void 0?y:0,w=[];for(let S=0;S<v;S++){const A=b[S],{filter:{event:k,schema:j,table:O,filter:M}}=A,N=g&&g[S];if(N&&N.event===k&&N.schema===j&&N.table===O&&N.filter===M)w.push(Object.assign(Object.assign({},A),{id:N.id}));else{this.unsubscribe(),this.state=pi.errored,e?.(Gl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Gl.SUBSCRIBED);return}}).receive("error",g=>{this.state=pi.errored,e?.(Gl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e?.(Gl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===pi.joined&&e===_p.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new _1(this,Fo.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pi.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _1(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MB){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:s,error:l,leave:u,join:f}=Fo;if(n&&[s,l,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var y,b,v;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(b=g.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(g=>g.callback(p,n)):(a=this.bindings[o])===null||a===void 0||a.filter(g=>{var y,b,v,w,S,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,j=(y=g.filter)===null||y===void 0?void 0:y.event;return k&&((b=r.ids)===null||b===void 0?void 0:b.includes(k))&&(j==="*"||j?.toLocaleLowerCase()===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const k=(S=(w=g?.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return k==="*"||k===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:b,table:v,commit_timestamp:w,type:S,errors:A}=y;p=Object.assign(Object.assign({},{schema:b,table:v,commit_timestamp:w,eventType:S,new:{},old:{},errors:A}),this._getPayloadRecords(y))}g.callback(p,n)})}_isClosed(){return this.state===pi.closed}_isJoined(){return this.state===pi.joined}_isJoining(){return this.state===pi.joining}_isLeaving(){return this.state===pi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&CS.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fo.close,{},e)}_onError(e){this._on(Fo.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=RP(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=RP(e.columns,e.old_record)),r}}const S1=()=>{},Om={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WB=[1e3,2e3,5e3,1e4],HB=1e4,VB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GB{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=y5,this.transport=null,this.heartbeatIntervalMs=Om.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=S1,this.ref=0,this.reconnectTimer=null,this.vsn=IP,this.logger=S1,this.conn=null,this.sendBuffer=[],this.serializer=new DB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${b5.websocket}`,this.httpEndpoint=M8(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NB.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Zc.connecting:return Qc.Connecting;case Zc.open:return Qc.Open;case Zc.closing:return Qc.Closing;default:return Qc.Closed}}isConnected(){return this.connectionState()===Qc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new CS(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(RB,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Om.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",l=a.status||"";this.log("receive",`${l} ${n} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Zc.open||this.conn.readyState===Zc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fo.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([VB],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:LB};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Fo.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new I8(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Om.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,s,l,u,f,h,p,g;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:y5,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Om.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=e?.heartbeatCallback)!==null&&s!==void 0?s:S1,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:IP,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e?.reconnectAfterMs)!==null&&u!==void 0?u:(y=>WB[y-1]||HB),this.vsn){case L8:this.encode=(f=e?.encode)!==null&&f!==void 0?f:((y,b)=>b(JSON.stringify(y))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((y,b)=>b(JSON.parse(y)));break;case IB:this.encode=(p=e?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class NS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class KB extends NS{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class x5 extends NS{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const TS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),YB=()=>Response,_5=t=>{if(Array.isArray(t))return t.map(r=>_5(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=_5(n)}),e},XB=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},A1=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},JB=(t,e,r)=>jt(void 0,void 0,void 0,function*(){const n=yield YB();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const a=t.status||500,o=i?.statusCode||a+"";e(new KB(A1(i),a,o))}).catch(i=>{e(new x5(A1(i),i))}):e(new x5(A1(t),t))}),ZB=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(XB(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Eg(t,e,r,n,i,a){return jt(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,ZB(e,n,i,a)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>JB(l,s,n))})})}function Rp(t,e,r,n){return jt(this,void 0,void 0,function*(){return Eg(t,"GET",e,r,n)})}function bs(t,e,r,n,i){return jt(this,void 0,void 0,function*(){return Eg(t,"POST",e,n,i,r)})}function S5(t,e,r,n,i){return jt(this,void 0,void 0,function*(){return Eg(t,"PUT",e,n,i,r)})}function QB(t,e,r,n){return jt(this,void 0,void 0,function*(){return Eg(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function LS(t,e,r,n,i){return jt(this,void 0,void 0,function*(){return Eg(t,"DELETE",e,n,i,r)})}class e${constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return jt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jn(e))return{data:null,error:e};throw e}})}}var D8;class t${constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[D8]="BlobDownloadBuilder",this.promise=null}asStream(){return new e$(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return jt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jn(e))return{data:null,error:e};throw e}})}}D8=Symbol.toStringTag;const r$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},FP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class n${constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=TS(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return jt(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},FP),i);let s=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),l&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(l))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,l&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),h=yield(e=="PUT"?S5:bs)(this.fetch,`${this.url}/object/${f}`,a,Object.assign({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jn(a))return{data:null,error:a};throw a}})}upload(e,r,n){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return jt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:FP.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield S5(this.fetch,s.toString(),l,{headers:f});return{data:{path:a,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return jt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield bs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new NS("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}update(e,r,n){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return jt(this,void 0,void 0,function*(){try{return{data:yield bs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield bs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return jt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield bs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return jt(this,void 0,void 0,function*(){try{const i=yield bs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"",s=this._getFinalPath(e),l=()=>Rp(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new t$(l,this.shouldThrowOnError)}info(e){return jt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Rp(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:_5(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}exists(e){return jt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield QB(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n)&&n instanceof x5){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(e){return jt(this,void 0,void 0,function*(){try{return{data:yield LS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}list(e,r,n){return jt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},r$),r),{prefix:e||""});return{data:yield bs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}listV2(e,r){return jt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield bs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const F8="2.81.1",B8={"X-Client-Info":`storage-js/${F8}`};class i${constructor(e,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B8),r),this.fetch=TS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return jt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Rp(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}getBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield Rp(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}createBucket(e){return jt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield bs(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jn(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return jt(this,void 0,void 0,function*(){try{return{data:yield S5(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield bs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield LS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class a${constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B8),r),this.fetch=TS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield bs(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}listBuckets(e){return jt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Rp(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield LS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}})}}const IS={"X-Client-Info":`storage-js/${F8}`,"Content-Type":"application/json"};class $8 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function uo(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class P1 extends $8{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class o$ extends $8{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var BP;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(BP||(BP={}));const RS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),s$=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$P=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l$=(t,e,r)=>jt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const s=o?.statusCode||o?.code||i+"";e(new P1($P(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new P1(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;e(new P1(s,i,o))}}else e(new o$($P(t),t))}),u$=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?(s$(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function c$(t,e,r,n,i,a){return jt(this,void 0,void 0,function*(){return new Promise((o,s)=>{t(r,u$(e,n,i,a)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>l$(l,s,n))})})}function co(t,e,r,n,i){return jt(this,void 0,void 0,function*(){return c$(t,"POST",e,n,i,r)})}class f${constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},IS),r),this.fetch=RS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield co(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}getIndex(e,r){return jt(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(uo(n))return{data:null,error:n};throw n}})}listIndexes(e){return jt(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return jt(this,void 0,void 0,function*(){try{return{data:(yield co(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(uo(n))return{data:null,error:n};throw n}})}}class d${constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},IS),r),this.fetch=RS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield co(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}getVectors(e){return jt(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}listVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield co(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}queryVectors(e){return jt(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}deleteVectors(e){return jt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield co(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}}class h${constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},IS),r),this.fetch=RS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield co(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}getBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}listBuckets(){return jt(this,arguments,void 0,function*(e={}){try{return{data:yield co(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}deleteBucket(e){return jt(this,void 0,void 0,function*(){try{return{data:(yield co(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(uo(r))return{data:null,error:r};throw r}})}}class p$ extends h${constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new g$(this.url,this.headers,e,this.fetch)}}class g$ extends f${constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return jt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return jt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return jt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return jt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new m$(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class m$ extends d${constructor(e,r,n,i,a){super(e,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return jt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return jt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return jt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return jt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return jt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class v$ extends i${constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new n$(this.url,this.headers,e,this.fetch)}get vectors(){return new p$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new a$(this.url+"/iceberg",this.headers,this.fetch)}}const y$="2.81.1";let mp="";typeof Deno<"u"?mp="deno":typeof document<"u"?mp="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mp="react-native":mp="node";const b$={"X-Client-Info":`supabase-js-${mp}/${y$}`},w$={headers:b$},x$={schema:"public"},_$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},S$={},A$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),P$=()=>Headers,E$=(t,e,r)=>{const n=A$(r),i=P$();return async(a,o)=>{var s;const l=(s=await e())!==null&&s!==void 0?s:t;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(a,Object.assign(Object.assign({},o),{headers:u}))}};function k$(t){return t.endsWith("/")?t:t+"/"}function O$(t,e){var r,n;const{db:i,auth:a,realtime:o,global:s}=t,{db:l,auth:u,realtime:f,global:h}=e,p={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),s),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=s?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function j$(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(k$(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const U8="2.81.1",Pd=30*1e3,A5=3,E1=A5*Pd,C$="http://localhost:9999",N$="supabase.auth.token",T$={"X-Client-Info":`gotrue-js/${U8}`},P5="X-Supabase-Api-Version",q8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,I$=600*1e3;class Mp extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Rt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class R$ extends Mp{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function M$(t){return Rt(t)&&t.name==="AuthApiError"}class ef extends Mp{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class sc extends Mp{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class ms extends sc{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function D$(t){return Rt(t)&&t.name==="AuthSessionMissingError"}class pd extends sc{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class jm extends sc{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cm extends sc{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function F$(t){return Rt(t)&&t.name==="AuthImplicitGrantRedirectError"}class UP extends sc{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class E5 extends sc{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function k1(t){return Rt(t)&&t.name==="AuthRetryableFetchError"}class qP extends sc{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class k5 extends sc{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const y0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zP=` 	
\r=`.split(""),B$=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zP.length;e+=1)t[zP[e].charCodeAt(0)]=-2;for(let e=0;e<y0.length;e+=1)t[y0[e].charCodeAt(0)]=e;return t})();function WP(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(y0[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(y0[n]),e.queuedBits-=6}}function z8(t,e,r){const n=B$[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function HP(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{q$(o,n,r)};for(let o=0;o<t.length;o+=1)z8(t.charCodeAt(o),i,a);return e.join("")}function $$(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function U$(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}$$(n,e)}}function q$(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Rd(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)z8(t.charCodeAt(i),r,n);return new Uint8Array(e)}function z$(t){const e=[];return U$(t,r=>e.push(r)),new Uint8Array(e)}function rf(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>WP(i,r,n)),WP(null,r,n),e.join("")}function W$(t){return Math.round(Date.now()/1e3)+t}function H$(){return Symbol("auth-callback")}const Di=()=>typeof window<"u"&&typeof document<"u",Hc={tested:!1,writable:!1},W8=()=>{if(!Di())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hc.tested)return Hc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Hc.tested=!0,Hc.writable=!0}catch{Hc.tested=!0,Hc.writable=!1}return Hc.writable};function V$(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const H8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),G$=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ed=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Vc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},zu=async(t,e)=>{await t.removeItem(e)};class Rv{constructor(){this.promise=new Rv.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Rv.promiseConstructor=Promise;function O1(t){const e=t.split(".");if(e.length!==3)throw new k5("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!L$.test(e[n]))throw new k5("JWT not in base64url format");return{header:JSON.parse(HP(e[0])),payload:JSON.parse(HP(e[1])),signature:Rd(e[2]),raw:{header:e[0],payload:e[1]}}}async function K$(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Y$(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function X$(t){return("0"+t.toString(16)).substr(-2)}function J$(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,X$).join("")}async function Z$(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function Q$(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Z$(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gd(t,e,r=!1){const n=J$();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ed(t,`${e}-code-verifier`,i);const a=await Q$(n);return[a,n===a?"plain":"s256"]}const e9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function t9(t){const e=t.headers.get(P5);if(!e||!e.match(e9))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function r9(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function n9(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const i9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function md(t){if(!i9.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function j1(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function a9(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function VP(t){return JSON.parse(JSON.stringify(t))}const Kc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),o9=[502,503,504];async function GP(t){var e;if(!G$(t))throw new E5(Kc(t),0);if(o9.includes(t.status))throw new E5(Kc(t),t.status);let r;try{r=await t.json()}catch(a){throw new ef(Kc(a),a)}let n;const i=t9(t);if(i&&i.getTime()>=q8["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qP(Kc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ms}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new qP(Kc(r),t.status,r.weak_password.reasons);throw new R$(Kc(r),t.status||500,n)}const s9=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Vt(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[P5]||(a[P5]=q8["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await l9(t,e,r+s,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function l9(t,e,r,n,i,a){const o=s9(e,n,i,a);let s;try{s=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new E5(Kc(l),0)}if(s.ok||await GP(s),n?.noResolveJson)return s;try{return await s.json()}catch(l){await GP(l)}}function vs(t){var e;let r=null;f9(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=W$(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function KP(t){const e=vs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Gu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function u9(t){return{data:t,error:null}}function c9(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=yh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},l=Object.assign({},o);return{data:{properties:s,user:l},error:null}}function YP(t){return t}function f9(t){return t.access_token&&t.refresh_token&&t.expires_in}const C1=["global","local","others"];class d9{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=H8(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=C1[0]){if(C1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${C1.join(", ")}`);try{return await Vt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gu})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=yh(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:c9,redirectTo:r?.redirectTo})}catch(r){if(Rt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gu})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},f=await Vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:YP});if(f.error)throw f.error;const h=await f.json(),p=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(s=f.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Rt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){md(e);try{return await Vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gu})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){md(e);try{return await Vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Gu})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){md(e);try{return await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gu})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){md(e.userId);try{const{data:r,error:n}=await Vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){md(e.userId),md(e.id);try{return{data:await Vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,s,l;try{const u={nextPage:null,lastPage:0,total:0},f=await Vt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:YP});if(f.error)throw f.error;const h=await f.json(),p=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(s=f.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=b}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Rt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Vt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Vt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Vt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Vt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Vt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}}function XP(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const vd={debug:!!(globalThis&&W8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V8 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class h9 extends V8{}async function p9(t,e,r){vd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),vd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){vd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{vd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw vd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new h9(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(vd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function g9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function G8(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function m9(t){return parseInt(t,16)}function v9(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function y9(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:l,resources:u,scheme:f,uri:h,version:p}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=G8(t.address),y=f?`${f}://${n}`:n,b=t.statement?`${t.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${g}

${b}`;let w=`URI: ${h}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),s&&(w+=`
Not Before: ${s.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const A of u){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);S+=`
- ${A}`}w+=S}return`${v}
${w}`}class ni extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class b0 extends ni{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function b9({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ni({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ni({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ni({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ni({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ni({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ni({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new ni({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ni({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(K8(o)){if(a.rp.id!==o)return new ni({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ni({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ni({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ni({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ni({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function w9({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ni({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ni({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(K8(n)){if(r.rpId!==n)return new ni({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ni({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ni({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ni({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class x9{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const _9=new x9;function S9(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=yh(t,["challenge","user","excludeCredentials"]),a=Rd(e).buffer,o=Object.assign(Object.assign({},r),{id:Rd(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Rd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function A9(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=yh(t,["challenge","allowCredentials"]),i=Rd(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Rd(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function P9(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:rf(new Uint8Array(t.response.attestationObject)),clientDataJSON:rf(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function E9(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:rf(new Uint8Array(i.authenticatorData)),clientDataJSON:rf(new Uint8Array(i.clientDataJSON)),signature:rf(new Uint8Array(i.signature)),userHandle:i.userHandle?rf(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function K8(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function JP(){var t,e;return!!(Di()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function k9(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new b0("Browser returned unexpected credential type",e)}:{data:null,error:new b0("Empty credential response",e)}}catch(e){return{data:null,error:b9({error:e,options:t})}}}async function O9(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new b0("Browser returned unexpected credential type",e)}:{data:null,error:new b0("Empty credential response",e)}}catch(e){return{data:null,error:w9({error:e,options:t})}}}const j9={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},C9={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function w0(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const s=n[a];e(s)?n[a]=w0(s,o):n[a]=w0(o)}else n[a]=o}return n}function N9(t,e){return w0(j9,t,e||{})}function T9(t,e){return w0(C9,t,e||{})}class L9{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:s};const l=i??_9.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=N9(o.webauthn.credential_options.publicKey,a?.create),{data:f,error:h}=await k9({publicKey:u,signal:l});return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const u=T9(o.webauthn.credential_options.publicKey,a?.request),{data:f,error:h}=await O9(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return f?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(o){return Rt(o)?{data:null,error:o}:{data:null,error:new ef("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Mp("rpId is required for WebAuthn authentication")};try{if(!JP())return{data:null,error:new ef("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return Rt(o)?{data:null,error:o}:{data:null,error:new ef("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Mp("rpId is required for WebAuthn registration")};try{if(!JP())return{data:null,error:new ef("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f?.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Rt(o)?{data:null,error:o}:{data:null,error:new ef("Unexpected error in register",o)}}}}g9();const I9={url:C$,storageKey:N$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ZP(t,e,r){return await r()}const yd={};class Dp{get jwks(){var e,r;return(r=(e=yd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){yd[this.storageKey]=Object.assign(Object.assign({},yd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=yd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){yd[this.storageKey]=Object.assign(Object.assign({},yd[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},I9),e);if(this.storageKey=a.storageKey,this.instanceID=(r=Dp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Dp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Di()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new d9({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=H8(a.fetch),this.lock=a.lock||ZP,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:Di()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=p9:this.lock=ZP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new L9(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:W8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=XP(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=XP(this.memoryStorage)),Di()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${U8}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Di()&&(r=V$(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Di()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),F$(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Rt(r)?this._returnResult({error:r}):this._returnResult({error:new ef("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:vs}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(Rt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:f,password:h,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await gd(this.storage,this.storageKey)),a=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p?.emailRedirectTo,body:{email:f,password:h,data:(r=p?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:y},xform:vs})}else if("phone"in e){const{phone:f,password:h,options:p}=e;a=await Vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=p?.data)!==null&&n!==void 0?n:{},channel:(i=p?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:vs})}else throw new jm("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(Rt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:s}=e;r=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:KP})}else if("phone"in e){const{phone:a,password:o,options:s}=e;r=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:KP})}else throw new jm("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new pd;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,s,l,u,f,h,p;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:b,wallet:v,statement:w,options:S}=e;let A;if(Di())if(typeof v=="object")A=v;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")A=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=v}const k=new URL((r=S?.url)!==null&&r!==void 0?r:window.location.href),j=await A.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=G8(j[0]);let M=(n=S?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const C=await A.request({method:"eth_chainId"});M=m9(C)}const N={domain:k.host,address:O,statement:w,uri:k.href,version:"1",chainId:M,nonce:(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=S?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=S?.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=S?.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=y9(N),y=await A.request({method:"personal_sign",params:[v9(g),O]})}try{const{data:b,error:v}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:vs});if(v)throw v;if(!b||!b.session||!b.user){const w=new pd;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(Rt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var r,n,i,a,o,s,l,u,f,h,p,g;let y,b;if("message"in e)y=e.message,b=e.signature;else{const{chain:v,wallet:w,statement:S,options:A}=e;let k;if(Di())if(typeof w=="object")k=w;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))k=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=w}const j=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const O=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),S?{statement:S}:null));let M;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")M=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)M=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)y=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),b=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=A?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=A?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((o=A?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((s=A?.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((l=A?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((h=(f=A?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...A.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const O=await k.signMessage(new TextEncoder().encode(y),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=O}}try{const{data:v,error:w}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:rf(b)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:vs});if(w)throw w;if(!v||!v.session||!v.user){const S=new pd;return this._returnResult({data:{user:null,session:null},error:S})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:w})}catch(v){if(Rt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const r=await Vc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:vs});if(await zu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new pd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Rt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,s=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:vs}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const f=new pd;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(Rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:s,options:l}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await gd(this.storage,this.storageKey));const{error:h}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:s,options:l}=e,{data:u,error:f}=await Vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:f})}throw new jm("You must provide either an email or phone number.")}catch(s){if(Rt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await Vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:vs});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,o;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await gd(this.storage,this.storageKey));const u=await Vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:u9});return!((a=u.data)===null||a===void 0)&&a.url&&Di()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(Rt(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ms;const{error:i}=await Vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Rt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await Vt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:s}=await Vt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:s})}throw new jm("You must provide either an email or phone number and a type")}catch(r){if(Rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Vc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<E1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Vc(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=j1()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=a9(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gu}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ms}:await Vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Gu})})}catch(r){if(Rt(r))return D$(r)&&(await this._removeSession(),await zu(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ms;const o=i.session;let s=null,l=null;this.flowType==="pkce"&&e.email!=null&&([s,l]=await gd(this.storage,this.storageKey));const{data:u,error:f}=await Vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:l}),jwt:o.access_token,xform:Gu});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(Rt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ms;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=O1(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Rt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:s}=r;if(s)throw s;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new ms;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Di())throw new Cm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new UP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cm("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new UP("No code detected.");const{data:S,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:l,token_type:u}=e;if(!a||!s||!o||!u)throw new Cm("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(s);let p=f+h;l&&(p=parseInt(l));const g=p-f;g*1e3<=Pd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=p-h;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,f);const{data:b,error:v}=await this._getUser(a);if(v)throw v;const w={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(Rt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Vc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,e);if(s&&!(M$(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return e!=="others"&&(await this._removeSession(),await zu(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=H$(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await gd(this.storage,this.storageKey,!0));try{return await Vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Rt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,l,u,f;const{data:h,error:p}=a;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Vt(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Di()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Rt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:l,access_token:u,nonce:f}=e,h=await Vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:l,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:vs}),{data:p,error:g}=h;return g?this._returnResult({data:{user:null,session:null},error:g}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new pd}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:g}))}catch(i){if(Rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await Vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Y$(async i=>(i>0&&await K$(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vs})),(i,a)=>{const o=200*Math.pow(2,i);return a&&k1(a)&&Date.now()+o-n<Pd})}catch(n){if(this._debug(r,"error",n),Rt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Di()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Vc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Vc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Ed(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:j1()}else if(i&&!i.user&&!i.user){const o=await Vc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await zu(this.storage,this.storageKey+"-user"),await Ed(this.storage,this.storageKey,i)):i.user=j1()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<E1;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${E1}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),k1(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ms;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Rv;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new ms;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Rt(a)){const o={data:null,error:a};return k1(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(e,r)}catch(l){a.push(l)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ed(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=VP(i);await Ed(this.storage,this.storageKey,a)}else{const i=VP(r);await Ed(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await zu(this.storage,this.storageKey),await zu(this.storage,this.storageKey+"-code-verifier"),await zu(this.storage,this.storageKey+"-user"),this.userStorage&&await zu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Di()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Pd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Pd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Pd}ms, refresh threshold is ${A5} ticks`),i<=A5&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof V8)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Di()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await gd(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await Vt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?P9(e.webauthn.credential_response):E9(e.webauthn.credential_response)})}:{code:e.code}),{data:s,error:l}=await Vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await Vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:S9(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:A9(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=O1(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Vt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ms})})}catch(r){if(Rt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ms});const o=await Vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Di()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ms});const o=await Vt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Di()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(s=>s.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===e),n&&this.jwks_cached_at+I$>i)return n;const{data:a,error:o}=await Vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:y}=await this.getSession();if(y||!g.session)return this._returnResult({data:null,error:y});n=g.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:l}}=O1(n);r?.allowExpired||r9(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:a,header:i,signature:o},error:null}}const f=n9(i.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,o,z$(`${s}.${l}`)))throw new k5("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Rt(n))return this._returnResult({data:null,error:n});throw n}}}Dp.nextInstanceID={};const R9=Dp;class M9 extends R9{constructor(e){super(e)}}class D9{constructor(e,r,n){var i,a,o;this.supabaseUrl=e,this.supabaseKey=r;const s=j$(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:x$,realtime:S$,auth:Object.assign(Object.assign({},_$),{storageKey:l}),global:w$},f=O$(n??{},u);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=E$(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new CB(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new v$(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new EB(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:l,debug:u,throwOnError:f},h,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new M9({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:l,debug:u,throwOnError:f,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new GB(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const F9=(t,e,r)=>new D9(t,e,r);function B9(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}B9()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $9="your_url_here",U9="Your_anon_key_here",Qe=F9($9,U9),Y8=se.createContext(void 0),q9=({children:t})=>{const[e,r]=se.useState(null),[n,i]=se.useState(null),[a,o]=se.useState(!0);se.useEffect(()=>{const p=async(b,v,w)=>{const{data:S}=await Qe.from("profiles").select("*").eq("id",b).maybeSingle();if(S){const O=S;i({id:O.id,full_name:O.full_name??"",role:O.role??"architect",created_at:O.created_at??void 0});return}const A=w?.full_name||v?.split("@")[0]||"User",k=w?.role??"architect",{data:j}=await Qe.from("profiles").upsert({id:b,full_name:A,role:k}).select("*").single();if(j){const O=j;i({id:O.id,full_name:O.full_name??A,role:O.role??k,created_at:O.created_at??void 0})}},g=async()=>{const{data:{session:b}}=await Qe.auth.getSession(),v=b?.user??null;r(v),v&&await p(v.id,v.email??void 0,v.user_metadata),o(!1)},{data:y}=Qe.auth.onAuthStateChange((b,v)=>{const w=v?.user??null;r(w),w?p(w.id,w.email??void 0,w.user_metadata):i(null)});return g(),()=>{y.subscription.unsubscribe()}},[]);const s=async(p,g)=>{o(!0);const{error:y}=await Qe.auth.signInWithPassword({email:p,password:g});if(o(!1),y)throw y},l=async(p,g,y,b)=>{o(!0);const{data:v,error:w}=await Qe.auth.signUp({email:p,password:g,options:{data:{full_name:y,role:b}}});if(w)throw o(!1),w;v.user&&await Qe.from("profiles").upsert({id:v.user.id,full_name:y,role:b}),o(!1)},u=async()=>{o(!0),await Qe.auth.signOut(),o(!1)},f=async p=>{o(!0);const{error:g}=await Qe.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(o(!1),g)throw g},h=se.useMemo(()=>({user:e,profile:n,loading:a,signIn:s,signUp:l,signOut:u,resetPassword:f}),[e,n,a]);return P.jsx(Y8.Provider,{value:h,children:t})},ol=()=>{const t=se.useContext(Y8);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},z9=()=>{const{signOut:t,profile:e}=ol();return P.jsx("header",{className:"sticky top-0 z-20 border-b border-bpas-grey/30 bg-bpas-black text-white shadow",children:P.jsxs("div",{className:"flex items-center justify-between px-4 py-3 lg:px-8",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsxs("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/10",children:[P.jsx("img",{src:t8.logoLight,alt:"BPAS",className:"h-10 w-10 object-contain",onError:r=>{r.target.style.display="none"}}),P.jsx("span",{className:"sr-only",children:"BPAS"})]}),P.jsxs("div",{children:[P.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-bpas-light font-syne",children:"BPAS architects"}),P.jsx("p",{className:"text-sm font-raleway text-white/80",children:"Beyond blueprints and boundaries."}),P.jsx("span",{className:"mt-1 inline-block h-0.5 w-12 bg-bpas-yellow"})]})]}),P.jsxs("div",{className:"flex items-center gap-4 text-sm font-raleway text-white",children:[e&&P.jsxs("span",{className:"hidden sm:block text-white/80",children:[e.full_name," (",e.role,")"]}),P.jsx(yf,{to:"/settings",className:"font-syne text-bpas-yellow hover:text-yellow-400",children:"Settings"}),P.jsx("button",{onClick:t,className:"btn-secondary px-4 py-2",children:"Sign out"})]})]})})},W9="block px-4 py-2 rounded-lg text-sm font-medium font-raleway hover:bg-bpas-yellow/20 hover:text-bpas-black",H9=()=>{const t=[{to:"/dashboard",label:"Dashboard"},{to:"/projects",label:"Projects"},{to:"/reports",label:"Reports"}];return P.jsx("aside",{className:"hidden w-56 shrink-0 border-r border-bpas-grey/20 bg-white/90 px-3 py-4 shadow-sm lg:block",children:P.jsx("nav",{className:"space-y-1",children:t.map(e=>P.jsx(e8,{to:e.to,className:({isActive:r})=>`${W9} ${r?"bg-bpas-yellow/30 text-bpas-black border border-bpas-yellow/60":"text-bpas-grey"}`,children:e.label},e.to))})})},V9=[{to:"/dashboard",label:"Dashboard",icon:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})})},{to:"/projects",label:"Projects",icon:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})})},{to:"/reports",label:"Reports",icon:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})}],G9=()=>P.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-30 flex items-center justify-around border-t border-bpas-grey/20 bg-white px-4 py-2 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] lg:hidden",children:V9.map(t=>P.jsx(e8,{to:t.to,className:({isActive:e})=>`flex flex-col items-center gap-1 p-2 text-xs font-medium font-raleway ${e?"text-bpas-black":"text-bpas-grey"}`,children:({isActive:e})=>P.jsxs(P.Fragment,{children:[P.jsx("div",{className:`rounded-full p-1 ${e?"bg-bpas-yellow/30":""}`,children:t.icon}),P.jsx("span",{children:t.label})]})},t.to))}),K9=({children:t})=>P.jsxs("div",{className:"min-h-screen bg-bpas-light text-bpas-black pb-16 lg:pb-0",children:[P.jsx(z9,{}),P.jsxs("div",{className:"mx-auto flex max-w-full lg:max-w-7xl gap-6 px-4 py-6 lg:px-10 overflow-x-hidden",children:[P.jsx(H9,{}),P.jsx("main",{className:"flex-1 space-y-4 w-full max-w-full min-w-0",children:t})]}),P.jsx(G9,{})]});function X8(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=X8(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Pr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=X8(t))&&(n&&(n+=" "),n+=e);return n}var N1,QP;function qa(){if(QP)return N1;QP=1;var t=Array.isArray;return N1=t,N1}var T1,e4;function J8(){if(e4)return T1;e4=1;var t=typeof Ku=="object"&&Ku&&Ku.Object===Object&&Ku;return T1=t,T1}var L1,t4;function sl(){if(t4)return L1;t4=1;var t=J8(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return L1=r,L1}var I1,r4;function kg(){if(r4)return I1;r4=1;var t=sl(),e=t.Symbol;return I1=e,I1}var R1,n4;function Y9(){if(n4)return R1;n4=1;var t=kg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(s?o[i]=l:delete o[i]),f}return R1=a,R1}var M1,i4;function X9(){if(i4)return M1;i4=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return M1=r,M1}var D1,a4;function lu(){if(a4)return D1;a4=1;var t=kg(),e=Y9(),r=X9(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?e(s):r(s)}return D1=o,D1}var F1,o4;function uu(){if(o4)return F1;o4=1;function t(e){return e!=null&&typeof e=="object"}return F1=t,F1}var B1,s4;function wh(){if(s4)return B1;s4=1;var t=lu(),e=uu(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return B1=n,B1}var $1,l4;function MS(){if(l4)return $1;l4=1;var t=qa(),e=wh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return $1=i,$1}var U1,u4;function lc(){if(u4)return U1;u4=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return U1=t,U1}var q1,c4;function DS(){if(c4)return q1;c4=1;var t=lu(),e=lc(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var l=t(s);return l==n||l==i||l==r||l==a}return q1=o,q1}var z1,f4;function J9(){if(f4)return z1;f4=1;var t=sl(),e=t["__core-js_shared__"];return z1=e,z1}var W1,d4;function Z9(){if(d4)return W1;d4=1;var t=J9(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return W1=r,W1}var H1,h4;function Z8(){if(h4)return H1;h4=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return H1=r,H1}var V1,p4;function Q9(){if(p4)return V1;p4=1;var t=DS(),e=Z9(),r=lc(),n=Z8(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,f=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!r(p)||e(p))return!1;var g=t(p)?f:a;return g.test(n(p))}return V1=h,V1}var G1,g4;function eU(){if(g4)return G1;g4=1;function t(e,r){return e?.[r]}return G1=t,G1}var K1,m4;function Ef(){if(m4)return K1;m4=1;var t=Q9(),e=eU();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return K1=r,K1}var Y1,v4;function Mv(){if(v4)return Y1;v4=1;var t=Ef(),e=t(Object,"create");return Y1=e,Y1}var X1,y4;function tU(){if(y4)return X1;y4=1;var t=Mv();function e(){this.__data__=t?t(null):{},this.size=0}return X1=e,X1}var J1,b4;function rU(){if(b4)return J1;b4=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return J1=t,J1}var Z1,w4;function nU(){if(w4)return Z1;w4=1;var t=Mv(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return n.call(o,a)?o[a]:void 0}return Z1=i,Z1}var Q1,x4;function iU(){if(x4)return Q1;x4=1;var t=Mv(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return Q1=n,Q1}var eb,_4;function aU(){if(_4)return eb;_4=1;var t=Mv(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return eb=r,eb}var tb,S4;function oU(){if(S4)return tb;S4=1;var t=tU(),e=rU(),r=nU(),n=iU(),i=aU();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,tb=a,tb}var rb,A4;function sU(){if(A4)return rb;A4=1;function t(){this.__data__=[],this.size=0}return rb=t,rb}var nb,P4;function FS(){if(P4)return nb;P4=1;function t(e,r){return e===r||e!==e&&r!==r}return nb=t,nb}var ib,E4;function Dv(){if(E4)return ib;E4=1;var t=FS();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return ib=e,ib}var ab,k4;function lU(){if(k4)return ab;k4=1;var t=Dv(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return ab=n,ab}var ob,O4;function uU(){if(O4)return ob;O4=1;var t=Dv();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return ob=e,ob}var sb,j4;function cU(){if(j4)return sb;j4=1;var t=Dv();function e(r){return t(this.__data__,r)>-1}return sb=e,sb}var lb,C4;function fU(){if(C4)return lb;C4=1;var t=Dv();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return lb=e,lb}var ub,N4;function Fv(){if(N4)return ub;N4=1;var t=sU(),e=lU(),r=uU(),n=cU(),i=fU();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ub=a,ub}var cb,T4;function BS(){if(T4)return cb;T4=1;var t=Ef(),e=sl(),r=t(e,"Map");return cb=r,cb}var fb,L4;function dU(){if(L4)return fb;L4=1;var t=oU(),e=Fv(),r=BS();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return fb=n,fb}var db,I4;function hU(){if(I4)return db;I4=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return db=t,db}var hb,R4;function Bv(){if(R4)return hb;R4=1;var t=hU();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return hb=e,hb}var pb,M4;function pU(){if(M4)return pb;M4=1;var t=Bv();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return pb=e,pb}var gb,D4;function gU(){if(D4)return gb;D4=1;var t=Bv();function e(r){return t(this,r).get(r)}return gb=e,gb}var mb,F4;function mU(){if(F4)return mb;F4=1;var t=Bv();function e(r){return t(this,r).has(r)}return mb=e,mb}var vb,B4;function vU(){if(B4)return vb;B4=1;var t=Bv();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return vb=e,vb}var yb,$4;function $S(){if($4)return yb;$4=1;var t=dU(),e=pU(),r=gU(),n=mU(),i=vU();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,yb=a,yb}var bb,U4;function Q8(){if(U4)return bb;U4=1;var t=$S(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,bb=r,bb}var wb,q4;function yU(){if(q4)return wb;q4=1;var t=Q8(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return wb=r,wb}var xb,z4;function bU(){if(z4)return xb;z4=1;var t=yU(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,l,u){a.push(l?u.replace(r,"$1"):s||o)}),a});return xb=n,xb}var _b,W4;function US(){if(W4)return _b;W4=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return _b=t,_b}var Sb,H4;function wU(){if(H4)return Sb;H4=1;var t=kg(),e=US(),r=qa(),n=wh(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return e(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return Sb=o,Sb}var Ab,V4;function eL(){if(V4)return Ab;V4=1;var t=wU();function e(r){return r==null?"":t(r)}return Ab=e,Ab}var Pb,G4;function tL(){if(G4)return Pb;G4=1;var t=qa(),e=MS(),r=bU(),n=eL();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return Pb=i,Pb}var Eb,K4;function $v(){if(K4)return Eb;K4=1;var t=wh();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Eb=e,Eb}var kb,Y4;function qS(){if(Y4)return kb;Y4=1;var t=tL(),e=$v();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return kb=r,kb}var Ob,X4;function rL(){if(X4)return Ob;X4=1;var t=qS();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return Ob=e,Ob}var xU=rL();const Wo=Br(xU);var jb,J4;function _U(){if(J4)return jb;J4=1;function t(e){return e==null}return jb=t,jb}var SU=_U();const Er=Br(SU);var Cb,Z4;function AU(){if(Z4)return Cb;Z4=1;var t=lu(),e=qa(),r=uu(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return Cb=i,Cb}var PU=AU();const bf=Br(PU);var EU=DS();const dr=Br(EU);var kU=lc();const xh=Br(kU);var Nb={exports:{}},Cr={};var Q4;function OU(){if(Q4)return Cr;Q4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function b(v){if(typeof v=="object"&&v!==null){var w=v.$$typeof;switch(w){case t:switch(v=v.type,v){case r:case i:case n:case u:case f:return v;default:switch(v=v&&v.$$typeof,v){case s:case o:case l:case p:case h:case a:return v;default:return w}}case e:return w}}}return Cr.ContextConsumer=o,Cr.ContextProvider=a,Cr.Element=t,Cr.ForwardRef=l,Cr.Fragment=r,Cr.Lazy=p,Cr.Memo=h,Cr.Portal=e,Cr.Profiler=i,Cr.StrictMode=n,Cr.Suspense=u,Cr.SuspenseList=f,Cr.isAsyncMode=function(){return!1},Cr.isConcurrentMode=function(){return!1},Cr.isContextConsumer=function(v){return b(v)===o},Cr.isContextProvider=function(v){return b(v)===a},Cr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Cr.isForwardRef=function(v){return b(v)===l},Cr.isFragment=function(v){return b(v)===r},Cr.isLazy=function(v){return b(v)===p},Cr.isMemo=function(v){return b(v)===h},Cr.isPortal=function(v){return b(v)===e},Cr.isProfiler=function(v){return b(v)===i},Cr.isStrictMode=function(v){return b(v)===n},Cr.isSuspense=function(v){return b(v)===u},Cr.isSuspenseList=function(v){return b(v)===f},Cr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===i||v===n||v===u||v===f||v===g||typeof v=="object"&&v!==null&&(v.$$typeof===p||v.$$typeof===h||v.$$typeof===a||v.$$typeof===o||v.$$typeof===l||v.$$typeof===y||v.getModuleId!==void 0)},Cr.typeOf=b,Cr}var eE;function jU(){return eE||(eE=1,Nb.exports=OU()),Nb.exports}var CU=jU(),Tb,tE;function nL(){if(tE)return Tb;tE=1;var t=lu(),e=uu(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Tb=n,Tb}var Lb,rE;function NU(){if(rE)return Lb;rE=1;var t=nL();function e(r){return t(r)&&r!=+r}return Lb=e,Lb}var TU=NU();const Og=Br(TU);var LU=nL();const IU=Br(LU);var Ss=function(e){return e===0?0:e>0?1:-1},nf=function(e){return bf(e)&&e.indexOf("%")===e.length-1},dt=function(e){return IU(e)&&!Og(e)},RU=function(e){return Er(e)},mi=function(e){return dt(e)||bf(e)},MU=0,Uv=function(e){var r=++MU;return"".concat(e||"").concat(r)},wf=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!dt(e)&&!bf(e))return n;var a;if(nf(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Og(a)&&(a=n),i&&a>r&&(a=r),a},kd=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},DU=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},bd=function(e,r){return dt(e)&&dt(r)?function(n){return e+n*(r-e)}:function(){return r}};function O5(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Wo(n,e))===r})}var FU=function(e,r){return dt(e)&&dt(r)?e-r:bf(e)&&bf(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Md(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function j5(t){"@babel/helpers - typeof";return j5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j5(t)}var BU=["viewBox","children"],$U=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],nE=["points","pathLength"],Ib={svg:BU,polygon:nE,polyline:nE},zS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],x0=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(se.isValidElement(e)&&(n=e.props),!xh(n))return null;var i={};return Object.keys(n).forEach(function(a){zS.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},UU=function(e,r,n){return function(i){return e(r,n,i),null}},_0=function(e,r,n){if(!xh(e)||j5(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];zS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=UU(o,r,n))}),i},qU=["children"],zU=["children"];function iE(t,e){if(t==null)return{};var r=WU(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var aE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ql=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},oE=null,Rb=null,WS=function t(e){if(e===oE&&Array.isArray(Rb))return Rb;var r=[];return se.Children.forEach(e,function(n){Er(n)||(CU.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Rb=r,oE=e,r};function As(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ql(i)}):n=[Ql(e)],WS(t).forEach(function(i){var a=Wo(i,"type.displayName")||Wo(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function lo(t,e){var r=As(t,e);return r&&r[0]}var sE=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!dt(n)||n<=0||!dt(i)||i<=0)},HU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],VU=function(e){return e&&e.type&&bf(e.type)&&HU.indexOf(e.type)>=0},GU=function(e,r,n,i){var a,o=(a=Ib?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!dr(e)&&(i&&o.includes(r)||$U.includes(r))||n&&zS.includes(r)},Tr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(se.isValidElement(e)&&(i=e.props),!xh(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;GU((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},C5=function t(e,r){if(e===r)return!0;var n=se.Children.count(e);if(n!==se.Children.count(r))return!1;if(n===0)return!0;if(n===1)return lE(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!lE(a,o))return!1}return!0},lE=function(e,r){if(Er(e)&&Er(r))return!0;if(!Er(e)&&!Er(r)){var n=e.props||{},i=n.children,a=iE(n,qU),o=r.props||{},s=o.children,l=iE(o,zU);return i&&s?Md(a,l)&&C5(i,s):!i&&!s?Md(a,l):!1}return!1},uE=function(e,r){var n=[],i={};return WS(e).forEach(function(a,o){if(VU(a))n.push(a);else if(a){var s=Ql(a.type),l=r[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var h=u(a,s,o);n.push(h),i[s]=!0}}}),n},KU=function(e){var r=e&&e.type;return r&&aE[r]?aE[r]:null},YU=function(e,r){return WS(r).indexOf(e)},XU=["children","width","height","viewBox","className","style","title","desc"];function N5(){return N5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N5.apply(this,arguments)}function JU(t,e){if(t==null)return{};var r=ZU(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZU(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function T5(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=JU(t,XU),f=i||{width:r,height:n,x:0,y:0},h=Pr("recharts-surface",a);return ge.createElement("svg",N5({},Tr(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),ge.createElement("title",null,s),ge.createElement("desc",null,l),e)}var QU=["children","className"];function L5(){return L5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L5.apply(this,arguments)}function eq(t,e){if(t==null)return{};var r=tq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ni=ge.forwardRef(function(t,e){var r=t.children,n=t.className,i=eq(t,QU),a=Pr("recharts-layer",n);return ge.createElement("g",L5({className:a},Tr(i,!0),{ref:e}),r)}),cf=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},Mb,cE;function rq(){if(cE)return Mb;cE=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return Mb=t,Mb}var Db,fE;function nq(){if(fE)return Db;fE=1;var t=rq();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return Db=e,Db}var Fb,dE;function iL(){if(dE)return Fb;dE=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+i+a+"]");function l(u){return s.test(u)}return Fb=l,Fb}var Bb,hE;function iq(){if(hE)return Bb;hE=1;function t(e){return e.split("")}return Bb=t,Bb}var $b,pE;function aq(){if(pE)return $b;pE=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",y=u+"?",b="["+a+"]?",v="(?:"+g+"(?:"+[f,h,p].join("|")+")"+b+y+")*",w=b+y+v,S="(?:"+[f+s+"?",s,h,p,o].join("|")+")",A=RegExp(l+"(?="+l+")|"+S+w,"g");function k(j){return j.match(A)||[]}return $b=k,$b}var Ub,gE;function oq(){if(gE)return Ub;gE=1;var t=iq(),e=iL(),r=aq();function n(i){return e(i)?r(i):t(i)}return Ub=n,Ub}var qb,mE;function sq(){if(mE)return qb;mE=1;var t=nq(),e=iL(),r=oq(),n=eL();function i(a){return function(o){o=n(o);var s=e(o)?r(o):void 0,l=s?s[0]:o.charAt(0),u=s?t(s,1).join(""):o.slice(1);return l[a]()+u}}return qb=i,qb}var zb,vE;function lq(){if(vE)return zb;vE=1;var t=sq(),e=t("toUpperCase");return zb=e,zb}var uq=lq();const qv=Br(uq);function tn(t){return function(){return t}}const aL=Math.cos,S0=Math.sin,Os=Math.sqrt,A0=Math.PI,zv=2*A0,I5=Math.PI,R5=2*I5,Yc=1e-6,cq=R5-Yc;function oL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function fq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return oL;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class dq{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?oL:fq(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,f=o-e,h=s-r,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Yc)if(!(Math.abs(h*l-u*f)>Yc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-o,y=i-s,b=l*l+u*u,v=g*g+y*y,w=Math.sqrt(b),S=Math.sqrt(p),A=a*Math.tan((I5-Math.acos((b+p-v)/(2*w*S)))/2),k=A/S,j=A/w;Math.abs(k-1)>Yc&&this._append`L${e+k*f},${r+k*h}`,this._append`A${a},${a},0,0,${+(h*g>f*y)},${this._x1=e+j*l},${this._y1=r+j*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,f=r+l,h=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Yc||Math.abs(this._y1-f)>Yc)&&this._append`L${u},${f}`,n&&(p<0&&(p=p%R5+R5),p>cq?this._append`A${n},${n},0,1,${h},${e-s},${r-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=f}`:p>Yc&&this._append`A${n},${n},0,${+(p>=I5)},${h},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function HS(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new dq(e)}function VS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sL(t){this._context=t}sL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Wv(t){return new sL(t)}function lL(t){return t[0]}function uL(t){return t[1]}function cL(t,e){var r=tn(!0),n=null,i=Wv,a=null,o=HS(s);t=typeof t=="function"?t:t===void 0?lL:tn(t),e=typeof e=="function"?e:e===void 0?uL:tn(e);function s(l){var u,f=(l=VS(l)).length,h,p=!1,g;for(n==null&&(a=i(g=o())),u=0;u<=f;++u)!(u<f&&r(h=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(h,u,l),+e(h,u,l));if(g)return a=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:tn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:tn(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:tn(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Nm(t,e,r){var n=null,i=tn(!0),a=null,o=Wv,s=null,l=HS(u);t=typeof t=="function"?t:t===void 0?lL:tn(+t),e=typeof e=="function"?e:tn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?uL:tn(+r);function u(h){var p,g,y,b=(h=VS(h)).length,v,w=!1,S,A=new Array(b),k=new Array(b);for(a==null&&(s=o(S=l())),p=0;p<=b;++p){if(!(p<b&&i(v=h[p],p,h))===w)if(w=!w)g=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=p-1;y>=g;--y)s.point(A[y],k[y]);s.lineEnd(),s.areaEnd()}w&&(A[p]=+t(v,p,h),k[p]=+e(v,p,h),s.point(n?+n(v,p,h):A[p],r?+r(v,p,h):k[p]))}if(S)return s=null,S+""||null}function f(){return cL().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:tn(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:tn(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:tn(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:tn(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:tn(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:tn(+h),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:tn(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(s=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=s=null:s=o(a=h),u):a},u}class fL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function hq(t){return new fL(t,!0)}function pq(t){return new fL(t,!1)}const GS={draw(t,e){const r=Os(e/A0);t.moveTo(r,0),t.arc(0,0,r,0,zv)}},gq={draw(t,e){const r=Os(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},dL=Os(1/3),mq=dL*2,vq={draw(t,e){const r=Os(e/mq),n=r*dL;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},yq={draw(t,e){const r=Os(e),n=-r/2;t.rect(n,n,r,r)}},bq=.8908130915292852,hL=S0(A0/10)/S0(7*A0/10),wq=S0(zv/10)*hL,xq=-aL(zv/10)*hL,_q={draw(t,e){const r=Os(e*bq),n=wq*r,i=xq*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=zv*a/5,s=aL(o),l=S0(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},Wb=Os(3),Sq={draw(t,e){const r=-Os(e/(Wb*3));t.moveTo(0,r*2),t.lineTo(-Wb*r,-r),t.lineTo(Wb*r,-r),t.closePath()}},Lo=-.5,Io=Os(3)/2,M5=1/Os(12),Aq=(M5/2+1)*3,Pq={draw(t,e){const r=Os(e/Aq),n=r/2,i=r*M5,a=n,o=r*M5+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Lo*n-Io*i,Io*n+Lo*i),t.lineTo(Lo*a-Io*o,Io*a+Lo*o),t.lineTo(Lo*s-Io*l,Io*s+Lo*l),t.lineTo(Lo*n+Io*i,Lo*i-Io*n),t.lineTo(Lo*a+Io*o,Lo*o-Io*a),t.lineTo(Lo*s+Io*l,Lo*l-Io*s),t.closePath()}};function Eq(t,e){let r=null,n=HS(i);t=typeof t=="function"?t:tn(t||GS),e=typeof e=="function"?e:tn(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:tn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:tn(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function P0(){}function E0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function pL(t){this._context=t}pL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:E0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:E0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kq(t){return new pL(t)}function gL(t){this._context=t}gL.prototype={areaStart:P0,areaEnd:P0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:E0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oq(t){return new gL(t)}function mL(t){this._context=t}mL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:E0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jq(t){return new mL(t)}function vL(t){this._context=t}vL.prototype={areaStart:P0,areaEnd:P0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Cq(t){return new vL(t)}function yE(t){return t<0?-1:1}function bE(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(yE(a)+yE(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function wE(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Hb(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function k0(t){this._context=t}k0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hb(this,this._t0,wE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hb(this,wE(this,r=bE(this,t,e)),r);break;default:Hb(this,this._t0,r=bE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function yL(t){this._context=new bL(t)}(yL.prototype=Object.create(k0.prototype)).point=function(t,e){k0.prototype.point.call(this,e,t)};function bL(t){this._context=t}bL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Nq(t){return new k0(t)}function Tq(t){return new yL(t)}function wL(t){this._context=t}wL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=xE(t),i=xE(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xE(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Lq(t){return new wL(t)}function Hv(t,e){this._context=t,this._t=e}Hv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Iq(t){return new Hv(t,.5)}function Rq(t){return new Hv(t,0)}function Mq(t){return new Hv(t,1)}function Kd(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function D5(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Dq(t,e){return t[e]}function Fq(t){const e=[];return e.key=t,e}function Bq(){var t=tn([]),e=D5,r=Kd,n=Dq;function i(a){var o=Array.from(t.apply(this,arguments),Fq),s,l=o.length,u=-1,f;for(const h of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(h,o[s].key,u,a)]).data=h;for(s=0,f=VS(e(o));s<l;++s)o[f[s]].index=s;return r(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:tn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:tn(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?D5:typeof a=="function"?a:tn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Kd,i):r},i}function $q(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Kd(t,e)}}function Uq(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Kd(t,e)}}function qq(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var f=t[e[s]],h=f[n][1]||0,p=f[n-1][1]||0,g=(h-p)/2,y=0;y<s;++y){var b=t[e[y]],v=b[n][1]||0,w=b[n-1][1]||0;g+=v-w}l+=h,u+=g*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Kd(t,e)}}function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}var zq=["type","size","sizeType"];function F5(){return F5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F5.apply(this,arguments)}function _E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(r),!0).forEach(function(n){Wq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_E(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wq(t,e,r){return e=Hq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hq(t){var e=Vq(t,"string");return Fp(e)=="symbol"?e:e+""}function Vq(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gq(t,e){if(t==null)return{};var r=Kq(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kq(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var xL={symbolCircle:GS,symbolCross:gq,symbolDiamond:vq,symbolSquare:yq,symbolStar:_q,symbolTriangle:Sq,symbolWye:Pq},Yq=Math.PI/180,Xq=function(e){var r="symbol".concat(qv(e));return xL[r]||GS},Jq=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Yq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Zq=function(e,r){xL["symbol".concat(qv(e))]=r},KS=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Gq(e,zq),u=SE(SE({},l),{},{type:n,size:a,sizeType:s}),f=function(){var v=Xq(n),w=Eq().type(v).size(Jq(a,s,n));return w()},h=u.className,p=u.cx,g=u.cy,y=Tr(u,!0);return p===+p&&g===+g&&a===+a?ge.createElement("path",F5({},y,{className:Pr("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(g,")"),d:f()})):null};KS.registerSymbol=Zq;function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function B5(){return B5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B5.apply(this,arguments)}function AE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AE(Object(r),!0).forEach(function(n){Bp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ez(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SL(n.key),n)}}function rz(t,e,r){return e&&tz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nz(t,e,r){return e=O0(e),iz(t,_L()?Reflect.construct(e,r||[],O0(t).constructor):e.apply(t,r))}function iz(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return az(t)}function az(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_L=function(){return!!t})()}function O0(t){return O0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O0(t)}function oz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$5(t,e)}function $5(t,e){return $5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$5(t,e)}function Bp(t,e,r){return e=SL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SL(t){var e=sz(t,"string");return Yd(e)=="symbol"?e:e+""}function sz(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ro=32,YS=(function(t){function e(){return ez(this,e),nz(this,e,arguments)}return oz(e,t),rz(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Ro/2,o=Ro/6,s=Ro/3,l=n.inactive?i:n.color;if(n.type==="plainline")return ge.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ro,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ge.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ro,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ge.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ro/8,"h").concat(Ro,"v").concat(Ro*3/4,"h").concat(-Ro,"z"),className:"recharts-legend-icon"});if(ge.isValidElement(n.legendIcon)){var u=Qq({},n);return delete u.legendIcon,ge.cloneElement(n.legendIcon,u)}return ge.createElement(KS,{fill:l,cx:a,cy:a,size:Ro,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Ro,height:Ro},h={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(g,y){var b=g.formatter||l,v=Pr(Bp(Bp({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=dr(g.value)?null:g.value;cf(!dr(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=g.inactive?u:g.color;return ge.createElement("li",B5({className:v,style:h,key:"legend-item-".concat(y)},_0(n.props,g,y)),ge.createElement(T5,{width:o,height:o,viewBox:f,style:p},n.renderIcon(g)),ge.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(w,g,y):w))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ge.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(se.PureComponent);Bp(YS,"displayName","Legend");Bp(YS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Vb,PE;function lz(){if(PE)return Vb;PE=1;var t=Fv();function e(){this.__data__=new t,this.size=0}return Vb=e,Vb}var Gb,EE;function uz(){if(EE)return Gb;EE=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Gb=t,Gb}var Kb,kE;function cz(){if(kE)return Kb;kE=1;function t(e){return this.__data__.get(e)}return Kb=t,Kb}var Yb,OE;function fz(){if(OE)return Yb;OE=1;function t(e){return this.__data__.has(e)}return Yb=t,Yb}var Xb,jE;function dz(){if(jE)return Xb;jE=1;var t=Fv(),e=BS(),r=$S(),n=200;function i(a,o){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(a,o),this.size=s.size,this}return Xb=i,Xb}var Jb,CE;function AL(){if(CE)return Jb;CE=1;var t=Fv(),e=lz(),r=uz(),n=cz(),i=fz(),a=dz();function o(s){var l=this.__data__=new t(s);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,Jb=o,Jb}var Zb,NE;function hz(){if(NE)return Zb;NE=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Zb=e,Zb}var Qb,TE;function pz(){if(TE)return Qb;TE=1;function t(e){return this.__data__.has(e)}return Qb=t,Qb}var ew,LE;function PL(){if(LE)return ew;LE=1;var t=$S(),e=hz(),r=pz();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,ew=n,ew}var tw,IE;function EL(){if(IE)return tw;IE=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return tw=t,tw}var rw,RE;function kL(){if(RE)return rw;RE=1;function t(e,r){return e.has(r)}return rw=t,rw}var nw,ME;function OL(){if(ME)return nw;ME=1;var t=PL(),e=EL(),r=kL(),n=1,i=2;function a(o,s,l,u,f,h){var p=l&n,g=o.length,y=s.length;if(g!=y&&!(p&&y>g))return!1;var b=h.get(o),v=h.get(s);if(b&&v)return b==s&&v==o;var w=-1,S=!0,A=l&i?new t:void 0;for(h.set(o,s),h.set(s,o);++w<g;){var k=o[w],j=s[w];if(u)var O=p?u(j,k,w,s,o,h):u(k,j,w,o,s,h);if(O!==void 0){if(O)continue;S=!1;break}if(A){if(!e(s,function(M,N){if(!r(A,N)&&(k===M||f(k,M,l,u,h)))return A.push(N)})){S=!1;break}}else if(!(k===j||f(k,j,l,u,h))){S=!1;break}}return h.delete(o),h.delete(s),S}return nw=a,nw}var iw,DE;function gz(){if(DE)return iw;DE=1;var t=sl(),e=t.Uint8Array;return iw=e,iw}var aw,FE;function mz(){if(FE)return aw;FE=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return aw=t,aw}var ow,BE;function XS(){if(BE)return ow;BE=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return ow=t,ow}var sw,$E;function vz(){if($E)return sw;$E=1;var t=kg(),e=gz(),r=FS(),n=OL(),i=mz(),a=XS(),o=1,s=2,l="[object Boolean]",u="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",g="[object RegExp]",y="[object Set]",b="[object String]",v="[object Symbol]",w="[object ArrayBuffer]",S="[object DataView]",A=t?t.prototype:void 0,k=A?A.valueOf:void 0;function j(O,M,N,C,H,T,L){switch(N){case S:if(O.byteLength!=M.byteLength||O.byteOffset!=M.byteOffset)return!1;O=O.buffer,M=M.buffer;case w:return!(O.byteLength!=M.byteLength||!T(new e(O),new e(M)));case l:case u:case p:return r(+O,+M);case f:return O.name==M.name&&O.message==M.message;case g:case b:return O==M+"";case h:var $=i;case y:var F=C&o;if($||($=a),O.size!=M.size&&!F)return!1;var U=L.get(O);if(U)return U==M;C|=s,L.set(O,M);var z=n($(O),$(M),C,H,T,L);return L.delete(O),z;case v:if(k)return k.call(O)==k.call(M)}return!1}return sw=j,sw}var lw,UE;function jL(){if(UE)return lw;UE=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return lw=t,lw}var uw,qE;function yz(){if(qE)return uw;qE=1;var t=jL(),e=qa();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return uw=r,uw}var cw,zE;function bz(){if(zE)return cw;zE=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var s=e[n];r(s,n,e)&&(o[a++]=s)}return o}return cw=t,cw}var fw,WE;function wz(){if(WE)return fw;WE=1;function t(){return[]}return fw=t,fw}var dw,HE;function xz(){if(HE)return dw;HE=1;var t=bz(),e=wz(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return n.call(o,s)}))}:e;return dw=a,dw}var hw,VE;function _z(){if(VE)return hw;VE=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return hw=t,hw}var pw,GE;function Sz(){if(GE)return pw;GE=1;var t=lu(),e=uu(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return pw=n,pw}var gw,KE;function JS(){if(KE)return gw;KE=1;var t=Sz(),e=uu(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return gw=a,gw}var vp={exports:{}},mw,YE;function Az(){if(YE)return mw;YE=1;function t(){return!1}return mw=t,mw}vp.exports;var XE;function CL(){return XE||(XE=1,(function(t,e){var r=sl(),n=Az(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(vp,vp.exports)),vp.exports}var vw,JE;function ZS(){if(JE)return vw;JE=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return vw=r,vw}var yw,ZE;function QS(){if(ZE)return yw;ZE=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return yw=e,yw}var bw,QE;function Pz(){if(QE)return bw;QE=1;var t=lu(),e=QS(),r=uu(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",y="[object String]",b="[object WeakMap]",v="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",j="[object Int16Array]",O="[object Int32Array]",M="[object Uint8Array]",N="[object Uint8ClampedArray]",C="[object Uint16Array]",H="[object Uint32Array]",T={};T[S]=T[A]=T[k]=T[j]=T[O]=T[M]=T[N]=T[C]=T[H]=!0,T[n]=T[i]=T[v]=T[a]=T[w]=T[o]=T[s]=T[l]=T[u]=T[f]=T[h]=T[p]=T[g]=T[y]=T[b]=!1;function L($){return r($)&&e($.length)&&!!T[t($)]}return bw=L,bw}var ww,ek;function NL(){if(ek)return ww;ek=1;function t(e){return function(r){return e(r)}}return ww=t,ww}var yp={exports:{}};yp.exports;var tk;function Ez(){return tk||(tk=1,(function(t,e){var r=J8(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();t.exports=s})(yp,yp.exports)),yp.exports}var xw,rk;function TL(){if(rk)return xw;rk=1;var t=Pz(),e=NL(),r=Ez(),n=r&&r.isTypedArray,i=n?e(n):t;return xw=i,xw}var _w,nk;function kz(){if(nk)return _w;nk=1;var t=_z(),e=JS(),r=qa(),n=CL(),i=ZS(),a=TL(),o=Object.prototype,s=o.hasOwnProperty;function l(u,f){var h=r(u),p=!h&&e(u),g=!h&&!p&&n(u),y=!h&&!p&&!g&&a(u),b=h||p||g||y,v=b?t(u.length,String):[],w=v.length;for(var S in u)(f||s.call(u,S))&&!(b&&(S=="length"||g&&(S=="offset"||S=="parent")||y&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,w)))&&v.push(S);return v}return _w=l,_w}var Sw,ik;function Oz(){if(ik)return Sw;ik=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Sw=e,Sw}var Aw,ak;function LL(){if(ak)return Aw;ak=1;function t(e,r){return function(n){return e(r(n))}}return Aw=t,Aw}var Pw,ok;function jz(){if(ok)return Pw;ok=1;var t=LL(),e=t(Object.keys,Object);return Pw=e,Pw}var Ew,sk;function Cz(){if(sk)return Ew;sk=1;var t=Oz(),e=jz(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return Ew=i,Ew}var kw,lk;function jg(){if(lk)return kw;lk=1;var t=DS(),e=QS();function r(n){return n!=null&&e(n.length)&&!t(n)}return kw=r,kw}var Ow,uk;function Vv(){if(uk)return Ow;uk=1;var t=kz(),e=Cz(),r=jg();function n(i){return r(i)?t(i):e(i)}return Ow=n,Ow}var jw,ck;function Nz(){if(ck)return jw;ck=1;var t=yz(),e=xz(),r=Vv();function n(i){return t(i,r,e)}return jw=n,jw}var Cw,fk;function Tz(){if(fk)return Cw;fk=1;var t=Nz(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,l,u,f){var h=s&e,p=t(a),g=p.length,y=t(o),b=y.length;if(g!=b&&!h)return!1;for(var v=g;v--;){var w=p[v];if(!(h?w in o:n.call(o,w)))return!1}var S=f.get(a),A=f.get(o);if(S&&A)return S==o&&A==a;var k=!0;f.set(a,o),f.set(o,a);for(var j=h;++v<g;){w=p[v];var O=a[w],M=o[w];if(l)var N=h?l(M,O,w,o,a,f):l(O,M,w,a,o,f);if(!(N===void 0?O===M||u(O,M,s,l,f):N)){k=!1;break}j||(j=w=="constructor")}if(k&&!j){var C=a.constructor,H=o.constructor;C!=H&&"constructor"in a&&"constructor"in o&&!(typeof C=="function"&&C instanceof C&&typeof H=="function"&&H instanceof H)&&(k=!1)}return f.delete(a),f.delete(o),k}return Cw=i,Cw}var Nw,dk;function Lz(){if(dk)return Nw;dk=1;var t=Ef(),e=sl(),r=t(e,"DataView");return Nw=r,Nw}var Tw,hk;function Iz(){if(hk)return Tw;hk=1;var t=Ef(),e=sl(),r=t(e,"Promise");return Tw=r,Tw}var Lw,pk;function IL(){if(pk)return Lw;pk=1;var t=Ef(),e=sl(),r=t(e,"Set");return Lw=r,Lw}var Iw,gk;function Rz(){if(gk)return Iw;gk=1;var t=Ef(),e=sl(),r=t(e,"WeakMap");return Iw=r,Iw}var Rw,mk;function Mz(){if(mk)return Rw;mk=1;var t=Lz(),e=BS(),r=Iz(),n=IL(),i=Rz(),a=lu(),o=Z8(),s="[object Map]",l="[object Object]",u="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=o(t),y=o(e),b=o(r),v=o(n),w=o(i),S=a;return(t&&S(new t(new ArrayBuffer(1)))!=p||e&&S(new e)!=s||r&&S(r.resolve())!=u||n&&S(new n)!=f||i&&S(new i)!=h)&&(S=function(A){var k=a(A),j=k==l?A.constructor:void 0,O=j?o(j):"";if(O)switch(O){case g:return p;case y:return s;case b:return u;case v:return f;case w:return h}return k}),Rw=S,Rw}var Mw,vk;function Dz(){if(vk)return Mw;vk=1;var t=AL(),e=OL(),r=vz(),n=Tz(),i=Mz(),a=qa(),o=CL(),s=TL(),l=1,u="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function y(b,v,w,S,A,k){var j=a(b),O=a(v),M=j?f:i(b),N=O?f:i(v);M=M==u?h:M,N=N==u?h:N;var C=M==h,H=N==h,T=M==N;if(T&&o(b)){if(!o(v))return!1;j=!0,C=!1}if(T&&!C)return k||(k=new t),j||s(b)?e(b,v,w,S,A,k):r(b,v,M,w,S,A,k);if(!(w&l)){var L=C&&g.call(b,"__wrapped__"),$=H&&g.call(v,"__wrapped__");if(L||$){var F=L?b.value():b,U=$?v.value():v;return k||(k=new t),A(F,U,w,S,k)}}return T?(k||(k=new t),n(b,v,w,S,A,k)):!1}return Mw=y,Mw}var Dw,yk;function eA(){if(yk)return Dw;yk=1;var t=Dz(),e=uu();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,s)}return Dw=r,Dw}var Fw,bk;function Fz(){if(bk)return Fw;bk=1;var t=AL(),e=eA(),r=1,n=2;function i(a,o,s,l){var u=s.length,f=u,h=!l;if(a==null)return!f;for(a=Object(a);u--;){var p=s[u];if(h&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++u<f;){p=s[u];var g=p[0],y=a[g],b=p[1];if(h&&p[2]){if(y===void 0&&!(g in a))return!1}else{var v=new t;if(l)var w=l(y,b,g,a,o,v);if(!(w===void 0?e(b,y,r|n,l,v):w))return!1}}return!0}return Fw=i,Fw}var Bw,wk;function RL(){if(wk)return Bw;wk=1;var t=lc();function e(r){return r===r&&!t(r)}return Bw=e,Bw}var $w,xk;function Bz(){if(xk)return $w;xk=1;var t=RL(),e=Vv();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,t(s)]}return i}return $w=r,$w}var Uw,_k;function ML(){if(_k)return Uw;_k=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Uw=t,Uw}var qw,Sk;function $z(){if(Sk)return qw;Sk=1;var t=Fz(),e=Bz(),r=ML();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return qw=n,qw}var zw,Ak;function Uz(){if(Ak)return zw;Ak=1;function t(e,r){return e!=null&&r in Object(e)}return zw=t,zw}var Ww,Pk;function qz(){if(Pk)return Ww;Pk=1;var t=tL(),e=JS(),r=qa(),n=ZS(),i=QS(),a=$v();function o(s,l,u){l=t(l,s);for(var f=-1,h=l.length,p=!1;++f<h;){var g=a(l[f]);if(!(p=s!=null&&u(s,g)))break;s=s[g]}return p||++f!=h?p:(h=s==null?0:s.length,!!h&&i(h)&&n(g,h)&&(r(s)||e(s)))}return Ww=o,Ww}var Hw,Ek;function zz(){if(Ek)return Hw;Ek=1;var t=Uz(),e=qz();function r(n,i){return n!=null&&e(n,i,t)}return Hw=r,Hw}var Vw,kk;function Wz(){if(kk)return Vw;kk=1;var t=eA(),e=rL(),r=zz(),n=MS(),i=RL(),a=ML(),o=$v(),s=1,l=2;function u(f,h){return n(f)&&i(h)?a(o(f),h):function(p){var g=e(p,f);return g===void 0&&g===h?r(p,f):t(h,g,s|l)}}return Vw=u,Vw}var Gw,Ok;function _h(){if(Ok)return Gw;Ok=1;function t(e){return e}return Gw=t,Gw}var Kw,jk;function Hz(){if(jk)return Kw;jk=1;function t(e){return function(r){return r?.[e]}}return Kw=t,Kw}var Yw,Ck;function Vz(){if(Ck)return Yw;Ck=1;var t=qS();function e(r){return function(n){return t(n,r)}}return Yw=e,Yw}var Xw,Nk;function Gz(){if(Nk)return Xw;Nk=1;var t=Hz(),e=Vz(),r=MS(),n=$v();function i(a){return r(a)?t(n(a)):e(a)}return Xw=i,Xw}var Jw,Tk;function uc(){if(Tk)return Jw;Tk=1;var t=$z(),e=Wz(),r=_h(),n=qa(),i=Gz();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return Jw=a,Jw}var Zw,Lk;function DL(){if(Lk)return Zw;Lk=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return Zw=t,Zw}var Qw,Ik;function Kz(){if(Ik)return Qw;Ik=1;function t(e){return e!==e}return Qw=t,Qw}var e2,Rk;function Yz(){if(Rk)return e2;Rk=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return e2=t,e2}var t2,Mk;function Xz(){if(Mk)return t2;Mk=1;var t=DL(),e=Kz(),r=Yz();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return t2=n,t2}var r2,Dk;function Jz(){if(Dk)return r2;Dk=1;var t=Xz();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return r2=e,r2}var n2,Fk;function Zz(){if(Fk)return n2;Fk=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return n2=t,n2}var i2,Bk;function Qz(){if(Bk)return i2;Bk=1;function t(){}return i2=t,i2}var a2,$k;function eW(){if($k)return a2;$k=1;var t=IL(),e=Qz(),r=XS(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return a2=i,a2}var o2,Uk;function tW(){if(Uk)return o2;Uk=1;var t=PL(),e=Jz(),r=Zz(),n=kL(),i=eW(),a=XS(),o=200;function s(l,u,f){var h=-1,p=e,g=l.length,y=!0,b=[],v=b;if(f)y=!1,p=r;else if(g>=o){var w=u?null:i(l);if(w)return a(w);y=!1,p=n,v=new t}else v=u?[]:b;e:for(;++h<g;){var S=l[h],A=u?u(S):S;if(S=f||S!==0?S:0,y&&A===A){for(var k=v.length;k--;)if(v[k]===A)continue e;u&&v.push(A),b.push(S)}else p(v,A,f)||(v!==b&&v.push(A),b.push(S))}return b}return o2=s,o2}var s2,qk;function rW(){if(qk)return s2;qk=1;var t=uc(),e=tW();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return s2=r,s2}var nW=rW();const zk=Br(nW);function FL(t,e,r){return e===!0?zk(t,r):dr(e)?zk(t,e):t}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}var iW=["ref"];function Wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(r),!0).forEach(function(n){Gv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$L(n.key),n)}}function oW(t,e,r){return e&&Hk(t.prototype,e),r&&Hk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sW(t,e,r){return e=j0(e),lW(t,BL()?Reflect.construct(e,r||[],j0(t).constructor):e.apply(t,r))}function lW(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uW(t)}function uW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j0(t)}function cW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U5(t,e)}function U5(t,e){return U5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},U5(t,e)}function Gv(t,e,r){return e=$L(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $L(t){var e=fW(t,"string");return Xd(e)=="symbol"?e:e+""}function fW(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dW(t,e){if(t==null)return{};var r=hW(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hW(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pW(t){return t.value}function gW(t,e){if(ge.isValidElement(t))return ge.cloneElement(t,e);if(typeof t=="function")return ge.createElement(t,e);e.ref;var r=dW(e,iW);return ge.createElement(YS,r)}var Vk=1,Dd=(function(t){function e(){var r;aW(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=sW(this,e,[].concat(i)),Gv(r,"lastBoundingBox",{width:-1,height:-1}),r}return cW(e,t),oW(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Vk||Math.abs(i.height-this.lastBoundingBox.height)>Vk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,h,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var g=this.getBBoxSnapshot();h={left:((u||0)-g.width)/2}}else h=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();p={top:((f||0)-y.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Wl(Wl({},h),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,h=Wl(Wl({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return ge.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},gW(a,Wl(Wl({},this.props),{},{payload:FL(f,u,pW)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Wl(Wl({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&dt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(se.PureComponent);Gv(Dd,"displayName","Legend");Gv(Dd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var l2,Gk;function mW(){if(Gk)return l2;Gk=1;var t=kg(),e=JS(),r=qa(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return l2=i,l2}var u2,Kk;function UL(){if(Kk)return u2;Kk=1;var t=jL(),e=mW();function r(n,i,a,o,s){var l=-1,u=n.length;for(a||(a=e),s||(s=[]);++l<u;){var f=n[l];i>0&&a(f)?i>1?r(f,i-1,a,o,s):t(s,f):o||(s[s.length]=f)}return s}return u2=r,u2}var c2,Yk;function vW(){if(Yk)return c2;Yk=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),l=s.length;l--;){var u=s[e?l:++a];if(n(o[u],u,o)===!1)break}return r}}return c2=t,c2}var f2,Xk;function yW(){if(Xk)return f2;Xk=1;var t=vW(),e=t();return f2=e,f2}var d2,Jk;function qL(){if(Jk)return d2;Jk=1;var t=yW(),e=Vv();function r(n,i){return n&&t(n,i,e)}return d2=r,d2}var h2,Zk;function bW(){if(Zk)return h2;Zk=1;var t=jg();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return h2=e,h2}var p2,Qk;function tA(){if(Qk)return p2;Qk=1;var t=qL(),e=bW(),r=e(t);return p2=r,p2}var g2,eO;function zL(){if(eO)return g2;eO=1;var t=tA(),e=jg();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(s,l,u){o[++a]=i(s,l,u)}),o}return g2=r,g2}var m2,tO;function wW(){if(tO)return m2;tO=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return m2=t,m2}var v2,rO;function xW(){if(rO)return v2;rO=1;var t=wh();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=t(r),l=n!==void 0,u=n===null,f=n===n,h=t(n);if(!u&&!h&&!s&&r>n||s&&l&&f&&!u&&!h||a&&l&&f||!i&&f||!o)return 1;if(!a&&!s&&!h&&r<n||h&&i&&o&&!a&&!s||u&&i&&o||!l&&o||!f)return-1}return 0}return v2=e,v2}var y2,nO;function _W(){if(nO)return y2;nO=1;var t=xW();function e(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,l=o.length,u=i.length;++a<l;){var f=t(o[a],s[a]);if(f){if(a>=u)return f;var h=i[a];return f*(h=="desc"?-1:1)}}return r.index-n.index}return y2=e,y2}var b2,iO;function SW(){if(iO)return b2;iO=1;var t=US(),e=qS(),r=uc(),n=zL(),i=wW(),a=NL(),o=_W(),s=_h(),l=qa();function u(f,h,p){h.length?h=t(h,function(b){return l(b)?function(v){return e(v,b.length===1?b[0]:b)}:b}):h=[s];var g=-1;h=t(h,a(r));var y=n(f,function(b,v,w){var S=t(h,function(A){return A(b)});return{criteria:S,index:++g,value:b}});return i(y,function(b,v){return o(b,v,p)})}return b2=u,b2}var w2,aO;function AW(){if(aO)return w2;aO=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return w2=t,w2}var x2,oO;function PW(){if(oO)return x2;oO=1;var t=AW(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=e(o.length-i,0),u=Array(l);++s<l;)u[s]=o[i+s];s=-1;for(var f=Array(i+1);++s<i;)f[s]=o[s];return f[i]=a(u),t(n,this,f)}}return x2=r,x2}var _2,sO;function EW(){if(sO)return _2;sO=1;function t(e){return function(){return e}}return _2=t,_2}var S2,lO;function WL(){if(lO)return S2;lO=1;var t=Ef(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return S2=e,S2}var A2,uO;function kW(){if(uO)return A2;uO=1;var t=EW(),e=WL(),r=_h(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return A2=n,A2}var P2,cO;function OW(){if(cO)return P2;cO=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),l=e-(s-o);if(o=s,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return P2=n,P2}var E2,fO;function jW(){if(fO)return E2;fO=1;var t=kW(),e=OW(),r=e(t);return E2=r,E2}var k2,dO;function CW(){if(dO)return k2;dO=1;var t=_h(),e=PW(),r=jW();function n(i,a){return r(e(i,a,t),i+"")}return k2=n,k2}var O2,hO;function Kv(){if(hO)return O2;hO=1;var t=FS(),e=jg(),r=ZS(),n=lc();function i(a,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?e(s)&&r(o,s.length):l=="string"&&o in s)?t(s[o],a):!1}return O2=i,O2}var j2,pO;function NW(){if(pO)return j2;pO=1;var t=UL(),e=SW(),r=CW(),n=Kv(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return j2=i,j2}var TW=NW();const rA=Br(TW);function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function q5(){return q5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q5.apply(this,arguments)}function LW(t,e){return DW(t)||MW(t,e)||RW(t,e)||IW()}function IW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RW(t,e){if(t){if(typeof t=="string")return gO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gO(t,e)}}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function MW(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function DW(t){if(Array.isArray(t))return t}function mO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(r),!0).forEach(function(n){FW(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FW(t,e,r){return e=BW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BW(t){var e=$W(t,"string");return $p(e)=="symbol"?e:e+""}function $W(t,e){if($p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UW(t){return Array.isArray(t)&&mi(t[0])&&mi(t[1])?t.join(" ~ "):t}var qW=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,h=e.formatter,p=e.itemSorter,g=e.wrapperClassName,y=e.labelClassName,b=e.label,v=e.labelFormatter,w=e.accessibilityLayer,S=w===void 0?!1:w,A=function(){if(f&&f.length){var L={padding:0,margin:0},$=(p?rA(f,p):f).map(function(F,U){if(F.type==="none")return null;var z=C2({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},s),q=F.formatter||h||UW,G=F.value,K=F.name,te=G,X=K;if(q&&te!=null&&X!=null){var D=q(G,K,F,U,f);if(Array.isArray(D)){var Y=LW(D,2);te=Y[0],X=Y[1]}else te=D}return ge.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:z},mi(X)?ge.createElement("span",{className:"recharts-tooltip-item-name"},X):null,mi(X)?ge.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ge.createElement("span",{className:"recharts-tooltip-item-value"},te),ge.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return ge.createElement("ul",{className:"recharts-tooltip-item-list",style:L},$)}return null},k=C2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=C2({margin:0},u),O=!Er(b),M=O?b:"",N=Pr("recharts-default-tooltip",g),C=Pr("recharts-tooltip-label",y);O&&v&&f!==void 0&&f!==null&&(M=v(b,f));var H=S?{role:"status","aria-live":"assertive"}:{};return ge.createElement("div",q5({className:N,style:k},H),ge.createElement("p",{className:C,style:j},ge.isValidElement(M)?M:"".concat(M)),A())};function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}function Tm(t,e,r){return e=zW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zW(t){var e=WW(t,"string");return Up(e)=="symbol"?e:e+""}function WW(t,e){if(Up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var np="recharts-tooltip-wrapper",HW={visibility:"hidden"};function VW(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Pr(np,Tm(Tm(Tm(Tm({},"".concat(np,"-right"),dt(r)&&e&&dt(e.x)&&r>=e.x),"".concat(np,"-left"),dt(r)&&e&&dt(e.x)&&r<e.x),"".concat(np,"-bottom"),dt(n)&&e&&dt(e.y)&&n>=e.y),"".concat(np,"-top"),dt(n)&&e&&dt(e.y)&&n<e.y))}function vO(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&dt(a[n]))return a[n];var f=r[n]-s-i,h=r[n]+i;if(e[n])return o[n]?f:h;if(o[n]){var p=f,g=l[n];return p<g?Math.max(h,l[n]):Math.max(f,l[n])}var y=h+s,b=l[n]+u;return y>b?Math.max(f,l[n]):Math.max(h,l[n])}function GW(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function KW(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,f,h;return o.height>0&&o.width>0&&r?(f=vO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),h=vO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=GW({translateX:f,translateY:h,useTranslate3d:s})):u=HW,{cssProperties:u,cssClasses:VW({translateX:f,translateY:h,coordinate:r})}}function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function yO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(r),!0).forEach(function(n){W5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VL(n.key),n)}}function JW(t,e,r){return e&&XW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZW(t,e,r){return e=C0(e),QW(t,HL()?Reflect.construct(e,r||[],C0(t).constructor):e.apply(t,r))}function QW(t,e){if(e&&(Jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eH(t)}function eH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C0(t)}function tH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z5(t,e)}function z5(t,e){return z5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z5(t,e)}function W5(t,e,r){return e=VL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VL(t){var e=rH(t,"string");return Jd(e)=="symbol"?e:e+""}function rH(t,e){if(Jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wO=1,nH=(function(t){function e(){var r;YW(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ZW(this,e,[].concat(i)),W5(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),W5(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return tH(e,t),JW(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wO||Math.abs(n.height-this.state.lastBoundingBox.height)>wO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,g=i.offset,y=i.position,b=i.reverseDirection,v=i.useTranslate3d,w=i.viewBox,S=i.wrapperStyle,A=KW({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:w}),k=A.cssClasses,j=A.cssProperties,O=bO(bO({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},S);return ge.createElement("div",{tabIndex:-1,className:k,style:O,ref:function(N){n.wrapperNode=N}},u)}}])})(se.PureComponent),iH=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Cg={isSsr:iH()};function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){nA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KL(n.key),n)}}function sH(t,e,r){return e&&oH(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lH(t,e,r){return e=N0(e),uH(t,GL()?Reflect.construct(e,r||[],N0(t).constructor):e.apply(t,r))}function uH(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cH(t)}function cH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GL=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N0(t)}function fH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H5(t,e)}function H5(t,e){return H5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H5(t,e)}function nA(t,e,r){return e=KL(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KL(t){var e=dH(t,"string");return Zd(e)=="symbol"?e:e+""}function dH(t,e){if(Zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hH(t){return t.dataKey}function pH(t,e){return ge.isValidElement(t)?ge.cloneElement(t,e):typeof t=="function"?ge.createElement(t,e):ge.createElement(qW,e)}var Xs=(function(t){function e(){return aH(this,e),lH(this,e,arguments)}return fH(e,t),sH(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,h=i.filterNull,p=i.isAnimationActive,g=i.offset,y=i.payload,b=i.payloadUniqBy,v=i.position,w=i.reverseDirection,S=i.useTranslate3d,A=i.viewBox,k=i.wrapperStyle,j=y??[];h&&j.length&&(j=FL(y.filter(function(M){return M.value!=null&&(M.hide!==!0||n.props.includeHidden)}),b,hH));var O=j.length>0;return ge.createElement(nH,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:f,hasPayload:O,offset:g,position:v,reverseDirection:w,useTranslate3d:S,viewBox:A,wrapperStyle:k},pH(u,_O(_O({},this.props),{},{payload:j})))}}])})(se.PureComponent);nA(Xs,"displayName","Tooltip");nA(Xs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Cg.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var N2,SO;function gH(){if(SO)return N2;SO=1;var t=sl(),e=function(){return t.Date.now()};return N2=e,N2}var T2,AO;function mH(){if(AO)return T2;AO=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return T2=e,T2}var L2,PO;function vH(){if(PO)return L2;PO=1;var t=mH(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return L2=r,L2}var I2,EO;function YL(){if(EO)return I2;EO=1;var t=vH(),e=lc(),r=wh(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=a.test(u);return h||o.test(u)?s(u.slice(2),h?2:8):i.test(u)?n:+u}return I2=l,I2}var R2,kO;function yH(){if(kO)return R2;kO=1;var t=lc(),e=gH(),r=YL(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var f,h,p,g,y,b,v=0,w=!1,S=!1,A=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(w=!!u.leading,S="maxWait"in u,p=S?i(r(u.maxWait)||0,l):p,A="trailing"in u?!!u.trailing:A);function k($){var F=f,U=h;return f=h=void 0,v=$,g=s.apply(U,F),g}function j($){return v=$,y=setTimeout(N,l),w?k($):g}function O($){var F=$-b,U=$-v,z=l-F;return S?a(z,p-U):z}function M($){var F=$-b,U=$-v;return b===void 0||F>=l||F<0||S&&U>=p}function N(){var $=e();if(M($))return C($);y=setTimeout(N,O($))}function C($){return y=void 0,A&&f?k($):(f=h=void 0,g)}function H(){y!==void 0&&clearTimeout(y),v=0,f=b=h=y=void 0}function T(){return y===void 0?g:C(e())}function L(){var $=e(),F=M($);if(f=arguments,h=this,b=$,F){if(y===void 0)return j(b);if(S)return clearTimeout(y),y=setTimeout(N,l),k(b)}return y===void 0&&(y=setTimeout(N,l)),g}return L.cancel=H,L.flush=T,L}return R2=o,R2}var M2,OO;function bH(){if(OO)return M2;OO=1;var t=yH(),e=lc(),r="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),t(i,a,{leading:s,maxWait:a,trailing:l})}return M2=n,M2}var wH=bH();const XL=Br(wH);function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(n){xH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xH(t,e,r){return e=_H(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _H(t){var e=SH(t,"string");return qp(e)=="symbol"?e:e+""}function SH(t,e){if(qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AH(t,e){return OH(t)||kH(t,e)||EH(t,e)||PH()}function PH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EH(t,e){if(t){if(typeof t=="string")return CO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CO(t,e)}}function CO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function OH(t){if(Array.isArray(t))return t}var jH=se.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,f=u===void 0?0:u,h=t.minHeight,p=t.maxHeight,g=t.children,y=t.debounce,b=y===void 0?0:y,v=t.id,w=t.className,S=t.onResize,A=t.style,k=A===void 0?{}:A,j=se.useRef(null),O=se.useRef();O.current=S,se.useImperativeHandle(e,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var M=se.useState({containerWidth:i.width,containerHeight:i.height}),N=AH(M,2),C=N[0],H=N[1],T=se.useCallback(function($,F){H(function(U){var z=Math.round($),q=Math.round(F);return U.containerWidth===z&&U.containerHeight===q?U:{containerWidth:z,containerHeight:q}})},[]);se.useEffect(function(){var $=function(K){var te,X=K[0].contentRect,D=X.width,Y=X.height;T(D,Y),(te=O.current)===null||te===void 0||te.call(O,D,Y)};b>0&&($=XL($,b,{trailing:!0,leading:!1}));var F=new ResizeObserver($),U=j.current.getBoundingClientRect(),z=U.width,q=U.height;return T(z,q),F.observe(j.current),function(){F.disconnect()}},[T,b]);var L=se.useMemo(function(){var $=C.containerWidth,F=C.containerHeight;if($<0||F<0)return null;cf(nf(o)||nf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),cf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=nf(o)?$:o,z=nf(l)?F:l;r&&r>0&&(U?z=U/r:z&&(U=z*r),p&&z>p&&(z=p)),cf(U>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,z,o,l,f,h,r);var q=!Array.isArray(g)&&Ql(g.type).endsWith("Chart");return ge.Children.map(g,function(G){return ge.isValidElement(G)?se.cloneElement(G,Lm({width:U,height:z},q?{style:Lm({height:"100%",width:"100%",maxHeight:z,maxWidth:U},G.props.style)}:{})):G})},[r,g,l,p,h,f,C,o]);return ge.createElement("div",{id:v?"".concat(v):void 0,className:Pr("recharts-responsive-container",w),style:Lm(Lm({},k),{},{width:o,height:l,minWidth:f,minHeight:h,maxHeight:p}),ref:j},L)}),JL=function(e){return null};JL.displayName="Cell";function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function NO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(r),!0).forEach(function(n){CH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CH(t,e,r){return e=NH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NH(t){var e=TH(t,"string");return zp(e)=="symbol"?e:e+""}function TH(t,e){if(zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wd={widthCache:{},cacheCount:0},LH=2e3,IH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TO="recharts_measurement_span";function RH(t){var e=V5({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Sp=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Cg.isSsr)return{width:0,height:0};var n=RH(r),i=JSON.stringify({text:e,copyStyle:n});if(wd.widthCache[i])return wd.widthCache[i];try{var a=document.getElementById(TO);a||(a=document.createElement("span"),a.setAttribute("id",TO),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=V5(V5({},IH),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return wd.widthCache[i]=l,++wd.cacheCount>LH&&(wd.cacheCount=0,wd.widthCache={}),l}catch{return{width:0,height:0}}},MH=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function T0(t,e){return $H(t)||BH(t,e)||FH(t,e)||DH()}function DH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FH(t,e){if(t){if(typeof t=="string")return LO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(t,e)}}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $H(t){if(Array.isArray(t))return t}function UH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zH(n.key),n)}}function qH(t,e,r){return e&&IO(t.prototype,e),r&&IO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zH(t){var e=WH(t,"string");return Wp(e)=="symbol"?e:e+""}function WH(t,e){if(Wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,VH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ZL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GH=Object.keys(ZL),Cd="NaN";function KH(t,e){return t*ZL[e]}var Im=(function(){function t(e,r){UH(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!HH.test(r)&&(this.num=NaN,this.unit=""),GH.includes(r)&&(this.num=KH(e,r),this.unit="px")}return qH(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=VH.exec(r))!==null&&n!==void 0?n:[],a=T0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])})();function QL(t){if(t.includes(Cd))return Cd;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=RO.exec(e))!==null&&r!==void 0?r:[],i=T0(n,4),a=i[1],o=i[2],s=i[3],l=Im.parse(a??""),u=Im.parse(s??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Cd;e=e.replace(RO,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,p=(h=MO.exec(e))!==null&&h!==void 0?h:[],g=T0(p,4),y=g[1],b=g[2],v=g[3],w=Im.parse(y??""),S=Im.parse(v??""),A=b==="+"?w.add(S):w.subtract(S);if(A.isNaN())return Cd;e=e.replace(MO,A.toString())}return e}var DO=/\(([^()]*)\)/;function YH(t){for(var e=t;e.includes("(");){var r=DO.exec(e),n=T0(r,2),i=n[1];e=e.replace(DO,QL(i))}return e}function XH(t){var e=t.replace(/\s+/g,"");return e=YH(e),e=QL(e),e}function JH(t){try{return XH(t)}catch{return Cd}}function D2(t){var e=JH(t.slice(5,-1));return e===Cd?"":e}var ZH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QH=["dx","dy","angle","className","breakAll"];function G5(){return G5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G5.apply(this,arguments)}function FO(t,e){if(t==null)return{};var r=eV(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eV(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BO(t,e){return iV(t)||nV(t,e)||rV(t,e)||tV()}function tV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rV(t,e){if(t){if(typeof t=="string")return $O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $O(t,e)}}function $O(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function iV(t){if(Array.isArray(t))return t}var eI=/[ \f\n\r\t\v\u2028\u2029]+/,tI=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];Er(r)||(n?a=r.toString().split(""):a=r.toString().split(eI));var o=a.map(function(l){return{word:l,width:Sp(l,i).width}}),s=n?0:Sp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},aV=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,f=dt(o),h=s,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(z,q){var G=q.word,K=q.width,te=z[z.length-1];if(te&&(i==null||a||te.width+K+n<Number(i)))te.words.push(G),te.width+=K+n;else{var X={words:[G],width:K};z.push(X)}return z},[])},g=p(r),y=function(U){return U.reduce(function(z,q){return z.width>q.width?z:q})};if(!f)return g;for(var b="",v=function(U){var z=h.slice(0,U),q=tI({breakAll:u,style:l,children:z+b}).wordsWithComputedWidth,G=p(q),K=G.length>o||y(G).width>Number(i);return[K,G]},w=0,S=h.length-1,A=0,k;w<=S&&A<=h.length-1;){var j=Math.floor((w+S)/2),O=j-1,M=v(O),N=BO(M,2),C=N[0],H=N[1],T=v(j),L=BO(T,1),$=L[0];if(!C&&!$&&(w=j+1),C&&$&&(S=j-1),!C&&$){k=H;break}A++}return k||g},UO=function(e){var r=Er(e)?[]:e.toString().split(eI);return[{words:r}]},oV=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Cg.isSsr){var l,u,f=tI({breakAll:o,children:i,style:a});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;l=h,u=p}else return UO(i);return aV({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return UO(i)},qO="#808080",L0=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,h=f===void 0?!1:f,p=e.textAnchor,g=p===void 0?"start":p,y=e.verticalAnchor,b=y===void 0?"end":y,v=e.fill,w=v===void 0?qO:v,S=FO(e,ZH),A=se.useMemo(function(){return oV({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:h,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,h,S.style,S.width]),k=S.dx,j=S.dy,O=S.angle,M=S.className,N=S.breakAll,C=FO(S,QH);if(!mi(n)||!mi(a))return null;var H=n+(dt(k)?k:0),T=a+(dt(j)?j:0),L;switch(b){case"start":L=D2("calc(".concat(u,")"));break;case"middle":L=D2("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:L=D2("calc(".concat(A.length-1," * -").concat(s,")"));break}var $=[];if(h){var F=A[0].width,U=S.width;$.push("scale(".concat((dt(U)?U/F:1)/F,")"))}return O&&$.push("rotate(".concat(O,", ").concat(H,", ").concat(T,")")),$.length&&(C.transform=$.join(" ")),ge.createElement("text",G5({},Tr(C,!0),{x:H,y:T,className:Pr("recharts-text",M),textAnchor:g,fill:w.includes("url")?qO:w}),A.map(function(z,q){var G=z.words.join(N?"":" ");return ge.createElement("tspan",{x:H,dy:q===0?L:s,key:"".concat(G,"-").concat(q)},G)}))};function Qu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sV(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iA(t){let e,r,n;t.length!==2?(e=Qu,r=(s,l)=>Qu(t(s),l),n=(s,l)=>t(s)-l):(e=t===Qu||t===sV?t:lV,r=t,n=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;r(s[h],l)<0?u=h+1:f=h}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;r(s[h],l)<=0?u=h+1:f=h}while(u<f)}return u}function o(s,l,u=0,f=s.length){const h=i(s,l,u,f-1);return h>u&&n(s[h-1],l)>-n(s[h],l)?h-1:h}return{left:i,center:o,right:a}}function lV(){return 0}function rI(t){return t===null?NaN:+t}function*uV(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const cV=iA(Qu),Ng=cV.right;iA(rI).center;class zO extends Map{constructor(e,r=hV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(WO(this,e))}has(e){return super.has(WO(this,e))}set(e,r){return super.set(fV(this,e),r)}delete(e){return super.delete(dV(this,e))}}function WO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function fV({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function dV({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function hV(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pV(t=Qu){if(t===Qu)return nI;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function nI(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const gV=Math.sqrt(50),mV=Math.sqrt(10),vV=Math.sqrt(2);function I0(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=gV?10:a>=mV?5:a>=vV?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?I0(t,e,r*2):[s,l,u]}function K5(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?I0(e,t,r):I0(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Y5(t,e,r){return e=+e,t=+t,r=+r,I0(t,e,r)[2]}function X5(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Y5(e,t,r):Y5(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function HO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function VO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function iI(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?nI:pV(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,f=Math.log(l),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(l-h)/l)*(u-l/2<0?-1:1),g=Math.max(r,Math.floor(e-u*h/l+p)),y=Math.min(n,Math.floor(e+(l-u)*h/l+p));iI(t,e,g,y,i)}const a=t[e];let o=r,s=n;for(ip(t,r,e),i(t[n],a)>0&&ip(t,r,n);o<s;){for(ip(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?ip(t,r,s):(++s,ip(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function ip(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function yV(t,e,r){if(t=Float64Array.from(uV(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return VO(t);if(e>=1)return HO(t);var n,i=(n-1)*e,a=Math.floor(i),o=HO(iI(t,a).subarray(0,a+1)),s=VO(t.subarray(a+1));return o+(s-o)*(i-a)}}function bV(t,e,r=rI){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function wV(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Go(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function cu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const J5=Symbol("implicit");function aA(){var t=new zO,e=[],r=[],n=J5;function i(a){let o=t.get(a);if(o===void 0){if(n!==J5)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new zO;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return aA(e,r).unknown(n)},Go.apply(i,arguments),i}function Hp(){var t=aA().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete t.unknown;function h(){var p=e().length,g=i<n,y=g?i:n,b=g?n:i;a=(b-y)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),y+=(b-y-a*(p-l))*f,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var v=wV(p).map(function(w){return y+a*w});return r(g?v.reverse():v)}return t.domain=function(p){return arguments.length?(e(p),h()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,h()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,h()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),h()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),h()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},t.copy=function(){return Hp(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},Go.apply(h(),arguments)}function aI(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aI(e())},t}function Ap(){return aI(Hp.apply(null,arguments).paddingInner(1))}function oA(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function oI(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Tg(){}var Vp=.7,R0=1/Vp,Fd="\\s*([+-]?\\d+)\\s*",Gp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xV=/^#([0-9a-f]{3,8})$/,_V=new RegExp(`^rgb\\(${Fd},${Fd},${Fd}\\)$`),SV=new RegExp(`^rgb\\(${rl},${rl},${rl}\\)$`),AV=new RegExp(`^rgba\\(${Fd},${Fd},${Fd},${Gp}\\)$`),PV=new RegExp(`^rgba\\(${rl},${rl},${rl},${Gp}\\)$`),EV=new RegExp(`^hsl\\(${Gp},${rl},${rl}\\)$`),kV=new RegExp(`^hsla\\(${Gp},${rl},${rl},${Gp}\\)$`),GO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oA(Tg,Kp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:KO,formatHex:KO,formatHex8:OV,formatHsl:jV,formatRgb:YO,toString:YO});function KO(){return this.rgb().formatHex()}function OV(){return this.rgb().formatHex8()}function jV(){return sI(this).formatHsl()}function YO(){return this.rgb().formatRgb()}function Kp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=xV.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?XO(e):r===3?new $a(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Rm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Rm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_V.exec(t))?new $a(e[1],e[2],e[3],1):(e=SV.exec(t))?new $a(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=AV.exec(t))?Rm(e[1],e[2],e[3],e[4]):(e=PV.exec(t))?Rm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=EV.exec(t))?QO(e[1],e[2]/100,e[3]/100,1):(e=kV.exec(t))?QO(e[1],e[2]/100,e[3]/100,e[4]):GO.hasOwnProperty(t)?XO(GO[t]):t==="transparent"?new $a(NaN,NaN,NaN,0):null}function XO(t){return new $a(t>>16&255,t>>8&255,t&255,1)}function Rm(t,e,r,n){return n<=0&&(t=e=r=NaN),new $a(t,e,r,n)}function CV(t){return t instanceof Tg||(t=Kp(t)),t?(t=t.rgb(),new $a(t.r,t.g,t.b,t.opacity)):new $a}function Z5(t,e,r,n){return arguments.length===1?CV(t):new $a(t,e,r,n??1)}function $a(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}oA($a,Z5,oI(Tg,{brighter(t){return t=t==null?R0:Math.pow(R0,t),new $a(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vp:Math.pow(Vp,t),new $a(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $a(ff(this.r),ff(this.g),ff(this.b),M0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JO,formatHex:JO,formatHex8:NV,formatRgb:ZO,toString:ZO}));function JO(){return`#${af(this.r)}${af(this.g)}${af(this.b)}`}function NV(){return`#${af(this.r)}${af(this.g)}${af(this.b)}${af((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZO(){const t=M0(this.opacity);return`${t===1?"rgb(":"rgba("}${ff(this.r)}, ${ff(this.g)}, ${ff(this.b)}${t===1?")":`, ${t})`}`}function M0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ff(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function af(t){return t=ff(t),(t<16?"0":"")+t.toString(16)}function QO(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new _s(t,e,r,n)}function sI(t){if(t instanceof _s)return new _s(t.h,t.s,t.l,t.opacity);if(t instanceof Tg||(t=Kp(t)),!t)return new _s;if(t instanceof _s)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new _s(o,s,l,t.opacity)}function TV(t,e,r,n){return arguments.length===1?sI(t):new _s(t,e,r,n??1)}function _s(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}oA(_s,TV,oI(Tg,{brighter(t){return t=t==null?R0:Math.pow(R0,t),new _s(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vp:Math.pow(Vp,t),new _s(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new $a(F2(t>=240?t-240:t+120,i,n),F2(t,i,n),F2(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new _s(ej(this.h),Mm(this.s),Mm(this.l),M0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=M0(this.opacity);return`${t===1?"hsl(":"hsla("}${ej(this.h)}, ${Mm(this.s)*100}%, ${Mm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ej(t){return t=(t||0)%360,t<0?t+360:t}function Mm(t){return Math.max(0,Math.min(1,t||0))}function F2(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const sA=t=>()=>t;function LV(t,e){return function(r){return t+r*e}}function IV(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function RV(t){return(t=+t)==1?lI:function(e,r){return r-e?IV(e,r,t):sA(isNaN(e)?r:e)}}function lI(t,e){var r=e-t;return r?LV(t,r):sA(isNaN(t)?e:t)}const tj=(function t(e){var r=RV(e);function n(i,a){var o=r((i=Z5(i)).r,(a=Z5(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=lI(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return n.gamma=t,n})(1);function MV(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function DV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function FV(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Sh(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function BV(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function D0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function $V(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Sh(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Q5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B2=new RegExp(Q5.source,"g");function UV(t){return function(){return t}}function qV(t){return function(e){return t(e)+""}}function zV(t,e){var r=Q5.lastIndex=B2.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=Q5.exec(t))&&(i=B2.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:D0(n,i)})),r=B2.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?qV(l[0].x):UV(e):(e=l.length,function(u){for(var f=0,h;f<e;++f)s[(h=l[f]).i]=h.x(u);return s.join("")})}function Sh(t,e){var r=typeof e,n;return e==null||r==="boolean"?sA(e):(r==="number"?D0:r==="string"?(n=Kp(e))?(e=n,tj):zV:e instanceof Kp?tj:e instanceof Date?BV:DV(e)?MV:Array.isArray(e)?FV:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?$V:D0)(t,e)}function lA(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function WV(t,e){e===void 0&&(e=t,t=Sh);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function HV(t){return function(){return t}}function F0(t){return+t}var rj=[0,1];function wa(t){return t}function e_(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:HV(isNaN(e)?NaN:.5)}function VV(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function GV(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=e_(i,n),a=r(o,a)):(n=e_(n,i),a=r(a,o)),function(s){return a(n(s))}}function KV(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=e_(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=Ng(t,s,1,n)-1;return a[l](i[l](s))}}function Lg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yv(){var t=rj,e=rj,r=Sh,n,i,a,o=wa,s,l,u;function f(){var p=Math.min(t.length,e.length);return o!==wa&&(o=VV(t[0],t[p-1])),s=p>2?KV:GV,l=u=null,h}function h(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(n),e,r)))(n(o(p)))}return h.invert=function(p){return o(i((u||(u=s(e,t.map(n),D0)))(p)))},h.domain=function(p){return arguments.length?(t=Array.from(p,F0),f()):t.slice()},h.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},h.rangeRound=function(p){return e=Array.from(p),r=lA,f()},h.clamp=function(p){return arguments.length?(o=p?!0:wa,f()):o!==wa},h.interpolate=function(p){return arguments.length?(r=p,f()):r},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,g){return n=p,i=g,f()}}function uA(){return Yv()(wa,wa)}function YV(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function B0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Qd(t){return t=B0(Math.abs(t)),t?t[1]:NaN}function XV(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function JV(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ZV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yp(t){if(!(e=ZV.exec(t)))throw new Error("invalid format: "+t);var e;return new cA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yp.prototype=cA.prototype;function cA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QV(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var uI;function eG(t,e){var r=B0(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(uI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+B0(t,Math.max(0,e+a-1))[0]}function nj(t,e){var r=B0(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const ij={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:YV,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>nj(t*100,e),r:nj,s:eG,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function aj(t){return t}var oj=Array.prototype.map,sj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tG(t){var e=t.grouping===void 0||t.thousands===void 0?aj:XV(oj.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?aj:JV(oj.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Yp(h);var p=h.fill,g=h.align,y=h.sign,b=h.symbol,v=h.zero,w=h.width,S=h.comma,A=h.precision,k=h.trim,j=h.type;j==="n"?(S=!0,j="g"):ij[j]||(A===void 0&&(A=12),k=!0,j="g"),(v||p==="0"&&g==="=")&&(v=!0,p="0",g="=");var O=b==="$"?r:b==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",M=b==="$"?n:/[%p]/.test(j)?o:"",N=ij[j],C=/[defgprs%]/.test(j);A=A===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function H(T){var L=O,$=M,F,U,z;if(j==="c")$=N(T)+$,T="";else{T=+T;var q=T<0||1/T<0;if(T=isNaN(T)?l:N(Math.abs(T),A),k&&(T=QV(T)),q&&+T==0&&y!=="+"&&(q=!1),L=(q?y==="("?y:s:y==="-"||y==="("?"":y)+L,$=(j==="s"?sj[8+uI/3]:"")+$+(q&&y==="("?")":""),C){for(F=-1,U=T.length;++F<U;)if(z=T.charCodeAt(F),48>z||z>57){$=(z===46?i+T.slice(F+1):T.slice(F))+$,T=T.slice(0,F);break}}}S&&!v&&(T=e(T,1/0));var G=L.length+T.length+$.length,K=G<w?new Array(w-G+1).join(p):"";switch(S&&v&&(T=e(K+T,K.length?w-$.length:1/0),K=""),g){case"<":T=L+T+$+K;break;case"=":T=L+K+T+$;break;case"^":T=K.slice(0,G=K.length>>1)+L+T+$+K.slice(G);break;default:T=K+L+T+$;break}return a(T)}return H.toString=function(){return h+""},H}function f(h,p){var g=u((h=Yp(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Qd(p)/3)))*3,b=Math.pow(10,-y),v=sj[8+y/3];return function(w){return g(b*w)+v}}return{format:u,formatPrefix:f}}var Dm,fA,cI;rG({thousands:",",grouping:[3],currency:["$",""]});function rG(t){return Dm=tG(t),fA=Dm.format,cI=Dm.formatPrefix,Dm}function nG(t){return Math.max(0,-Qd(Math.abs(t)))}function iG(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qd(e)/3)))*3-Qd(Math.abs(t)))}function aG(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qd(e)-Qd(t))+1}function fI(t,e,r,n){var i=X5(t,e,r),a;switch(n=Yp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=iG(i,o))&&(n.precision=a),cI(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=aG(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=nG(i))&&(n.precision=a-(n.type==="%")*2);break}}return fA(n)}function cc(t){var e=t.domain;return t.ticks=function(r){var n=e();return K5(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return fI(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=Y5(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function $0(){var t=uA();return t.copy=function(){return Lg(t,$0())},Go.apply(t,arguments),cc(t)}function dI(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,F0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return dI(t).unknown(e)},t=arguments.length?Array.from(t,F0):[0,1],cc(r)}function hI(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function lj(t){return Math.log(t)}function uj(t){return Math.exp(t)}function oG(t){return-Math.log(-t)}function sG(t){return-Math.exp(-t)}function lG(t){return isFinite(t)?+("1e"+t):t<0?0:t}function uG(t){return t===10?lG:t===Math.E?Math.exp:e=>Math.pow(t,e)}function cG(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cj(t){return(e,r)=>-t(-e,r)}function dA(t){const e=t(lj,uj),r=e.domain;let n=10,i,a;function o(){return i=cG(n),a=uG(n),r()[0]<0?(i=cj(i),a=cj(a),t(oG,sG)):t(lj,uj),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],f=l[l.length-1];const h=f<u;h&&([u,f]=[f,u]);let p=i(u),g=i(f),y,b;const v=s==null?10:+s;let w=[];if(!(n%1)&&g-p<v){if(p=Math.floor(p),g=Math.ceil(g),u>0){for(;p<=g;++p)for(y=1;y<n;++y)if(b=p<0?y/a(-p):y*a(p),!(b<u)){if(b>f)break;w.push(b)}}else for(;p<=g;++p)for(y=n-1;y>=1;--y)if(b=p>0?y/a(-p):y*a(p),!(b<u)){if(b>f)break;w.push(b)}w.length*2<v&&(w=K5(u,f,v))}else w=K5(p,g,Math.min(g-p,v)).map(a);return h?w.reverse():w},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Yp(l)).precision==null&&(l.trim=!0),l=fA(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*n<n-.5&&(h*=n),h<=u?l(f):""}},e.nice=()=>r(hI(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function pI(){const t=dA(Yv()).domain([1,10]);return t.copy=()=>Lg(t,pI()).base(t.base()),Go.apply(t,arguments),t}function fj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function dj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hA(t){var e=1,r=t(fj(e),dj(e));return r.constant=function(n){return arguments.length?t(fj(e=+n),dj(e)):e},cc(r)}function gI(){var t=hA(Yv());return t.copy=function(){return Lg(t,gI()).constant(t.constant())},Go.apply(t,arguments)}function hj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function fG(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function dG(t){return t<0?-t*t:t*t}function pA(t){var e=t(wa,wa),r=1;function n(){return r===1?t(wa,wa):r===.5?t(fG,dG):t(hj(r),hj(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},cc(e)}function gA(){var t=pA(Yv());return t.copy=function(){return Lg(t,gA()).exponent(t.exponent())},Go.apply(t,arguments),t}function hG(){return gA.apply(null,arguments).exponent(.5)}function pj(t){return Math.sign(t)*t*t}function pG(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function mI(){var t=uA(),e=[0,1],r=!1,n;function i(a){var o=pG(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(pj(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,F0)).map(pj)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return mI(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Go.apply(i,arguments),cc(i)}function vI(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=bV(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Ng(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Qu),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return vI().domain(t).range(e).unknown(n)},Go.apply(a,arguments)}function yI(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Ng(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return yI().domain([t,e]).range(i).unknown(a)},Go.apply(cc(o),arguments)}function bI(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Ng(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return bI().domain(t).range(e).unknown(r)},Go.apply(i,arguments)}const $2=new Date,U2=new Date;function vi(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>vi(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>($2.setTime(+a),U2.setTime(+o),t($2),t(U2),Math.floor(r($2,U2))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const U0=vi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);U0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?vi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):U0);U0.range;const Yl=1e3,$o=Yl*60,Xl=$o*60,ru=Xl*24,mA=ru*7,gj=ru*30,q2=ru*365,of=vi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Yl)},(t,e)=>(e-t)/Yl,t=>t.getUTCSeconds());of.range;const vA=vi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yl)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getMinutes());vA.range;const yA=vi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*$o)},(t,e)=>(e-t)/$o,t=>t.getUTCMinutes());yA.range;const bA=vi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yl-t.getMinutes()*$o)},(t,e)=>{t.setTime(+t+e*Xl)},(t,e)=>(e-t)/Xl,t=>t.getHours());bA.range;const wA=vi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xl)},(t,e)=>(e-t)/Xl,t=>t.getUTCHours());wA.range;const Ig=vi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*$o)/ru,t=>t.getDate()-1);Ig.range;const Xv=vi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ru,t=>t.getUTCDate()-1);Xv.range;const wI=vi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ru,t=>Math.floor(t/ru));wI.range;function kf(t){return vi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*$o)/mA)}const Jv=kf(0),q0=kf(1),gG=kf(2),mG=kf(3),eh=kf(4),vG=kf(5),yG=kf(6);Jv.range;q0.range;gG.range;mG.range;eh.range;vG.range;yG.range;function Of(t){return vi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/mA)}const Zv=Of(0),z0=Of(1),bG=Of(2),wG=Of(3),th=Of(4),xG=Of(5),_G=Of(6);Zv.range;z0.range;bG.range;wG.range;th.range;xG.range;_G.range;const xA=vi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xA.range;const _A=vi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_A.range;const nu=vi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());nu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});nu.range;const iu=vi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());iu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:vi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});iu.range;function xI(t,e,r,n,i,a){const o=[[of,1,Yl],[of,5,5*Yl],[of,15,15*Yl],[of,30,30*Yl],[a,1,$o],[a,5,5*$o],[a,15,15*$o],[a,30,30*$o],[i,1,Xl],[i,3,3*Xl],[i,6,6*Xl],[i,12,12*Xl],[n,1,ru],[n,2,2*ru],[r,1,mA],[e,1,gj],[e,3,3*gj],[t,1,q2]];function s(u,f,h){const p=f<u;p&&([u,f]=[f,u]);const g=h&&typeof h.range=="function"?h:l(u,f,h),y=g?g.range(u,+f+1):[];return p?y.reverse():y}function l(u,f,h){const p=Math.abs(f-u)/h,g=iA(([,,v])=>v).right(o,p);if(g===o.length)return t.every(X5(u/q2,f/q2,h));if(g===0)return U0.every(Math.max(X5(u,f,h),1));const[y,b]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return y.every(b)}return[s,l]}const[SG,AG]=xI(iu,_A,Zv,wI,wA,yA),[PG,EG]=xI(nu,xA,Jv,Ig,bA,vA);function z2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function W2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ap(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function kG(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=op(i),f=sp(i),h=op(a),p=sp(a),g=op(o),y=sp(o),b=op(s),v=sp(s),w=op(l),S=sp(l),A={a:q,A:G,b:K,B:te,c:null,d:xj,e:xj,f:XG,g:oK,G:lK,H:GG,I:KG,j:YG,L:_I,m:JG,M:ZG,p:X,q:D,Q:Aj,s:Pj,S:QG,u:eK,U:tK,V:rK,w:nK,W:iK,x:null,X:null,y:aK,Y:sK,Z:uK,"%":Sj},k={a:Y,A:J,b:ee,B:ue,c:null,d:_j,e:_j,f:hK,g:SK,G:PK,H:cK,I:fK,j:dK,L:AI,m:pK,M:gK,p:me,q:fe,Q:Aj,s:Pj,S:mK,u:vK,U:yK,V:bK,w:wK,W:xK,x:null,X:null,y:_K,Y:AK,Z:EK,"%":Sj},j={a:H,A:T,b:L,B:$,c:F,d:bj,e:bj,f:zG,g:yj,G:vj,H:wj,I:wj,j:BG,L:qG,m:FG,M:$G,p:C,q:DG,Q:HG,s:VG,S:UG,u:TG,U:LG,V:IG,w:NG,W:RG,x:U,X:z,y:yj,Y:vj,Z:MG,"%":WG};A.x=O(r,A),A.X=O(n,A),A.c=O(e,A),k.x=O(r,k),k.X=O(n,k),k.c=O(e,k);function O(le,ve){return function(Ae){var be=[],De=-1,Ee=0,ce=le.length,at,Ze,Ye;for(Ae instanceof Date||(Ae=new Date(+Ae));++De<ce;)le.charCodeAt(De)===37&&(be.push(le.slice(Ee,De)),(Ze=mj[at=le.charAt(++De)])!=null?at=le.charAt(++De):Ze=at==="e"?" ":"0",(Ye=ve[at])&&(at=Ye(Ae,Ze)),be.push(at),Ee=De+1);return be.push(le.slice(Ee,De)),be.join("")}}function M(le,ve){return function(Ae){var be=ap(1900,void 0,1),De=N(be,le,Ae+="",0),Ee,ce;if(De!=Ae.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(ve&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(Ee=W2(ap(be.y,0,1)),ce=Ee.getUTCDay(),Ee=ce>4||ce===0?z0.ceil(Ee):z0(Ee),Ee=Xv.offset(Ee,(be.V-1)*7),be.y=Ee.getUTCFullYear(),be.m=Ee.getUTCMonth(),be.d=Ee.getUTCDate()+(be.w+6)%7):(Ee=z2(ap(be.y,0,1)),ce=Ee.getDay(),Ee=ce>4||ce===0?q0.ceil(Ee):q0(Ee),Ee=Ig.offset(Ee,(be.V-1)*7),be.y=Ee.getFullYear(),be.m=Ee.getMonth(),be.d=Ee.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),ce="Z"in be?W2(ap(be.y,0,1)).getUTCDay():z2(ap(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(ce+5)%7:be.w+be.U*7-(ce+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,W2(be)):z2(be)}}function N(le,ve,Ae,be){for(var De=0,Ee=ve.length,ce=Ae.length,at,Ze;De<Ee;){if(be>=ce)return-1;if(at=ve.charCodeAt(De++),at===37){if(at=ve.charAt(De++),Ze=j[at in mj?ve.charAt(De++):at],!Ze||(be=Ze(le,Ae,be))<0)return-1}else if(at!=Ae.charCodeAt(be++))return-1}return be}function C(le,ve,Ae){var be=u.exec(ve.slice(Ae));return be?(le.p=f.get(be[0].toLowerCase()),Ae+be[0].length):-1}function H(le,ve,Ae){var be=g.exec(ve.slice(Ae));return be?(le.w=y.get(be[0].toLowerCase()),Ae+be[0].length):-1}function T(le,ve,Ae){var be=h.exec(ve.slice(Ae));return be?(le.w=p.get(be[0].toLowerCase()),Ae+be[0].length):-1}function L(le,ve,Ae){var be=w.exec(ve.slice(Ae));return be?(le.m=S.get(be[0].toLowerCase()),Ae+be[0].length):-1}function $(le,ve,Ae){var be=b.exec(ve.slice(Ae));return be?(le.m=v.get(be[0].toLowerCase()),Ae+be[0].length):-1}function F(le,ve,Ae){return N(le,e,ve,Ae)}function U(le,ve,Ae){return N(le,r,ve,Ae)}function z(le,ve,Ae){return N(le,n,ve,Ae)}function q(le){return o[le.getDay()]}function G(le){return a[le.getDay()]}function K(le){return l[le.getMonth()]}function te(le){return s[le.getMonth()]}function X(le){return i[+(le.getHours()>=12)]}function D(le){return 1+~~(le.getMonth()/3)}function Y(le){return o[le.getUTCDay()]}function J(le){return a[le.getUTCDay()]}function ee(le){return l[le.getUTCMonth()]}function ue(le){return s[le.getUTCMonth()]}function me(le){return i[+(le.getUTCHours()>=12)]}function fe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ve=O(le+="",A);return ve.toString=function(){return le},ve},parse:function(le){var ve=M(le+="",!1);return ve.toString=function(){return le},ve},utcFormat:function(le){var ve=O(le+="",k);return ve.toString=function(){return le},ve},utcParse:function(le){var ve=M(le+="",!0);return ve.toString=function(){return le},ve}}}var mj={"-":"",_:" ",0:"0"},Ti=/^\s*\d+/,OG=/^%/,jG=/[\\^$*+?|[\]().{}]/g;function xr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function CG(t){return t.replace(jG,"\\$&")}function op(t){return new RegExp("^(?:"+t.map(CG).join("|")+")","i")}function sp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function NG(t,e,r){var n=Ti.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function TG(t,e,r){var n=Ti.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function LG(t,e,r){var n=Ti.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function IG(t,e,r){var n=Ti.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function RG(t,e,r){var n=Ti.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function vj(t,e,r){var n=Ti.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function yj(t,e,r){var n=Ti.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function MG(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function DG(t,e,r){var n=Ti.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function FG(t,e,r){var n=Ti.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function bj(t,e,r){var n=Ti.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function BG(t,e,r){var n=Ti.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function wj(t,e,r){var n=Ti.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function $G(t,e,r){var n=Ti.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function UG(t,e,r){var n=Ti.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function qG(t,e,r){var n=Ti.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function zG(t,e,r){var n=Ti.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function WG(t,e,r){var n=OG.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function HG(t,e,r){var n=Ti.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function VG(t,e,r){var n=Ti.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function xj(t,e){return xr(t.getDate(),e,2)}function GG(t,e){return xr(t.getHours(),e,2)}function KG(t,e){return xr(t.getHours()%12||12,e,2)}function YG(t,e){return xr(1+Ig.count(nu(t),t),e,3)}function _I(t,e){return xr(t.getMilliseconds(),e,3)}function XG(t,e){return _I(t,e)+"000"}function JG(t,e){return xr(t.getMonth()+1,e,2)}function ZG(t,e){return xr(t.getMinutes(),e,2)}function QG(t,e){return xr(t.getSeconds(),e,2)}function eK(t){var e=t.getDay();return e===0?7:e}function tK(t,e){return xr(Jv.count(nu(t)-1,t),e,2)}function SI(t){var e=t.getDay();return e>=4||e===0?eh(t):eh.ceil(t)}function rK(t,e){return t=SI(t),xr(eh.count(nu(t),t)+(nu(t).getDay()===4),e,2)}function nK(t){return t.getDay()}function iK(t,e){return xr(q0.count(nu(t)-1,t),e,2)}function aK(t,e){return xr(t.getFullYear()%100,e,2)}function oK(t,e){return t=SI(t),xr(t.getFullYear()%100,e,2)}function sK(t,e){return xr(t.getFullYear()%1e4,e,4)}function lK(t,e){var r=t.getDay();return t=r>=4||r===0?eh(t):eh.ceil(t),xr(t.getFullYear()%1e4,e,4)}function uK(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xr(e/60|0,"0",2)+xr(e%60,"0",2)}function _j(t,e){return xr(t.getUTCDate(),e,2)}function cK(t,e){return xr(t.getUTCHours(),e,2)}function fK(t,e){return xr(t.getUTCHours()%12||12,e,2)}function dK(t,e){return xr(1+Xv.count(iu(t),t),e,3)}function AI(t,e){return xr(t.getUTCMilliseconds(),e,3)}function hK(t,e){return AI(t,e)+"000"}function pK(t,e){return xr(t.getUTCMonth()+1,e,2)}function gK(t,e){return xr(t.getUTCMinutes(),e,2)}function mK(t,e){return xr(t.getUTCSeconds(),e,2)}function vK(t){var e=t.getUTCDay();return e===0?7:e}function yK(t,e){return xr(Zv.count(iu(t)-1,t),e,2)}function PI(t){var e=t.getUTCDay();return e>=4||e===0?th(t):th.ceil(t)}function bK(t,e){return t=PI(t),xr(th.count(iu(t),t)+(iu(t).getUTCDay()===4),e,2)}function wK(t){return t.getUTCDay()}function xK(t,e){return xr(z0.count(iu(t)-1,t),e,2)}function _K(t,e){return xr(t.getUTCFullYear()%100,e,2)}function SK(t,e){return t=PI(t),xr(t.getUTCFullYear()%100,e,2)}function AK(t,e){return xr(t.getUTCFullYear()%1e4,e,4)}function PK(t,e){var r=t.getUTCDay();return t=r>=4||r===0?th(t):th.ceil(t),xr(t.getUTCFullYear()%1e4,e,4)}function EK(){return"+0000"}function Sj(){return"%"}function Aj(t){return+t}function Pj(t){return Math.floor(+t/1e3)}var xd,EI,kI;kK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kK(t){return xd=kG(t),EI=xd.format,xd.parse,kI=xd.utcFormat,xd.utcParse,xd}function OK(t){return new Date(t)}function jK(t){return t instanceof Date?+t:+new Date(+t)}function SA(t,e,r,n,i,a,o,s,l,u){var f=uA(),h=f.invert,p=f.domain,g=u(".%L"),y=u(":%S"),b=u("%I:%M"),v=u("%I %p"),w=u("%a %d"),S=u("%b %d"),A=u("%B"),k=u("%Y");function j(O){return(l(O)<O?g:s(O)<O?y:o(O)<O?b:a(O)<O?v:n(O)<O?i(O)<O?w:S:r(O)<O?A:k)(O)}return f.invert=function(O){return new Date(h(O))},f.domain=function(O){return arguments.length?p(Array.from(O,jK)):p().map(OK)},f.ticks=function(O){var M=p();return t(M[0],M[M.length-1],O??10)},f.tickFormat=function(O,M){return M==null?j:u(M)},f.nice=function(O){var M=p();return(!O||typeof O.range!="function")&&(O=e(M[0],M[M.length-1],O??10)),O?p(hI(M,O)):f},f.copy=function(){return Lg(f,SA(t,e,r,n,i,a,o,s,l,u))},f}function CK(){return Go.apply(SA(PG,EG,nu,xA,Jv,Ig,bA,vA,of,EI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NK(){return Go.apply(SA(SG,AG,iu,_A,Zv,Xv,wA,yA,of,kI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qv(){var t=0,e=1,r,n,i,a,o=wa,s=!1,l;function u(h){return h==null||isNaN(h=+h)?l:o(i===0?.5:(h=(a(h)-r)*i,s?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(s=!!h,u):s},u.interpolator=function(h){return arguments.length?(o=h,u):o};function f(h){return function(p){var g,y;return arguments.length?([g,y]=p,o=h(g,y),u):[o(0),o(1)]}}return u.range=f(Sh),u.rangeRound=f(lA),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return a=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function fc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function OI(){var t=cc(Qv()(wa));return t.copy=function(){return fc(t,OI())},cu.apply(t,arguments)}function jI(){var t=dA(Qv()).domain([1,10]);return t.copy=function(){return fc(t,jI()).base(t.base())},cu.apply(t,arguments)}function CI(){var t=hA(Qv());return t.copy=function(){return fc(t,CI()).constant(t.constant())},cu.apply(t,arguments)}function AA(){var t=pA(Qv());return t.copy=function(){return fc(t,AA()).exponent(t.exponent())},cu.apply(t,arguments)}function TK(){return AA.apply(null,arguments).exponent(.5)}function NI(){var t=[],e=wa;function r(n){if(n!=null&&!isNaN(n=+n))return e((Ng(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Qu),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>yV(t,a/n))},r.copy=function(){return NI(e).domain(t)},cu.apply(r,arguments)}function ey(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=wa,f,h=!1,p;function g(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-a)*(n*b<n*a?s:l),u(h?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([t,e,r]=b,i=f(t=+t),a=f(e=+e),o=f(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,g):[t,e,r]},g.clamp=function(b){return arguments.length?(h=!!b,g):h},g.interpolator=function(b){return arguments.length?(u=b,g):u};function y(b){return function(v){var w,S,A;return arguments.length?([w,S,A]=v,u=WV(b,[w,S,A]),g):[u(0),u(.5),u(1)]}}return g.range=y(Sh),g.rangeRound=y(lA),g.unknown=function(b){return arguments.length?(p=b,g):p},function(b){return f=b,i=b(t),a=b(e),o=b(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,g}}function TI(){var t=cc(ey()(wa));return t.copy=function(){return fc(t,TI())},cu.apply(t,arguments)}function LI(){var t=dA(ey()).domain([.1,1,10]);return t.copy=function(){return fc(t,LI()).base(t.base())},cu.apply(t,arguments)}function II(){var t=hA(ey());return t.copy=function(){return fc(t,II()).constant(t.constant())},cu.apply(t,arguments)}function PA(){var t=pA(ey());return t.copy=function(){return fc(t,PA()).exponent(t.exponent())},cu.apply(t,arguments)}function LK(){return PA.apply(null,arguments).exponent(.5)}const Ej=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hp,scaleDiverging:TI,scaleDivergingLog:LI,scaleDivergingPow:PA,scaleDivergingSqrt:LK,scaleDivergingSymlog:II,scaleIdentity:dI,scaleImplicit:J5,scaleLinear:$0,scaleLog:pI,scaleOrdinal:aA,scalePoint:Ap,scalePow:gA,scaleQuantile:vI,scaleQuantize:yI,scaleRadial:mI,scaleSequential:OI,scaleSequentialLog:jI,scaleSequentialPow:AA,scaleSequentialQuantile:NI,scaleSequentialSqrt:TK,scaleSequentialSymlog:CI,scaleSqrt:hG,scaleSymlog:gI,scaleThreshold:bI,scaleTime:CK,scaleUtc:NK,tickFormat:fI},Symbol.toStringTag,{value:"Module"}));var H2,kj;function RI(){if(kj)return H2;kj=1;var t=wh();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],l=n(s);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,f=s}return f}return H2=e,H2}var V2,Oj;function IK(){if(Oj)return V2;Oj=1;function t(e,r){return e>r}return V2=t,V2}var G2,jj;function RK(){if(jj)return G2;jj=1;var t=RI(),e=IK(),r=_h();function n(i){return i&&i.length?t(i,r,e):void 0}return G2=n,G2}var MK=RK();const ty=Br(MK);var K2,Cj;function DK(){if(Cj)return K2;Cj=1;function t(e,r){return e<r}return K2=t,K2}var Y2,Nj;function FK(){if(Nj)return Y2;Nj=1;var t=RI(),e=DK(),r=_h();function n(i){return i&&i.length?t(i,r,e):void 0}return Y2=n,Y2}var BK=FK();const ry=Br(BK);var X2,Tj;function $K(){if(Tj)return X2;Tj=1;var t=US(),e=uc(),r=zL(),n=qa();function i(a,o){var s=n(a)?t:r;return s(a,e(o,3))}return X2=i,X2}var J2,Lj;function UK(){if(Lj)return J2;Lj=1;var t=UL(),e=$K();function r(n,i){return t(e(n,i),1)}return J2=r,J2}var qK=UK();const zK=Br(qK);var Z2,Ij;function WK(){if(Ij)return Z2;Ij=1;var t=eA();function e(r,n){return t(r,n)}return Z2=e,Z2}var HK=WK();const EA=Br(HK);var Ah=1e9,VK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OA,bn=!0,Ho="[DecimalError] ",df=Ho+"Invalid argument: ",kA=Ho+"Exponent out of range: ",Ph=Math.floor,Xc=Math.pow,GK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fo,ji=1e7,an=7,MI=9007199254740991,W0=Ph(MI/an),bt={};bt.absoluteValue=bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};bt.comparedTo=bt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*an;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};bt.dividedBy=bt.div=function(t){return eu(this,new this.constructor(t))};bt.dividedToIntegerBy=bt.idiv=function(t){var e=this,r=e.constructor;return Kr(eu(e,new r(t),0,1),r.precision)};bt.equals=bt.eq=function(t){return!this.cmp(t)};bt.exponent=function(){return ai(this)};bt.greaterThan=bt.gt=function(t){return this.cmp(t)>0};bt.greaterThanOrEqualTo=bt.gte=function(t){return this.cmp(t)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(t){return this.cmp(t)<0};bt.lessThanOrEqualTo=bt.lte=function(t){return this.cmp(t)<1};bt.logarithm=bt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(fo))throw Error(Ho+"NaN");if(r.s<1)throw Error(Ho+(r.s?"NaN":"-Infinity"));return r.eq(fo)?new n(0):(bn=!1,e=eu(Xp(r,a),Xp(t,a),a),bn=!0,Kr(e,i))};bt.minus=bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BI(e,t):DI(e,(t.s=-t.s,t))};bt.modulo=bt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ho+"NaN");return r.s?(bn=!1,e=eu(r,t,0,1).times(t),bn=!0,r.minus(e)):Kr(new n(r),i)};bt.naturalExponential=bt.exp=function(){return FI(this)};bt.naturalLogarithm=bt.ln=function(){return Xp(this)};bt.negated=bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};bt.plus=bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?DI(e,t):BI(e,(t.s=-t.s,t))};bt.precision=bt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(df+t);if(e=ai(i)+1,n=i.d.length-1,r=n*an+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};bt.squareRoot=bt.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ho+"NaN")}for(t=ai(s),bn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Qs(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ph((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(eu(s,a,o+2)).times(.5),Qs(a.d).slice(0,o)===(e=Qs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Kr(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return bn=!0,Kr(n,r)};bt.times=bt.mul=function(t){var e,r,n,i,a,o,s,l,u,f=this,h=f.constructor,p=f.d,g=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,r=f.e+t.e,l=p.length,u=g.length,l<u&&(a=p,p=g,g=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+g[n]*p[i-n-1]+e,a[i--]=s%ji|0,e=s/ji|0;a[i]=(a[i]+e)%ji|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,bn?Kr(t,h.precision):t};bt.toDecimalPlaces=bt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(il(t,0,Ah),e===void 0?e=n.rounding:il(e,0,8),Kr(r,t+ai(r)+1,e))};bt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=xf(n,!0):(il(t,0,Ah),e===void 0?e=i.rounding:il(e,0,8),n=Kr(new i(n),t+1,e),r=xf(n,!0,t+1)),r};bt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?xf(i):(il(t,0,Ah),e===void 0?e=a.rounding:il(e,0,8),n=Kr(new a(i),t+ai(i)+1,e),r=xf(n.abs(),!1,t+ai(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};bt.toInteger=bt.toint=function(){var t=this,e=t.constructor;return Kr(new e(t),ai(t)+1,e.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(fo);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ho+"Infinity");return s}if(s.eq(fo))return s;if(n=l.precision,t.eq(fo))return Kr(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=f<0?-f:f)<=MI){for(i=new l(fo),e=Math.ceil(n/an+4),bn=!1;r%2&&(i=i.times(s),Mj(i.d,e)),r=Ph(r/2),r!==0;)s=s.times(s),Mj(s.d,e);return bn=!0,t.s<0?new l(fo).div(i):Kr(i,n)}}else if(a<0)throw Error(Ho+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,bn=!1,i=t.times(Xp(s,n+u)),bn=!0,i=FI(i),i.s=a,i};bt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=ai(i),n=xf(i,r<=a.toExpNeg||r>=a.toExpPos)):(il(t,1,Ah),e===void 0?e=a.rounding:il(e,0,8),i=Kr(new a(i),t,e),r=ai(i),n=xf(i,t<=r||r<=a.toExpNeg,t)),n};bt.toSignificantDigits=bt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(il(t,1,Ah),e===void 0?e=n.rounding:il(e,0,8)),Kr(new n(r),t,e)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ai(t),r=t.constructor;return xf(t,e<=r.toExpNeg||e>=r.toExpPos)};function DI(t,e){var r,n,i,a,o,s,l,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),bn?Kr(e,h):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(h/an),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/ji|0,l[a]%=ji;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,bn?Kr(e,h):e}function il(t,e,r){if(t!==~~t||t<e||t>r)throw Error(df+t)}function Qs(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=an-n.length,r&&(a+=Vu(r)),a+=n;o=t[e],n=o+"",r=an-n.length,r&&(a+=Vu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var eu=(function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%ji|0,o=a/ji|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*ji+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,f,h,p,g,y,b,v,w,S,A,k,j,O,M,N,C=n.constructor,H=n.s==i.s?1:-1,T=n.d,L=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(Ho+"Division by zero");for(l=n.e-i.e,M=L.length,j=T.length,g=new C(H),y=g.d=[],u=0;L[u]==(T[u]||0);)++u;if(L[u]>(T[u]||0)&&--l,a==null?S=a=C.precision:o?S=a+(ai(n)-ai(i))+1:S=a,S<0)return new C(0);if(S=S/an+2|0,u=0,M==1)for(f=0,L=L[0],S++;(u<j||f)&&S--;u++)A=f*ji+(T[u]||0),y[u]=A/L|0,f=A%L|0;else{for(f=ji/(L[0]+1)|0,f>1&&(L=t(L,f),T=t(T,f),M=L.length,j=T.length),k=M,b=T.slice(0,M),v=b.length;v<M;)b[v++]=0;N=L.slice(),N.unshift(0),O=L[0],L[1]>=ji/2&&++O;do f=0,s=e(L,b,M,v),s<0?(w=b[0],M!=v&&(w=w*ji+(b[1]||0)),f=w/O|0,f>1?(f>=ji&&(f=ji-1),h=t(L,f),p=h.length,v=b.length,s=e(h,b,p,v),s==1&&(f--,r(h,M<p?N:L,p))):(f==0&&(s=f=1),h=L.slice()),p=h.length,p<v&&h.unshift(0),r(b,h,v),s==-1&&(v=b.length,s=e(L,b,M,v),s<1&&(f++,r(b,M<v?N:L,v))),v=b.length):s===0&&(f++,b=[0]),y[u++]=f,s&&b[0]?b[v++]=T[k]||0:(b=[T[k]],v=1);while((k++<j||b[0]!==void 0)&&S--)}return y[0]||y.shift(),g.e=l,Kr(g,o?a+ai(g)+1:a)}})();function FI(t,e){var r,n,i,a,o,s,l=0,u=0,f=t.constructor,h=f.precision;if(ai(t)>16)throw Error(kA+ai(t));if(!t.s)return new f(fo);for(bn=!1,s=h,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Xc(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new f(fo),f.precision=s;;){if(i=Kr(i.times(t),s),r=r.times(++l),o=a.plus(eu(i,r,s)),Qs(o.d).slice(0,s)===Qs(a.d).slice(0,s)){for(;u--;)a=Kr(a.times(a),s);return f.precision=h,e==null?(bn=!0,Kr(a,h)):a}a=o}}function ai(t){for(var e=t.e*an,r=t.d[0];r>=10;r/=10)e++;return e}function Q2(t,e,r){if(e>t.LN10.sd())throw bn=!0,r&&(t.precision=r),Error(Ho+"LN10 precision limit exceeded");return Kr(new t(t.LN10),e)}function Vu(t){for(var e="";t--;)e+="0";return e}function Xp(t,e){var r,n,i,a,o,s,l,u,f,h=1,p=10,g=t,y=g.d,b=g.constructor,v=b.precision;if(g.s<1)throw Error(Ho+(g.s?"NaN":"-Infinity"));if(g.eq(fo))return new b(0);if(e==null?(bn=!1,u=v):u=e,g.eq(10))return e==null&&(bn=!0),Q2(b,u);if(u+=p,b.precision=u,r=Qs(y),n=r.charAt(0),a=ai(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Qs(g.d),n=r.charAt(0),h++;a=ai(g),n>1?(g=new b("0."+r),a++):g=new b(n+"."+r.slice(1))}else return l=Q2(b,u+2,v).times(a+""),g=Xp(new b(n+"."+r.slice(1)),u-p).plus(l),b.precision=v,e==null?(bn=!0,Kr(g,v)):g;for(s=o=g=eu(g.minus(fo),g.plus(fo),u),f=Kr(g.times(g),u),i=3;;){if(o=Kr(o.times(f),u),l=s.plus(eu(o,new b(i),u)),Qs(l.d).slice(0,u)===Qs(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Q2(b,u+2,v).times(a+""))),s=eu(s,new b(h),u),b.precision=v,e==null?(bn=!0,Kr(s,v)):s;s=l,i+=2}}function Rj(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Ph(r/an),t.d=[],n=(r+1)%an,r<0&&(n+=an),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=an;n<i;)t.d.push(+e.slice(n,n+=an));e=e.slice(n),n=an-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),bn&&(t.e>W0||t.e<-W0))throw Error(kA+r)}else t.s=0,t.e=0,t.d=[0];return t}function Kr(t,e,r){var n,i,a,o,s,l,u,f,h=t.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=an,i=e,u=h[f=0];else{if(f=Math.ceil((n+1)/an),a=h.length,f>=a)return t;for(u=a=h[f],o=1;a>=10;a/=10)o++;n%=an,i=n-an+o}if(r!==void 0&&(a=Xc(10,o-i-1),s=u/a%10|0,l=e<0||h[f+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Xc(10,o-i):0:h[f-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return l?(a=ai(t),h.length=1,e=e-a-1,h[0]=Xc(10,(an-e%an)%an),t.e=Ph(-e/an)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=f,a=1,f--):(h.length=f+1,a=Xc(10,an-n),h[f]=i>0?(u/Xc(10,o-i)%Xc(10,i)|0)*a:0),l)for(;;)if(f==0){(h[0]+=a)==ji&&(h[0]=1,++t.e);break}else{if(h[f]+=a,h[f]!=ji)break;h[f--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(bn&&(t.e>W0||t.e<-W0))throw Error(kA+ai(t));return t}function BI(t,e){var r,n,i,a,o,s,l,u,f,h,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),bn?Kr(e,g):e;if(l=t.d,h=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(f=o<0,f?(r=l,o=-o,s=h.length):(r=h,n=u,s=l.length),i=Math.max(Math.ceil(g/an),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=h.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=h[i]){f=l[i]<h[i];break}o=0}for(f&&(r=l,l=h,h=r,e.s=-e.s),s=l.length,i=h.length-s;i>0;--i)l[s++]=0;for(i=h.length;i>o;){if(l[--i]<h[i]){for(a=i;a&&l[--a]===0;)l[a]=ji-1;--l[a],l[i]+=ji}l[i]-=h[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,bn?Kr(e,g):e):new p(0)}function xf(t,e,r){var n,i=ai(t),a=Qs(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Vu(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Vu(-i-1)+a,r&&(n=r-o)>0&&(a+=Vu(n))):i>=o?(a+=Vu(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Vu(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Vu(n))),t.s<0?"-"+a:a}function Mj(t,e){if(t.length>e)return t.length=e,!0}function $I(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(df+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return Rj(o,a.toString())}else if(typeof a!="string")throw Error(df+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,GK.test(a))Rj(o,a);else throw Error(df+a)}if(i.prototype=bt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$I,i.config=i.set=KK,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function KK(t){if(!t||typeof t!="object")throw Error(Ho+"Object expected");var e,r,n,i=["precision",1,Ah,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Ph(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(df+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(df+r+": "+n);return this}var OA=$I(VK);fo=new OA(1);const Wr=OA;function YK(t){return QK(t)||ZK(t)||JK(t)||XK()}function XK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JK(t,e){if(t){if(typeof t=="string")return t_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(t,e)}}function ZK(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function QK(t){if(Array.isArray(t))return t_(t)}function t_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var eY=function(e){return e},UI={},qI=function(e){return e===UI},Dj=function(e){return function r(){return arguments.length===0||arguments.length===1&&qI(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},tY=function t(e,r){return e===1?r:Dj(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==UI}).length;return o>=e?r.apply(void 0,i):t(e-o,Dj(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(h){return qI(h)?l.shift():h});return r.apply(void 0,YK(f).concat(l))}))})},ny=function(e){return tY(e.length,e)},r_=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},rY=ny(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),nY=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return eY;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},n_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},zI=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function iY(t){var e;return t===0?e=1:e=Math.floor(new Wr(t).abs().log(10).toNumber())+1,e}function aY(t,e,r){for(var n=new Wr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var oY=ny(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),sY=ny(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),lY=ny(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const iy={rangeStep:aY,getDigitCount:iY,interpolateNumber:oY,uninterpolateNumber:sY,uninterpolateTruncation:lY};function i_(t){return fY(t)||cY(t)||WI(t)||uY()}function uY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cY(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fY(t){if(Array.isArray(t))return a_(t)}function Jp(t,e){return pY(t)||hY(t,e)||WI(t,e)||dY()}function dY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WI(t,e){if(t){if(typeof t=="string")return a_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a_(t,e)}}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hY(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function pY(t){if(Array.isArray(t))return t}function HI(t){var e=Jp(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function VI(t,e,r){if(t.lte(0))return new Wr(0);var n=iy.getDigitCount(t.toNumber()),i=new Wr(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Wr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Wr(Math.ceil(l))}function gY(t,e,r){var n=1,i=new Wr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Wr(10).pow(iy.getDigitCount(t)-1),i=new Wr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Wr(Math.floor(t)))}else t===0?i=new Wr(Math.floor((e-1)/2)):r||(i=new Wr(Math.floor(t)));var o=Math.floor((e-1)/2),s=nY(rY(function(l){return i.add(new Wr(l-o).mul(n)).toNumber()}),r_);return s(0,e)}function GI(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Wr(0),tickMin:new Wr(0),tickMax:new Wr(0)};var a=VI(new Wr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Wr(0):(o=new Wr(t).add(e).div(2),o=o.sub(new Wr(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Wr(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?GI(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new Wr(s).mul(a)),tickMax:o.add(new Wr(l).mul(a))})}function mY(t){var e=Jp(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=HI([r,n]),l=Jp(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(i_(r_(0,i-1).map(function(){return 1/0}))):[].concat(i_(r_(0,i-1).map(function(){return-1/0})),[f]);return r>n?n_(h):h}if(u===f)return gY(u,i,a);var p=GI(u,f,o,a),g=p.step,y=p.tickMin,b=p.tickMax,v=iy.rangeStep(y,b.add(new Wr(.1).mul(g)),g);return r>n?n_(v):v}function vY(t,e){var r=Jp(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=HI([n,i]),s=Jp(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var f=Math.max(e,2),h=VI(new Wr(u).sub(l).div(f-1),a,0),p=[].concat(i_(iy.rangeStep(new Wr(l),new Wr(u).sub(new Wr(.99).mul(h)),h)),[u]);return n>i?n_(p):p}var yY=zI(mY),bY=zI(vY),wY="Invariant failed";function _f(t,e){throw new Error(wY)}var xY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function rh(t){"@babel/helpers - typeof";return rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rh(t)}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}function _Y(t,e){return EY(t)||PY(t,e)||AY(t,e)||SY()}function SY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AY(t,e){if(t){if(typeof t=="string")return Fj(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fj(t,e)}}function Fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PY(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function EY(t){if(Array.isArray(t))return t}function kY(t,e){if(t==null)return{};var r=OY(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OY(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XI(n.key),n)}}function NY(t,e,r){return e&&CY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TY(t,e,r){return e=V0(e),LY(t,KI()?Reflect.construct(e,r||[],V0(t).constructor):e.apply(t,r))}function LY(t,e){if(e&&(rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IY(t)}function IY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KI(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KI=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V0(t)}function RY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o_(t,e)}function o_(t,e){return o_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o_(t,e)}function YI(t,e,r){return e=XI(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XI(t){var e=MY(t,"string");return rh(e)=="symbol"?e:e+""}function MY(t,e){if(rh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ay=(function(t){function e(){return jY(this,e),TY(this,e,arguments)}return RY(e,t),NY(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,p=kY(n,xY),g=Tr(p,!1);this.props.direction==="x"&&f.type!=="number"&&_f();var y=l.map(function(b){var v=u(b,s),w=v.x,S=v.y,A=v.value,k=v.errorVal;if(!k)return null;var j=[],O,M;if(Array.isArray(k)){var N=_Y(k,2);O=N[0],M=N[1]}else O=M=k;if(a==="vertical"){var C=f.scale,H=S+i,T=H+o,L=H-o,$=C(A-O),F=C(A+M);j.push({x1:F,y1:T,x2:F,y2:L}),j.push({x1:$,y1:H,x2:F,y2:H}),j.push({x1:$,y1:T,x2:$,y2:L})}else if(a==="horizontal"){var U=h.scale,z=w+i,q=z-o,G=z+o,K=U(A-O),te=U(A+M);j.push({x1:q,y1:te,x2:G,y2:te}),j.push({x1:z,y1:K,x2:z,y2:te}),j.push({x1:q,y1:K,x2:G,y2:K})}return ge.createElement(Ni,H0({className:"recharts-errorBar",key:"bar-".concat(j.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},g),j.map(function(X){return ge.createElement("line",H0({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return ge.createElement(Ni,{className:"recharts-errorBars"},y)}}])})(ge.Component);YI(ay,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});YI(ay,"displayName","ErrorBar");function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function Bj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bj(Object(r),!0).forEach(function(n){DY(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DY(t,e,r){return e=FY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FY(t){var e=BY(t,"string");return Zp(e)=="symbol"?e:e+""}function BY(t,e){if(Zp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JI=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=lo(r,Dd);if(!o)return null;var s=Dd.defaultProps,l=s!==void 0?Gc(Gc({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(f,h){var p=h.item,g=h.props,y=g.sectors||g.data||[];return f.concat(y.map(function(b){return{type:o.props.iconType||p.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(f){var h=f.item,p=h.type.defaultProps,g=p!==void 0?Gc(Gc({},p),h.props):{},y=g.dataKey,b=g.name,v=g.legendType,w=g.hide;return{inactive:w,dataKey:y,type:l.iconType||v||"square",color:jA(h),value:b||y,payload:g}}),Gc(Gc(Gc({},l),Dd.getWithHeight(o,i)),{},{payload:u,item:o})};function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function $j(t){return zY(t)||qY(t)||UY(t)||$Y()}function $Y(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UY(t,e){if(t){if(typeof t=="string")return s_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s_(t,e)}}function qY(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zY(t){if(Array.isArray(t))return s_(t)}function s_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uj(Object(r),!0).forEach(function(n){Bd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bd(t,e,r){return e=WY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WY(t){var e=HY(t,"string");return Qp(e)=="symbol"?e:e+""}function HY(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function al(t,e,r){return Er(t)||Er(e)?r:mi(e)?Wo(t,e,r):dr(e)?e(t):r}function Pp(t,e,r,n){var i=zK(t,function(s){return al(s,e)});if(r==="number"){var a=i.filter(function(s){return dt(s)||parseFloat(s)});return a.length?[ry(a),ty(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Er(s)}):i;return o.map(function(s){return mi(s)||s instanceof Date?s:""})}var VY=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,h=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Ss(h-f)!==Ss(p-h)){var y=[];if(Ss(p-h)===Ss(l[1]-l[0])){g=p;var b=h+l[1]-l[0];y[0]=Math.min(b,(b+f)/2),y[1]=Math.max(b,(b+f)/2)}else{g=f;var v=p+l[1]-l[0];y[0]=Math.min(h,(v+h)/2),y[1]=Math.max(h,(v+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>w[0]&&e<=w[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var S=Math.min(f,p),A=Math.max(f,p);if(e>(S+h)/2&&e<=(A+h)/2){o=i[u].index;break}}}else for(var k=0;k<s;k++)if(k===0&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2&&e<=(n[k].coordinate+n[k+1].coordinate)/2||k===s-1&&e>(n[k].coordinate+n[k-1].coordinate)/2){o=n[k].index;break}return o},jA=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?qn(qn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},GY=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var f=a[s[l]].stackGroups,h=Object.keys(f),p=0,g=h.length;p<g;p++){var y=f[h[p]],b=y.items,v=y.cateAxisId,w=b.filter(function(M){return Ql(M.type).indexOf("Bar")>=0});if(w&&w.length){var S=w[0].type.defaultProps,A=S!==void 0?qn(qn({},S),w[0].props):w[0].props,k=A.barSize,j=A[v];o[j]||(o[j]=[]);var O=Er(k)?r:k;o[j].push({item:w[0],stackList:w.slice(1),barSize:Er(O)?void 0:wf(O,n,0)})}}return o},KY=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=wf(r,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,g=i/l,y=o.reduce(function(k,j){return k+j.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&g>0&&(p=!0,g*=.9,y=l*g);var b=(i-y)/2>>0,v={offset:b-u,size:0};f=o.reduce(function(k,j){var O={item:j.item,position:{offset:v.offset+v.size+u,size:p?g:j.barSize}},M=[].concat($j(k),[O]);return v=M[M.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){M.push({item:N,position:v})}),M},h)}else{var w=wf(n,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var S=(i-2*w-(l-1)*u)/l;S>1&&(S>>=0);var A=s===+s?Math.min(S,s):S;f=o.reduce(function(k,j,O){var M=[].concat($j(k),[{item:j.item,position:{offset:w+(S+u)*O+(S-A)/2,size:A}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){M.push({item:N,position:M[M.length-1].position})}),M},h)}return f},YY=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=JI({children:a,legendWidth:l});if(u){var f=i||{},h=f.width,p=f.height,g=u.align,y=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&g!=="center"&&dt(e[g]))return qn(qn({},e),{},Bd({},g,e[g]+(h||0)));if((b==="horizontal"||b==="vertical"&&g==="center")&&y!=="middle"&&dt(e[y]))return qn(qn({},e),{},Bd({},y,e[y]+(p||0)))}return e},XY=function(e,r,n){return Er(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ZI=function(e,r,n,i,a){var o=r.props.children,s=As(o,ay).filter(function(u){return XY(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var h=al(f,n);if(Er(h))return u;var p=Array.isArray(h)?[ry(h),ty(h)]:[h,h],g=l.reduce(function(y,b){var v=al(f,b,0),w=p[0]-Math.abs(Array.isArray(v)?v[0]:v),S=p[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(w,y[0]),Math.max(S,y[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},JY=function(e,r,n,i,a){var o=r.map(function(s){return ZI(e,s,n,a,i)}).filter(function(s){return!Er(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},QI=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&ZI(e,l,u,i)||Pp(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,h=u.length;f<h;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},eR=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},sf=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&s?.length>=2?Ss(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(h){var p=a?a.indexOf(h):h;return{coordinate:i(p)+u,value:h,offset:u}});return f.filter(function(h){return!Og(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,p){return{coordinate:i(h)+u,value:h,index:p,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,p){return{coordinate:i(h)+u,value:a?a[h]:h,index:p,offset:u}})},ex=new WeakMap,Fm=function(e,r){if(typeof r!="function")return e;ex.has(e)||ex.set(e,new WeakMap);var n=ex.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},ZY=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Hp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:$0(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ap(),realScaleType:"point"}:a==="category"?{scale:Hp(),realScaleType:"band"}:{scale:$0(),realScaleType:"linear"};if(bf(i)){var l="scale".concat(qv(i));return{scale:(Ej[l]||Ap)(),realScaleType:Ej[l]?l:"point"}}return dr(i)?{scale:i}:{scale:Ap(),realScaleType:"point"}},qj=1e-4,QY=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-qj,o=Math.max(i[0],i[1])+qj,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},eX=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},tX=function(e,r){if(!r||r.length!==2||!dt(r[0])||!dt(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!dt(e[0])||e[0]<n)&&(a[0]=n),(!dt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},rX=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Og(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},nX=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Og(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},iX={sign:rX,expand:$q,none:Kd,silhouette:Uq,wiggle:qq,positive:nX},aX=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=iX[n],o=Bq().keys(i).value(function(s,l){return+al(s,l,0)}).order(D5).offset(a);return o(e)},oX=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(h,p){var g,y=(g=p.type)!==null&&g!==void 0&&g.defaultProps?qn(qn({},p.type.defaultProps),p.props):p.props,b=y.stackId,v=y.hide;if(v)return h;var w=y[n],S=h[w]||{hasStack:!1,stackGroups:{}};if(mi(b)){var A=S.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};A.items.push(p),S.hasStack=!0,S.stackGroups[b]=A}else S.stackGroups[Uv("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return qn(qn({},h),{},Bd({},w,S))},l),f={};return Object.keys(u).reduce(function(h,p){var g=u[p];if(g.hasStack){var y={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(b,v){var w=g.stackGroups[v];return qn(qn({},b),{},Bd({},v,{numericAxisId:n,cateAxisId:i,items:w.items,stackedData:aX(e,w.items,a)}))},y)}return qn(qn({},h),{},Bd({},p,g))},f)},sX=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=yY(u,a,s);return e.domain([ry(f),ty(f)]),{niceTicks:f}}if(a&&i==="number"){var h=e.domain(),p=bY(h,a,s);return{niceTicks:p}}return null},zj=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=al(o,r.dataKey,r.domain[s]);return Er(l)?null:r.scale(l)-a/2+i},lX=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},uX=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?qn(qn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(mi(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},cX=function(e){return e.reduce(function(r,n){return[ry(n.concat([r[0]]).filter(dt)),ty(n.concat([r[1]]).filter(dt))]},[1/0,-1/0])},tR=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,f){var h=cX(f.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Wj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,l_=function(e,r,n){if(dr(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(dt(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(Wj.test(e[0])){var a=+Wj.exec(e[0])[1];i[0]=r[0]-a}else dr(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(dt(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(Hj.test(e[1])){var o=+Hj.exec(e[1])[1];i[1]=r[1]+o}else dr(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},G0=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=rA(r,function(h){return h.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Vj=function(e,r,n){return!e||!e.length||EA(e,Wo(n,"type.defaultProps.domain"))?r:e},rR=function(e,r){var n=e.type.defaultProps?qn(qn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,f=n.hide;return qn(qn({},Tr(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:jA(e),value:al(r,i),type:l,payload:r,chartType:u,hide:f})};function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function Gj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(r),!0).forEach(function(n){fX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fX(t,e,r){return e=dX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dX(t){var e=hX(t,"string");return eg(e)=="symbol"?e:e+""}function hX(t,e){if(eg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K0=Math.PI/180,pX=function(e){return e*180/Math.PI},Bi=function(e,r,n,i){return{x:e+Math.cos(-K0*i)*n,y:r+Math.sin(-K0*i)*n}},gX=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},mX=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=gX({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:pX(u),angleInRadian:u}},vX=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},yX=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},Yj=function(e,r){var n=e.x,i=e.y,a=mX({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=vX(r),h=f.startAngle,p=f.endAngle,g=s,y;if(h<=p){for(;g>p;)g-=360;for(;g<h;)g+=360;y=g>=h&&g<=p}else{for(;g>h;)g-=360;for(;g<p;)g+=360;y=g>=p&&g<=h}return y?Kj(Kj({},r),{},{radius:o,angle:yX(g,r)}):null};function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}var bX=["offset"];function wX(t){return AX(t)||SX(t)||_X(t)||xX()}function xX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _X(t,e){if(t){if(typeof t=="string")return u_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u_(t,e)}}function SX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AX(t){if(Array.isArray(t))return u_(t)}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PX(t,e){if(t==null)return{};var r=EX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Xj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(r),!0).forEach(function(n){kX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kX(t,e,r){return e=OX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OX(t){var e=jX(t,"string");return tg(e)=="symbol"?e:e+""}function jX(t,e){if(tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rg.apply(this,arguments)}var CX=function(e){var r=e.value,n=e.formatter,i=Er(e.children)?r:e.children;return dr(n)?n(i):i},NX=function(e,r){var n=Ss(r-e),i=Math.min(Math.abs(r-e),360);return n*i},TX=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,f=l.cy,h=l.innerRadius,p=l.outerRadius,g=l.startAngle,y=l.endAngle,b=l.clockWise,v=(h+p)/2,w=NX(g,y),S=w>=0?1:-1,A,k;i==="insideStart"?(A=g+S*o,k=b):i==="insideEnd"?(A=y-S*o,k=!b):i==="end"&&(A=y+S*o,k=b),k=w<=0?k:!k;var j=Bi(u,f,v,A),O=Bi(u,f,v,A+(k?1:-1)*359),M="M".concat(j.x,",").concat(j.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(k?0:1,`,
    `).concat(O.x,",").concat(O.y),N=Er(e.id)?Uv("recharts-radial-line-"):e.id;return ge.createElement("text",rg({},n,{dominantBaseline:"central",className:Pr("recharts-radial-bar-label",s)}),ge.createElement("defs",null,ge.createElement("path",{id:N,d:M})),ge.createElement("textPath",{xlinkHref:"#".concat(N)},r))},LX=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,h=a.endAngle,p=(f+h)/2;if(i==="outside"){var g=Bi(o,s,u+n,p),y=g.x,b=g.y;return{x:y,y:b,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,w=Bi(o,s,v,p),S=w.x,A=w.y;return{x:S,y:A,textAnchor:"middle",verticalAnchor:"middle"}},IX=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,f=o.height,h=f>=0?1:-1,p=h*i,g=h>0?"end":"start",y=h>0?"start":"end",b=u>=0?1:-1,v=b*i,w=b>0?"end":"start",S=b>0?"start":"end";if(a==="top"){var A={x:s+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:g};return hi(hi({},A),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var k={x:s+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:y};return hi(hi({},k),n?{height:Math.max(n.y+n.height-(l+f),0),width:u}:{})}if(a==="left"){var j={x:s-v,y:l+f/2,textAnchor:w,verticalAnchor:"middle"};return hi(hi({},j),n?{width:Math.max(j.x-n.x,0),height:f}:{})}if(a==="right"){var O={x:s+u+v,y:l+f/2,textAnchor:S,verticalAnchor:"middle"};return hi(hi({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:f}:{})}var M=n?{width:u,height:f}:{};return a==="insideLeft"?hi({x:s+v,y:l+f/2,textAnchor:S,verticalAnchor:"middle"},M):a==="insideRight"?hi({x:s+u-v,y:l+f/2,textAnchor:w,verticalAnchor:"middle"},M):a==="insideTop"?hi({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:y},M):a==="insideBottom"?hi({x:s+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:g},M):a==="insideTopLeft"?hi({x:s+v,y:l+p,textAnchor:S,verticalAnchor:y},M):a==="insideTopRight"?hi({x:s+u-v,y:l+p,textAnchor:w,verticalAnchor:y},M):a==="insideBottomLeft"?hi({x:s+v,y:l+f-p,textAnchor:S,verticalAnchor:g},M):a==="insideBottomRight"?hi({x:s+u-v,y:l+f-p,textAnchor:w,verticalAnchor:g},M):xh(a)&&(dt(a.x)||nf(a.x))&&(dt(a.y)||nf(a.y))?hi({x:s+wf(a.x,u),y:l+wf(a.y,f),textAnchor:"end",verticalAnchor:"end"},M):hi({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},M)},RX=function(e){return"cx"in e&&dt(e.cx)};function aa(t){var e=t.offset,r=e===void 0?5:e,n=PX(t,bX),i=hi({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,f=i.className,h=f===void 0?"":f,p=i.textBreakAll;if(!a||Er(s)&&Er(l)&&!se.isValidElement(u)&&!dr(u))return null;if(se.isValidElement(u))return se.cloneElement(u,i);var g;if(dr(u)){if(g=se.createElement(u,i),se.isValidElement(g))return g}else g=CX(i);var y=RX(a),b=Tr(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return TX(i,g,b);var v=y?LX(i):IX(i);return ge.createElement(L0,rg({className:Pr("recharts-label",h)},b,v,{breakAll:p}),g)}aa.displayName="Label";var nR=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,h=e.x,p=e.y,g=e.top,y=e.left,b=e.width,v=e.height,w=e.clockWise,S=e.labelViewBox;if(S)return S;if(dt(b)&&dt(v)){if(dt(h)&&dt(p))return{x:h,y:p,width:b,height:v};if(dt(g)&&dt(y))return{x:g,y,width:b,height:v}}return dt(h)&&dt(p)?{x:h,y:p,width:0,height:0}:dt(r)&&dt(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:w}:e.viewBox?e.viewBox:{}},MX=function(e,r){return e?e===!0?ge.createElement(aa,{key:"label-implicit",viewBox:r}):mi(e)?ge.createElement(aa,{key:"label-implicit",viewBox:r,value:e}):se.isValidElement(e)?e.type===aa?se.cloneElement(e,{key:"label-implicit",viewBox:r}):ge.createElement(aa,{key:"label-implicit",content:e,viewBox:r}):dr(e)?ge.createElement(aa,{key:"label-implicit",content:e,viewBox:r}):xh(e)?ge.createElement(aa,rg({viewBox:r},e,{key:"label-implicit"})):null:null},DX=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=nR(e),o=As(i,aa).map(function(l,u){return se.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=MX(e.label,r||a);return[s].concat(wX(o))};aa.parseViewBox=nR;aa.renderCallByParent=DX;var tx,Jj;function FX(){if(Jj)return tx;Jj=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return tx=t,tx}var BX=FX();const $X=Br(BX);function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}var UX=["valueAccessor"],qX=["data","dataKey","clockWise","id","textBreakAll"];function zX(t){return GX(t)||VX(t)||HX(t)||WX()}function WX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(t,e){if(t){if(typeof t=="string")return c_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c_(t,e)}}function VX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GX(t){if(Array.isArray(t))return c_(t)}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y0.apply(this,arguments)}function Zj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(r),!0).forEach(function(n){KX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KX(t,e,r){return e=YX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YX(t){var e=XX(t,"string");return ng(e)=="symbol"?e:e+""}function XX(t,e){if(ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eC(t,e){if(t==null)return{};var r=JX(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JX(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ZX=function(e){return Array.isArray(e.value)?$X(e.value):e.value};function hf(t){var e=t.valueAccessor,r=e===void 0?ZX:e,n=eC(t,UX),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=eC(n,qX);return!i||!i.length?null:ge.createElement(Ni,{className:"recharts-label-list"},i.map(function(f,h){var p=Er(a)?r(f,h):al(f&&f.payload,a),g=Er(s)?{}:{id:"".concat(s,"-").concat(h)};return ge.createElement(aa,Y0({},Tr(f,!0),u,g,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:aa.parseViewBox(Er(o)?f:Qj(Qj({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}hf.displayName="LabelList";function QX(t,e){return t?t===!0?ge.createElement(hf,{key:"labelList-implicit",data:e}):ge.isValidElement(t)||dr(t)?ge.createElement(hf,{key:"labelList-implicit",data:e,content:t}):xh(t)?ge.createElement(hf,Y0({data:e},t,{key:"labelList-implicit"})):null:null}function eJ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=As(n,hf).map(function(o,s){return se.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=QX(t.label,e);return[a].concat(zX(i))}hf.renderCallByParent=eJ;function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f_.apply(this,arguments)}function tC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(r),!0).forEach(function(n){tJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tJ(t,e,r){return e=rJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rJ(t){var e=nJ(t,"string");return ig(e)=="symbol"?e:e+""}function nJ(t,e){if(ig(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iJ=function(e,r){var n=Ss(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Bm=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,h=Math.asin(l/f)/K0,p=u?a:a+o*h,g=Bi(r,n,f,p),y=Bi(r,n,i,p),b=u?a-o*h:a,v=Bi(r,n,f*Math.cos(h*K0),b);return{center:g,circleTangency:y,lineTangency:v,theta:h}},iR=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=iJ(o,s),u=o+l,f=Bi(r,n,a,o),h=Bi(r,n,a,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var g=Bi(r,n,i,o),y=Bi(r,n,i,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},aJ=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,h=Ss(f-u),p=Bm({cx:r,cy:n,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:l}),g=p.circleTangency,y=p.lineTangency,b=p.theta,v=Bm({cx:r,cy:n,radius:a,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:l}),w=v.circleTangency,S=v.lineTangency,A=v.theta,k=l?Math.abs(u-f):Math.abs(u-f)-b-A;if(k<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):iR({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var j="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var O=Bm({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),M=O.circleTangency,N=O.lineTangency,C=O.theta,H=Bm({cx:r,cy:n,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=H.circleTangency,L=H.lineTangency,$=H.theta,F=l?Math.abs(u-f):Math.abs(u-f)-C-$;if(F<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},oJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aR=function(e){var r=rC(rC({},oJ),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,p=r.className;if(o<a||f===h)return null;var g=Pr("recharts-sector",p),y=o-a,b=wf(s,y,0,!0),v;return b>0&&Math.abs(f-h)<360?v=aJ({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}):v=iR({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:h}),ge.createElement("path",f_({},Tr(r,!0),{className:g,d:v,role:"img"}))};function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d_.apply(this,arguments)}function nC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(r),!0).forEach(function(n){sJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sJ(t,e,r){return e=lJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lJ(t){var e=uJ(t,"string");return ag(e)=="symbol"?e:e+""}function uJ(t,e){if(ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aC={curveBasisClosed:Oq,curveBasisOpen:jq,curveBasis:kq,curveBumpX:hq,curveBumpY:pq,curveLinearClosed:Cq,curveLinear:Wv,curveMonotoneX:Nq,curveMonotoneY:Tq,curveNatural:Lq,curveStep:Iq,curveStepAfter:Mq,curveStepBefore:Rq},$m=function(e){return e.x===+e.x&&e.y===+e.y},lp=function(e){return e.x},up=function(e){return e.y},cJ=function(e,r){if(dr(e))return e;var n="curve".concat(qv(e));return(n==="curveMonotone"||n==="curveBump")&&r?aC["".concat(n).concat(r==="vertical"?"Y":"X")]:aC[n]||Wv},fJ=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=cJ(n,s),h=u?a.filter(function(b){return $m(b)}):a,p;if(Array.isArray(o)){var g=u?o.filter(function(b){return $m(b)}):o,y=h.map(function(b,v){return iC(iC({},b),{},{base:g[v]})});return s==="vertical"?p=Nm().y(up).x1(lp).x0(function(b){return b.base.x}):p=Nm().x(lp).y1(up).y0(function(b){return b.base.y}),p.defined($m).curve(f),p(y)}return s==="vertical"&&dt(o)?p=Nm().y(up).x1(lp).x0(o):dt(o)?p=Nm().x(lp).y1(up).y0(o):p=cL().x(lp).y(up),p.defined($m).curve(f),p(h)},oC=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?fJ(e):i;return se.createElement("path",d_({},Tr(e,!1),x0(e),{className:Pr("recharts-curve",r),d:o,ref:a}))},rx={exports:{}},nx,sC;function dJ(){if(sC)return nx;sC=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nx=t,nx}var ix,lC;function hJ(){if(lC)return ix;lC=1;var t=dJ();function e(){}function r(){}return r.resetWarningCache=e,ix=function(){function n(o,s,l,u,f,h){if(h!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},ix}var uC;function pJ(){return uC||(uC=1,rx.exports=hJ()()),rx.exports}var gJ=pJ();const Nr=Br(gJ);var mJ=Object.getOwnPropertyNames,vJ=Object.getOwnPropertySymbols,yJ=Object.prototype.hasOwnProperty;function cC(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Um(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function bJ(t){return t?.[Symbol.toStringTag]}function fC(t){return mJ(t).concat(vJ(t))}var wJ=Object.hasOwn||(function(t,e){return yJ.call(t,e)});function jf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var xJ="__v",_J="__o",SJ="_owner",dC=Object.getOwnPropertyDescriptor,hC=Object.keys;function AJ(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function PJ(t,e){return jf(t.getTime(),e.getTime())}function EJ(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function kJ(t,e){return t===e}function pC(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),f=!1,h=0;(s=u.next())&&!s.done;){if(i[h]){h++;continue}var p=o.value,g=s.value;if(r.equals(p[0],g[0],l,h,t,e,r)&&r.equals(p[1],g[1],p[0],g[0],t,e,r)){f=i[h]=!0;break}h++}if(!f)return!1;l++}return!0}var OJ=jf;function jJ(t,e,r){var n=hC(t),i=n.length;if(hC(e).length!==i)return!1;for(;i-- >0;)if(!oR(t,e,r,n[i]))return!1;return!0}function cp(t,e,r){var n=fC(t),i=n.length;if(fC(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!oR(t,e,r,a)||(o=dC(t,a),s=dC(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function CJ(t,e){return jf(t.valueOf(),e.valueOf())}function NJ(t,e){return t.source===e.source&&t.flags===e.flags}function gC(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function TJ(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function LJ(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function oR(t,e,r,n){return(n===SJ||n===_J||n===xJ)&&(t.$$typeof||e.$$typeof)?!0:wJ(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var IJ="[object Arguments]",RJ="[object Boolean]",MJ="[object Date]",DJ="[object Error]",FJ="[object Map]",BJ="[object Number]",$J="[object Object]",UJ="[object RegExp]",qJ="[object Set]",zJ="[object String]",WJ="[object URL]",HJ=Array.isArray,mC=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,vC=Object.assign,VJ=Object.prototype.toString.call.bind(Object.prototype.toString);function GJ(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,h=t.areTypedArraysEqual,p=t.areUrlsEqual,g=t.unknownTagComparators;return function(b,v,w){if(b===v)return!0;if(b==null||v==null)return!1;var S=typeof b;if(S!==typeof v)return!1;if(S!=="object")return S==="number"?o(b,v,w):S==="function"?i(b,v,w):!1;var A=b.constructor;if(A!==v.constructor)return!1;if(A===Object)return s(b,v,w);if(HJ(b))return e(b,v,w);if(mC!=null&&mC(b))return h(b,v,w);if(A===Date)return r(b,v,w);if(A===RegExp)return u(b,v,w);if(A===Map)return a(b,v,w);if(A===Set)return f(b,v,w);var k=VJ(b);if(k===MJ)return r(b,v,w);if(k===UJ)return u(b,v,w);if(k===FJ)return a(b,v,w);if(k===qJ)return f(b,v,w);if(k===$J)return typeof b.then!="function"&&typeof v.then!="function"&&s(b,v,w);if(k===WJ)return p(b,v,w);if(k===DJ)return n(b,v,w);if(k===IJ)return s(b,v,w);if(k===RJ||k===BJ||k===zJ)return l(b,v,w);if(g){var j=g[k];if(!j){var O=bJ(b);O&&(j=g[O])}if(j)return j(b,v,w)}return!1}}function KJ(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?cp:AJ,areDatesEqual:PJ,areErrorsEqual:EJ,areFunctionsEqual:kJ,areMapsEqual:n?cC(pC,cp):pC,areNumbersEqual:OJ,areObjectsEqual:n?cp:jJ,arePrimitiveWrappersEqual:CJ,areRegExpsEqual:NJ,areSetsEqual:n?cC(gC,cp):gC,areTypedArraysEqual:n?cp:TJ,areUrlsEqual:LJ,unknownTagComparators:void 0};if(r&&(i=vC({},i,r(i))),e){var a=Um(i.areArraysEqual),o=Um(i.areMapsEqual),s=Um(i.areObjectsEqual),l=Um(i.areSetsEqual);i=vC({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function YJ(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function XJ(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var f=n(),h=f.cache,p=h===void 0?e?new WeakMap:void 0:h,g=f.meta;return r(l,u,{cache:p,equals:i,meta:g,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var JJ=dc();dc({strict:!0});dc({circular:!0});dc({circular:!0,strict:!0});dc({createInternalComparator:function(){return jf}});dc({strict:!0,createInternalComparator:function(){return jf}});dc({circular:!0,createInternalComparator:function(){return jf}});dc({circular:!0,createInternalComparator:function(){return jf},strict:!0});function dc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=KJ(t),l=GJ(s),u=n?n(l):YJ(l);return XJ({circular:r,comparator:l,createState:i,equals:u,strict:o})}function ZJ(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function yC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):ZJ(i)};requestAnimationFrame(n)}function h_(t){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h_(t)}function QJ(t){return nZ(t)||rZ(t)||tZ(t)||eZ()}function eZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tZ(t,e){if(t){if(typeof t=="string")return bC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bC(t,e)}}function bC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nZ(t){if(Array.isArray(t))return t}function iZ(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=QJ(o),l=s[0],u=s.slice(1);if(typeof l=="number"){yC(i.bind(null,u),l);return}i(l),yC(i.bind(null,u));return}h_(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function wC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wC(Object(r),!0).forEach(function(n){sR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sR(t,e,r){return e=aZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aZ(t){var e=oZ(t,"string");return og(e)==="symbol"?e:String(e)}function oZ(t,e){if(og(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(og(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sZ=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},lZ=function(e){return e},uZ=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ep=function(e,r){return Object.keys(r).reduce(function(n,i){return xC(xC({},n),{},sR({},i,e(i,r[i])))},{})},_C=function(e,r,n){return e.map(function(i){return"".concat(uZ(i)," ").concat(r,"ms ").concat(n)}).join(",")};function cZ(t,e){return hZ(t)||dZ(t,e)||lR(t,e)||fZ()}function fZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hZ(t){if(Array.isArray(t))return t}function pZ(t){return vZ(t)||mZ(t)||lR(t)||gZ()}function gZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lR(t,e){if(t){if(typeof t=="string")return p_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p_(t,e)}}function mZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vZ(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var X0=1e-4,uR=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},cR=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},SC=function(e,r){return function(n){var i=uR(e,r);return cR(i,n)}},yZ=function(e,r){return function(n){var i=uR(e,r),a=[].concat(pZ(i.map(function(o,s){return o*s}).slice(1)),[0]);return cR(a,n)}},AC=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=cZ(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var h=SC(i,o),p=SC(a,s),g=yZ(i,o),y=function(w){return w>1?1:w<0?0:w},b=function(w){for(var S=w>1?1:w,A=S,k=0;k<8;++k){var j=h(A)-S,O=g(A);if(Math.abs(j-S)<X0||O<X0)return p(A);A=y(A-j/O)}return p(A)};return b.isStepper=!1,b},bZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(f,h,p){var g=-(f-h)*n,y=p*a,b=p+(g-y)*s/1e3,v=p*s/1e3+f;return Math.abs(v-h)<X0&&Math.abs(b)<X0?[h,0]:[v,b]};return l.isStepper=!0,l.dt=s,l},wZ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AC(i);case"spring":return bZ();default:if(i.split("(")[0]==="cubic-bezier")return AC(i)}return typeof i=="function"?i:null};function sg(t){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sg(t)}function PC(t){return SZ(t)||_Z(t)||fR(t)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Z(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SZ(t){if(Array.isArray(t))return m_(t)}function EC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EC(Object(r),!0).forEach(function(n){g_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g_(t,e,r){return e=AZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AZ(t){var e=PZ(t,"string");return sg(e)==="symbol"?e:String(e)}function PZ(t,e){if(sg(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EZ(t,e){return jZ(t)||OZ(t,e)||fR(t,e)||kZ()}function kZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fR(t,e){if(t){if(typeof t=="string")return m_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m_(t,e)}}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function jZ(t){if(Array.isArray(t))return t}var J0=function(e,r,n){return e+(r-e)*n},v_=function(e){var r=e.from,n=e.to;return r!==n},CZ=function t(e,r,n){var i=Ep(function(a,o){if(v_(o)){var s=e(o.from,o.to,o.velocity),l=EZ(s,2),u=l[0],f=l[1];return Fi(Fi({},o),{},{from:u,velocity:f})}return o},r);return n<1?Ep(function(a,o){return v_(o)?Fi(Fi({},o),{},{velocity:J0(o.velocity,i[a].velocity,n),from:J0(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const NZ=(function(t,e,r,n,i){var a=sZ(t,e),o=a.reduce(function(v,w){return Fi(Fi({},v),{},g_({},w,[t[w],e[w]]))},{}),s=a.reduce(function(v,w){return Fi(Fi({},v),{},g_({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,f,h=function(){return null},p=function(){return Ep(function(w,S){return S.from},s)},g=function(){return!Object.values(s).filter(v_).length},y=function(w){u||(u=w);var S=w-u,A=S/r.dt;s=CZ(r,s,A),i(Fi(Fi(Fi({},t),e),p())),u=w,g()||(l=requestAnimationFrame(h))},b=function(w){f||(f=w);var S=(w-f)/n,A=Ep(function(j,O){return J0.apply(void 0,PC(O).concat([r(S)]))},o);if(i(Fi(Fi(Fi({},t),e),A)),S<1)l=requestAnimationFrame(h);else{var k=Ep(function(j,O){return J0.apply(void 0,PC(O).concat([r(1)]))},o);i(Fi(Fi(Fi({},t),e),k))}};return h=r.isStepper?y:b,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}});function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}var TZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function LZ(t,e){if(t==null)return{};var r=IZ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IZ(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function ax(t){return FZ(t)||DZ(t)||MZ(t)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MZ(t,e){if(t){if(typeof t=="string")return y_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y_(t,e)}}function DZ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FZ(t){if(Array.isArray(t))return y_(t)}function y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(r),!0).forEach(function(n){bp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bp(t,e,r){return e=dR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dR(n.key),n)}}function UZ(t,e,r){return e&&$Z(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dR(t){var e=qZ(t,"string");return nh(e)==="symbol"?e:String(e)}function qZ(t,e){if(nh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b_(t,e)}function b_(t,e){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},b_(t,e)}function WZ(t){var e=HZ();return function(){var n=Z0(t),i;if(e){var a=Z0(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return w_(this,i)}}function w_(t,e){if(e&&(nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x_(t)}function x_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z0(t){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z0(t)}var tc=(function(t){zZ(r,t);var e=WZ(r);function r(n,i){var a;BZ(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,h=o.steps,p=o.children,g=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(x_(a)),a.changeStyle=a.changeStyle.bind(x_(a)),!s||g<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:f}),w_(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof p=="function")return a.state={style:u},w_(a);a.state={style:l?bp({},l,u):u}}else a.state={style:{}};return a}return UZ(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,f=a.to,h=a.from,p=this.state.style;if(s){if(!o){var g={style:l?bp({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(g);return}if(!(JJ(i.to,f)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||u?h:i.to;if(this.state&&p){var v={style:l?bp({},l,b):b};(l&&p[l]!==b||!l&&p!==b)&&this.setState(v)}this.runAnimation(ps(ps({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,g=NZ(o,s,wZ(u),l,this.changeStyle),y=function(){a.stopJSAnimation=g()};this.manager.start([p,f,y,l,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,h=u.duration,p=h===void 0?0:h,g=function(b,v,w){if(w===0)return b;var S=v.duration,A=v.easing,k=A===void 0?"ease":A,j=v.style,O=v.properties,M=v.onAnimationEnd,N=w>0?o[w-1]:v,C=O||Object.keys(j);if(typeof k=="function"||k==="spring")return[].concat(ax(b),[a.runJSAnimation.bind(a,{from:N.style,to:j,duration:S,easing:k}),S]);var H=_C(C,S,k),T=ps(ps(ps({},N.style),j),{},{transition:H});return[].concat(ax(b),[T,S,M]).filter(lZ)};return this.manager.start([l].concat(ax(o.reduce(g,[f,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=iZ());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,g=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var b=s?bp({},s,l):l,v=_C(Object.keys(b),o,u);y.start([f,a,ps(ps({},b),{},{transition:v}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=LZ(i,TZ),u=se.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var h=function(g){var y=g.props,b=y.style,v=b===void 0?{}:b,w=y.className,S=se.cloneElement(g,ps(ps({},l),{},{style:ps(ps({},v),f),className:w}));return S};return u===1?h(se.Children.only(a)):ge.createElement("div",null,se.Children.map(a,function(p){return h(p)}))}}]),r})(se.PureComponent);tc.displayName="Animate";tc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};tc.propTypes={from:Nr.oneOfType([Nr.object,Nr.string]),to:Nr.oneOfType([Nr.object,Nr.string]),attributeName:Nr.string,duration:Nr.number,begin:Nr.number,easing:Nr.oneOfType([Nr.string,Nr.func]),steps:Nr.arrayOf(Nr.shape({duration:Nr.number.isRequired,style:Nr.object.isRequired,easing:Nr.oneOfType([Nr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nr.func]),properties:Nr.arrayOf("string"),onAnimationEnd:Nr.func})),children:Nr.oneOfType([Nr.node,Nr.func]),isActive:Nr.bool,canBegin:Nr.bool,onAnimationEnd:Nr.func,shouldReAnimate:Nr.bool,onAnimationStart:Nr.func,onAnimationReStart:Nr.func};function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q0.apply(this,arguments)}function VZ(t,e){return XZ(t)||YZ(t,e)||KZ(t,e)||GZ()}function GZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KZ(t,e){if(t){if(typeof t=="string")return OC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OC(t,e)}}function OC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YZ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function XZ(t){if(Array.isArray(t))return t}function jC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(r),!0).forEach(function(n){JZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JZ(t,e,r){return e=ZZ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZZ(t){var e=QZ(t,"string");return lg(e)=="symbol"?e:e+""}function QZ(t,e){if(lg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NC=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=a[p]>o?o:a[p];f="M".concat(e,",").concat(r+s*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(r)),f+="L ".concat(e+n-l*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*h[1])),f+="L ".concat(e+n,",").concat(r+i-s*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(r+i)),f+="L ".concat(e+l*h[3],",").concat(r+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*h[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);f="M ".concat(e,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*y,`
            L `).concat(e+n,",").concat(r+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(r+i,`
            L `).concat(e+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*y," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},eQ=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),h=Math.min(o,o+l),p=Math.max(o,o+l);return n>=u&&n<=f&&i>=h&&i<=p}return!1},tQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CA=function(e){var r=CC(CC({},tQ),e),n=se.useRef(),i=se.useState(-1),a=VZ(i,2),o=a[0],s=a[1];se.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var l=r.x,u=r.y,f=r.width,h=r.height,p=r.radius,g=r.className,y=r.animationEasing,b=r.animationDuration,v=r.animationBegin,w=r.isAnimationActive,S=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var A=Pr("recharts-rectangle",g);return S?ge.createElement(tc,{canBegin:o>0,from:{width:f,height:h,x:l,y:u},to:{width:f,height:h,x:l,y:u},duration:b,animationEasing:y,isActive:S},function(k){var j=k.width,O=k.height,M=k.x,N=k.y;return ge.createElement(tc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:w,easing:y},ge.createElement("path",Q0({},Tr(r,!0),{className:A,d:NC(M,N,j,O,p),ref:n})))}):ge.createElement("path",Q0({},Tr(r,!0),{className:A,d:NC(l,u,f,h,p)}))};function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},__.apply(this,arguments)}var hR=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Pr("recharts-dot",a);return r===+r&&n===+n&&i===+i?se.createElement("circle",__({},Tr(e,!1),x0(e),{className:o,cx:r,cy:n,r:i})):null};function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}var rQ=["x","y","top","left","width","height","className"];function S_(){return S_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S_.apply(this,arguments)}function TC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(r),!0).forEach(function(n){iQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iQ(t,e,r){return e=aQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aQ(t){var e=oQ(t,"string");return ug(e)=="symbol"?e:e+""}function oQ(t,e){if(ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sQ(t,e){if(t==null)return{};var r=lQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var uQ=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},cQ=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,f=e.width,h=f===void 0?0:f,p=e.height,g=p===void 0?0:p,y=e.className,b=sQ(e,rQ),v=nQ({x:n,y:a,top:s,left:u,width:h,height:g},b);return!dt(n)||!dt(a)||!dt(h)||!dt(g)||!dt(s)||!dt(u)?null:ge.createElement("path",S_({},Tr(v,!0),{className:Pr("recharts-cross",y),d:uQ(n,a,h,g,s,u)}))},ox,LC;function fQ(){if(LC)return ox;LC=1;var t=LL(),e=t(Object.getPrototypeOf,Object);return ox=e,ox}var sx,IC;function dQ(){if(IC)return sx;IC=1;var t=lu(),e=fQ(),r=uu(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var h=e(f);if(h===null)return!0;var p=s.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return sx=u,sx}var hQ=dQ();const pQ=Br(hQ);var lx,RC;function gQ(){if(RC)return lx;RC=1;var t=lu(),e=uu(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return lx=n,lx}var mQ=gQ();const vQ=Br(mQ);function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ev.apply(this,arguments)}function yQ(t,e){return _Q(t)||xQ(t,e)||wQ(t,e)||bQ()}function bQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(t,e){if(t){if(typeof t=="string")return MC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MC(t,e)}}function MC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _Q(t){if(Array.isArray(t))return t}function DC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(r),!0).forEach(function(n){SQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SQ(t,e,r){return e=AQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AQ(t){var e=PQ(t,"string");return cg(e)=="symbol"?e:e+""}function PQ(t,e){if(cg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BC=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},EQ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kQ=function(e){var r=FC(FC({},EQ),e),n=se.useRef(),i=se.useState(-1),a=yQ(i,2),o=a[0],s=a[1];se.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&s(A)}catch{}},[]);var l=r.x,u=r.y,f=r.upperWidth,h=r.lowerWidth,p=r.height,g=r.className,y=r.animationEasing,b=r.animationDuration,v=r.animationBegin,w=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var S=Pr("recharts-trapezoid",g);return w?ge.createElement(tc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:f,lowerWidth:h,height:p,x:l,y:u},duration:b,animationEasing:y,isActive:w},function(A){var k=A.upperWidth,j=A.lowerWidth,O=A.height,M=A.x,N=A.y;return ge.createElement(tc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:y},ge.createElement("path",ev({},Tr(r,!0),{className:S,d:BC(M,N,k,j,O),ref:n})))}):ge.createElement("g",null,ge.createElement("path",ev({},Tr(r,!0),{className:S,d:BC(l,u,f,h,p)})))},OQ=["option","shapeType","propTransformer","activeClassName","isActive"];function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function jQ(t,e){if(t==null)return{};var r=CQ(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function CQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(r),!0).forEach(function(n){NQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NQ(t,e,r){return e=TQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TQ(t){var e=LQ(t,"string");return fg(e)=="symbol"?e:e+""}function LQ(t,e){if(fg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IQ(t,e){return tv(tv({},e),t)}function RQ(t,e){return t==="symbols"}function UC(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ge.createElement(CA,r);case"trapezoid":return ge.createElement(kQ,r);case"sector":return ge.createElement(aR,r);case"symbols":if(RQ(e))return ge.createElement(KS,r);break;default:return null}}function MQ(t){return se.isValidElement(t)?t.props:t}function DQ(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?IQ:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=jQ(t,OQ),u;if(se.isValidElement(e))u=se.cloneElement(e,tv(tv({},l),MQ(e)));else if(dr(e))u=e(l);else if(pQ(e)&&!vQ(e)){var f=i(e,l);u=ge.createElement(UC,{shapeType:r,elementProps:f})}else{var h=l;u=ge.createElement(UC,{shapeType:r,elementProps:h})}return s?ge.createElement(Ni,{className:o},u):u}function oy(t,e){return e!=null&&"trapezoids"in t.props}function sy(t,e){return e!=null&&"sectors"in t.props}function dg(t,e){return e!=null&&"points"in t.props}function FQ(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function BQ(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function $Q(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function UQ(t,e){var r;return oy(t,e)?r=FQ:sy(t,e)?r=BQ:dg(t,e)&&(r=$Q),r}function qQ(t,e){var r;return oy(t,e)?r="trapezoids":sy(t,e)?r="sectors":dg(t,e)&&(r="points"),r}function zQ(t,e){if(oy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(sy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return dg(t,e)?e.payload:{}}function WQ(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=qQ(r,e),a=zQ(r,e),o=n.filter(function(l,u){var f=EA(a,l),h=r.props[i].filter(function(y){var b=UQ(r,e);return b(y,e)}),p=r.props[i].indexOf(h[h.length-1]),g=u===p;return f&&g}),s=n.indexOf(o[o.length-1]);return s}var ux,qC;function HQ(){if(qC)return ux;qC=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var s=-1,l=e(t((i-n)/(a||1)),0),u=Array(l);l--;)u[o?l:++s]=n,n+=a;return u}return ux=r,ux}var cx,zC;function pR(){if(zC)return cx;zC=1;var t=YL(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return cx=n,cx}var fx,WC;function VQ(){if(WC)return fx;WC=1;var t=HQ(),e=Kv(),r=pR();function n(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),t(a,o,s,i)}}return fx=n,fx}var dx,HC;function GQ(){if(HC)return dx;HC=1;var t=VQ(),e=t();return dx=e,dx}var KQ=GQ();const rv=Br(KQ);function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function VC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(r),!0).forEach(function(n){gR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gR(t,e,r){return e=YQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YQ(t){var e=XQ(t,"string");return hg(e)=="symbol"?e:e+""}function XQ(t,e){if(hg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JQ=["Webkit","Moz","O","ms"],ZQ=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=JQ.reduce(function(a,o){return GC(GC({},a),{},gR({},o+n,r))},{});return i[e]=r,i};function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function nv(){return nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nv.apply(this,arguments)}function KC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(r),!0).forEach(function(n){so(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YC(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vR(n.key),n)}}function eee(t,e,r){return e&&YC(t.prototype,e),r&&YC(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tee(t,e,r){return e=iv(e),ree(t,mR()?Reflect.construct(e,r||[],iv(t).constructor):e.apply(t,r))}function ree(t,e){if(e&&(ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nee(t)}function nee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mR=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iv(t)}function iee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A_(t,e)}function so(t,e,r){return e=vR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vR(t){var e=aee(t,"string");return ih(e)=="symbol"?e:e+""}function aee(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oee=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=Ap().domain(rv(0,l)).range([a,a+o-s]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},XC=function(e){return e.changedTouches&&!!e.changedTouches.length},ah=(function(t){function e(r){var n;return QQ(this,e),n=tee(this,e,[r]),so(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),so(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),so(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),so(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),so(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),so(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),so(n,"handleSlideDragStart",function(i){var a=XC(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return iee(e,t),eee(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,h=Math.min(i,a),p=Math.max(i,a),g=e.getIndexInRange(o,h),y=e.getIndexInRange(o,p);return{startIndex:g-g%l,endIndex:y===f?f:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=al(a[n],s,n);return dr(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,h=l.travellerWidth,p=l.startIndex,g=l.endIndex,y=l.onChange,b=n.pageX-a;b>0?b=Math.min(b,u+f-h-s,u+f-h-o):b<0&&(b=Math.max(b,u-o,u-s));var v=this.getIndex({startX:o+b,endX:s+b});(v.startIndex!==p||v.endIndex!==g)&&y&&y(v),this.setState({startX:o+b,endX:s+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=XC(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],f=this.props,h=f.x,p=f.width,g=f.travellerWidth,y=f.onChange,b=f.gap,v=f.data,w={startX:this.state.startX,endX:this.state.endX},S=n.pageX-a;S>0?S=Math.min(S,h+p-g-u):S<0&&(S=Math.max(S,h-u)),w[o]=u+S;var A=this.getIndex(w),k=A.startIndex,j=A.endIndex,O=function(){var N=v.length-1;return o==="startX"&&(s>l?k%b===0:j%b===0)||s<l&&j===N||o==="endX"&&(s>l?j%b===0:k%b===0)||s>l&&j===N};this.setState(so(so({},o,u+S),"brushMoveStartX",n.pageX),function(){y&&O()&&y(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],h=s.indexOf(f);if(h!==-1){var p=h+n;if(!(p===-1||p>=s.length)){var g=s[p];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState(so({},i,g),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return ge.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,f=n.padding,h=se.Children.only(u);return h?ge.cloneElement(h,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,f=l.travellerWidth,h=l.height,p=l.traveller,g=l.ariaLabel,y=l.data,b=l.startIndex,v=l.endIndex,w=Math.max(n,this.props.x),S=hx(hx({},Tr(this.props,!1)),{},{x:w,y:u,width:f,height:h}),A=g||"Min value: ".concat((a=y[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return ge.createElement(Ni,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),s.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,S))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,f=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return ge.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:h,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,f=this.state,h=f.startX,p=f.endX,g=5,y={pointerEvents:"none",fill:u};return ge.createElement(Ni,{className:"recharts-brush-texts"},ge.createElement(L0,nv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-g,y:o+s/2},y),this.getTextOfTick(i)),ge.createElement(L0,nv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+l+g,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,f=n.height,h=n.alwaysShowText,p=this.state,g=p.startX,y=p.endX,b=p.isTextActive,v=p.isSlideMoving,w=p.isTravellerMoving,S=p.isTravellerFocused;if(!i||!i.length||!dt(s)||!dt(l)||!dt(u)||!dt(f)||u<=0||f<=0)return null;var A=Pr("recharts-brush",a),k=ge.Children.count(o)===1,j=ZQ("userSelect","none");return ge.createElement(Ni,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(g,y),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(y,"endX"),(b||v||w||S||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return ge.createElement(ge.Fragment,null,ge.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),ge.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ge.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ge.isValidElement(n)?a=ge.cloneElement(n,i):dr(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,f=n.startIndex,h=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return hx({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?oee({data:a,width:o,x:s,travellerWidth:l,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])})(se.PureComponent);so(ah,"displayName","Brush");so(ah,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var px,JC;function see(){if(JC)return px;JC=1;var t=tA();function e(r,n){var i;return t(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return px=e,px}var gx,ZC;function lee(){if(ZC)return gx;ZC=1;var t=EL(),e=uc(),r=see(),n=qa(),i=Kv();function a(o,s,l){var u=n(o)?t:r;return l&&i(o,s,l)&&(s=void 0),u(o,e(s,3))}return gx=a,gx}var uee=lee();const cee=Br(uee);var nl=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},mx,QC;function fee(){if(QC)return mx;QC=1;var t=WL();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return mx=e,mx}var vx,eN;function dee(){if(eN)return vx;eN=1;var t=fee(),e=qL(),r=uc();function n(i,a){var o={};return a=r(a,3),e(i,function(s,l,u){t(o,l,a(s,l,u))}),o}return vx=n,vx}var hee=dee();const pee=Br(hee);var yx,tN;function gee(){if(tN)return yx;tN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return yx=t,yx}var bx,rN;function mee(){if(rN)return bx;rN=1;var t=tA();function e(r,n){var i=!0;return t(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return bx=e,bx}var wx,nN;function vee(){if(nN)return wx;nN=1;var t=gee(),e=mee(),r=uc(),n=qa(),i=Kv();function a(o,s,l){var u=n(o)?t:e;return l&&i(o,s,l)&&(s=void 0),u(o,r(s,3))}return wx=a,wx}var yee=vee();const bee=Br(yee);var wee=["x","y"];function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P_.apply(this,arguments)}function iN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iN(Object(r),!0).forEach(function(n){xee(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xee(t,e,r){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ee(t){var e=See(t,"string");return pg(e)=="symbol"?e:e+""}function See(t,e){if(pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aee(t,e){if(t==null)return{};var r=Pee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Eee(t,e){var r=t.x,n=t.y,i=Aee(t,wee),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),f=parseInt(u,10),h="".concat(e.width||i.width),p=parseInt(h,10);return fp(fp(fp(fp(fp({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function aN(t){return ge.createElement(DQ,P_({shapeType:"rectangle",propTransformer:Eee,activeClassName:"recharts-active-bar"},t))}var kee=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=dt(n)||RU(n);return a?e(n,i):(a||_f(),r)}},Oee=["value","background"],yR;function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function jee(t,e){if(t==null)return{};var r=Cee(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},av.apply(this,arguments)}function oN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ri(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(r),!0).forEach(function(n){Xu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wR(n.key),n)}}function Tee(t,e,r){return e&&sN(t.prototype,e),r&&sN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lee(t,e,r){return e=ov(e),Iee(t,bR()?Reflect.construct(e,r||[],ov(t).constructor):e.apply(t,r))}function Iee(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ree(t)}function Ree(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bR=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ov(t)}function Mee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E_(t,e)}function Xu(t,e,r){return e=wR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wR(t){var e=Dee(t,"string");return oh(e)=="symbol"?e:e+""}function Dee(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cf=(function(t){function e(){var r;Nee(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Lee(this,e,[].concat(i)),Xu(r,"state",{isAnimationFinished:!1}),Xu(r,"id",Uv("recharts-bar-")),Xu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Xu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Mee(e,t),Tee(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,f=Tr(this.props,!1);return n&&n.map(function(h,p){var g=p===l,y=g?u:o,b=ri(ri(ri({},f),h),{},{isActive:g,option:y,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ge.createElement(Ni,av({className:"recharts-bar-rectangle"},_0(i.props,h,p),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(p)}),ge.createElement(aN,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state.prevData;return ge.createElement(tc,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var y=g.t,b=a.map(function(v,w){var S=p&&p[w];if(S){var A=bd(S.x,v.x),k=bd(S.y,v.y),j=bd(S.width,v.width),O=bd(S.height,v.height);return ri(ri({},v),{},{x:A(y),y:k(y),width:j(y),height:O(y)})}if(o==="horizontal"){var M=bd(0,v.height),N=M(y);return ri(ri({},v),{},{y:v.y+v.height-N,height:N})}var C=bd(0,v.width),H=C(y);return ri(ri({},v),{},{width:H})});return ge.createElement(Ni,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!EA(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=Tr(this.props.background,!1);return a.map(function(u,f){u.value;var h=u.background,p=jee(u,Oee);if(!h)return null;var g=ri(ri(ri(ri(ri({},p),{},{fill:"#eee"},h),l),_0(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return ge.createElement(aN,av({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},g))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,h=As(f,ay);if(!h)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,g=function(v,w){var S=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:S,errorVal:al(v,w)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ge.createElement(Ni,y,h.map(function(b){return ge.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,f=n.top,h=n.width,p=n.height,g=n.isAnimationActive,y=n.background,b=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,w=Pr("recharts-bar",o),S=s&&s.allowDataOverflow,A=l&&l.allowDataOverflow,k=S||A,j=Er(b)?this.id:b;return ge.createElement(Ni,{className:w},S||A?ge.createElement("defs",null,ge.createElement("clipPath",{id:"clipPath-".concat(j)},ge.createElement("rect",{x:S?u:u-h/2,y:A?f:f-p/2,width:S?h:h*2,height:A?p:p*2}))):null,ge.createElement(Ni,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(j,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,j),(!g||v)&&hf.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(se.PureComponent);yR=Cf;Xu(Cf,"displayName","Bar");Xu(Cf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Cg.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xu(Cf,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,h=t.displayedData,p=t.offset,g=eX(n,r);if(!g)return null;var y=e.layout,b=r.type.defaultProps,v=b!==void 0?ri(ri({},b),r.props):r.props,w=v.dataKey,S=v.children,A=v.minPointSize,k=y==="horizontal"?o:a,j=u?k.scale.domain():null,O=lX({numericAxis:k}),M=As(S,JL),N=h.map(function(C,H){var T,L,$,F,U,z;u?T=tX(u[f+H],j):(T=al(C,w),Array.isArray(T)||(T=[O,T]));var q=kee(A,yR.defaultProps.minPointSize)(T[1],H);if(y==="horizontal"){var G,K=[o.scale(T[0]),o.scale(T[1])],te=K[0],X=K[1];L=zj({axis:a,ticks:s,bandSize:i,offset:g.offset,entry:C,index:H}),$=(G=X??te)!==null&&G!==void 0?G:void 0,F=g.size;var D=te-X;if(U=Number.isNaN(D)?0:D,z={x:L,y:o.y,width:F,height:o.height},Math.abs(q)>0&&Math.abs(U)<Math.abs(q)){var Y=Ss(U||q)*(Math.abs(q)-Math.abs(U));$-=Y,U+=Y}}else{var J=[a.scale(T[0]),a.scale(T[1])],ee=J[0],ue=J[1];if(L=ee,$=zj({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:C,index:H}),F=ue-ee,U=g.size,z={x:a.x,y:$,width:a.width,height:U},Math.abs(q)>0&&Math.abs(F)<Math.abs(q)){var me=Ss(F||q)*(Math.abs(q)-Math.abs(F));F+=me}}return ri(ri(ri({},C),{},{x:L,y:$,width:F,height:U,value:u?T:T[1],payload:C,background:z},M&&M[H]&&M[H].props),{},{tooltipPayload:[rR(r,C)],tooltipPosition:{x:L+F/2,y:$+U/2}})});return ri({data:N,layout:y},p)});function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function Fee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xR(n.key),n)}}function Bee(t,e,r){return e&&lN(t.prototype,e),r&&lN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ws(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uN(Object(r),!0).forEach(function(n){ly(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ly(t,e,r){return e=xR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xR(t){var e=$ee(t,"string");return gg(e)=="symbol"?e:e+""}function $ee(t,e){if(gg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uee=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!lo(u,Cf);return f.reduce(function(g,y){var b=r[y],v=b.orientation,w=b.domain,S=b.padding,A=S===void 0?{}:S,k=b.mirror,j=b.reversed,O="".concat(v).concat(k?"Mirror":""),M,N,C,H,T;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var L=w[1]-w[0],$=1/0,F=b.categoricalDomain.sort(FU);if(F.forEach(function(J,ee){ee>0&&($=Math.min((J||0)-(F[ee-1]||0),$))}),Number.isFinite($)){var U=$/L,z=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(M=U*z/2),b.padding==="no-gap"){var q=wf(e.barCategoryGap,U*z),G=U*z/2;M=G-q-(G-q)/z*q}}}i==="xAxis"?N=[n.left+(A.left||0)+(M||0),n.left+n.width-(A.right||0)-(M||0)]:i==="yAxis"?N=l==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(M||0),n.top+n.height-(A.bottom||0)-(M||0)]:N=b.range,j&&(N=[N[1],N[0]]);var K=ZY(b,a,p),te=K.scale,X=K.realScaleType;te.domain(w).range(N),QY(te);var D=sX(te,ws(ws({},b),{},{realScaleType:X}));i==="xAxis"?(T=v==="top"&&!k||v==="bottom"&&k,C=n.left,H=h[O]-T*b.height):i==="yAxis"&&(T=v==="left"&&!k||v==="right"&&k,C=h[O]-T*b.width,H=n.top);var Y=ws(ws(ws({},b),D),{},{realScaleType:X,x:C,y:H,scale:te,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return Y.bandSize=G0(Y,D),!b.hide&&i==="xAxis"?h[O]+=(T?-1:1)*Y.height:b.hide||(h[O]+=(T?-1:1)*Y.width),ws(ws({},g),{},ly({},y,Y))},{})},_R=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},qee=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return _R({x:r,y:n},{x:i,y:a})},SR=(function(){function t(e){Fee(this,t),this.scale=e}return Bee(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();ly(SR,"EPS",1e-4);var NA=function(e){var r=Object.keys(e).reduce(function(n,i){return ws(ws({},n),{},ly({},i,SR.create(e[i])))},{});return ws(ws({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return pee(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return bee(i,function(a,o){return r[o].isInRange(a)})}})};function zee(t){return(t%180+180)%180}var Wee=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=zee(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},xx,cN;function Hee(){if(cN)return xx;cN=1;var t=uc(),e=jg(),r=Vv();function n(i){return function(a,o,s){var l=Object(a);if(!e(a)){var u=t(o,3);a=r(a),o=function(h){return u(l[h],h,l)}}var f=i(a,o,s);return f>-1?l[u?a[f]:f]:void 0}}return xx=n,xx}var _x,fN;function Vee(){if(fN)return _x;fN=1;var t=pR();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return _x=e,_x}var Sx,dN;function Gee(){if(dN)return Sx;dN=1;var t=DL(),e=uc(),r=Vee(),n=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var u=s==null?0:r(s);return u<0&&(u=n(l+u,0)),t(a,e(o,3),u)}return Sx=i,Sx}var Ax,hN;function Kee(){if(hN)return Ax;hN=1;var t=Hee(),e=Gee(),r=t(e);return Ax=r,Ax}Kee();var Yee=Q8();const Xee=Br(Yee);var Jee=Xee(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),AR=se.createContext(void 0),PR=se.createContext(void 0),ER=se.createContext(void 0),Zee=se.createContext({}),kR=se.createContext(void 0),OR=se.createContext(0),jR=se.createContext(0),pN=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,f=Jee(a);return ge.createElement(AR.Provider,{value:n},ge.createElement(PR.Provider,{value:i},ge.createElement(Zee.Provider,{value:a},ge.createElement(ER.Provider,{value:f},ge.createElement(kR.Provider,{value:o},ge.createElement(OR.Provider,{value:u},ge.createElement(jR.Provider,{value:l},s)))))))},Qee=function(){return se.useContext(kR)},CR=function(e){var r=se.useContext(AR);r==null&&_f();var n=r[e];return n==null&&_f(),n},NR=function(e){var r=se.useContext(PR);r==null&&_f();var n=r[e];return n==null&&_f(),n},ete=function(){var e=se.useContext(ER);return e},TR=function(){return se.useContext(jR)},LR=function(){return se.useContext(OR)};function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function tte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RR(n.key),n)}}function nte(t,e,r){return e&&rte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ite(t,e,r){return e=sv(e),ate(t,IR()?Reflect.construct(e,r||[],sv(t).constructor):e.apply(t,r))}function ate(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ote(t)}function ote(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IR=function(){return!!t})()}function sv(t){return sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sv(t)}function ste(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k_(t,e)}function k_(t,e){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},k_(t,e)}function gN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(r),!0).forEach(function(n){TA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TA(t,e,r){return e=RR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RR(t){var e=lte(t,"string");return sh(e)=="symbol"?e:e+""}function lte(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ute(t,e){return hte(t)||dte(t,e)||fte(t,e)||cte()}function cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fte(t,e){if(t){if(typeof t=="string")return vN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vN(t,e)}}function vN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hte(t){if(Array.isArray(t))return t}function O_(){return O_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O_.apply(this,arguments)}var pte=function(e,r){var n;return ge.isValidElement(e)?n=ge.cloneElement(e,r):dr(e)?n=e(r):n=ge.createElement("line",O_({},r,{className:"recharts-reference-line-line"})),n},gte=function(e,r,n,i,a,o,s,l,u){var f=a.x,h=a.y,p=a.width,g=a.height;if(n){var y=u.y,b=e.y.apply(y,{position:o});if(nl(u,"discard")&&!e.y.isInRange(b))return null;var v=[{x:f+p,y:b},{x:f,y:b}];return l==="left"?v.reverse():v}if(r){var w=u.x,S=e.x.apply(w,{position:o});if(nl(u,"discard")&&!e.x.isInRange(S))return null;var A=[{x:S,y:h+g},{x:S,y:h}];return s==="top"?A.reverse():A}if(i){var k=u.segment,j=k.map(function(O){return e.apply(O,{position:o})});return nl(u,"discard")&&cee(j,function(O){return!e.isInRange(O)})?null:j}return null};function mte(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Qee(),f=CR(i),h=NR(a),p=ete();if(!u||!p)return null;cf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=NA({x:f.scale,y:h.scale}),y=mi(e),b=mi(r),v=n&&n.length===2,w=gte(g,y,b,v,p,t.position,f.orientation,h.orientation,t);if(!w)return null;var S=ute(w,2),A=S[0],k=A.x,j=A.y,O=S[1],M=O.x,N=O.y,C=nl(t,"hidden")?"url(#".concat(u,")"):void 0,H=mN(mN({clipPath:C},Tr(t,!0)),{},{x1:k,y1:j,x2:M,y2:N});return ge.createElement(Ni,{className:Pr("recharts-reference-line",s)},pte(o,H),aa.renderCallByParent(t,qee({x1:k,y1:j,x2:M,y2:N})))}var LA=(function(t){function e(){return tte(this,e),ite(this,e,arguments)}return ste(e,t),nte(e,[{key:"render",value:function(){return ge.createElement(mte,this.props)}}])})(ge.Component);TA(LA,"displayName","ReferenceLine");TA(LA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j_.apply(this,arguments)}function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function yN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(r),!0).forEach(function(n){uy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DR(n.key),n)}}function bte(t,e,r){return e&&yte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wte(t,e,r){return e=lv(e),xte(t,MR()?Reflect.construct(e,r||[],lv(t).constructor):e.apply(t,r))}function xte(t,e){if(e&&(lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _te(t)}function _te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MR=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lv(t)}function Ste(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C_(t,e)}function uy(t,e,r){return e=DR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DR(t){var e=Ate(t,"string");return lh(e)=="symbol"?e:e+""}function Ate(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pte=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=NA({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return nl(e,"discard")&&!o.isInRange(s)?null:s},cy=(function(t){function e(){return vte(this,e),wte(this,e,arguments)}return Ste(e,t),bte(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=mi(i),f=mi(a);if(cf(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=Pte(this.props);if(!h)return null;var p=h.x,g=h.y,y=this.props,b=y.shape,v=y.className,w=nl(this.props,"hidden")?"url(#".concat(l,")"):void 0,S=bN(bN({clipPath:w},Tr(this.props,!0)),{},{cx:p,cy:g});return ge.createElement(Ni,{className:Pr("recharts-reference-dot",v)},e.renderDot(b,S),aa.renderCallByParent(this.props,{x:p-o,y:g-o,width:2*o,height:2*o}))}}])})(ge.Component);uy(cy,"displayName","ReferenceDot");uy(cy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});uy(cy,"renderDot",function(t,e){var r;return ge.isValidElement(t)?r=ge.cloneElement(t,e):dr(t)?r=t(e):r=ge.createElement(hR,j_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N_.apply(this,arguments)}function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function wN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wN(Object(r),!0).forEach(function(n){fy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ete(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BR(n.key),n)}}function Ote(t,e,r){return e&&kte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jte(t,e,r){return e=uv(e),Cte(t,FR()?Reflect.construct(e,r||[],uv(t).constructor):e.apply(t,r))}function Cte(t,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nte(t)}function Nte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FR=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uv(t)}function Tte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T_(t,e)}function T_(t,e){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T_(t,e)}function fy(t,e,r){return e=BR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BR(t){var e=Lte(t,"string");return uh(e)=="symbol"?e:e+""}function Lte(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ite=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,h=a.yAxis;if(!f||!h)return null;var p=NA({x:f.scale,y:h.scale}),g={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return nl(a,"discard")&&(!p.isInRange(g)||!p.isInRange(y))?null:_R(g,y)},dy=(function(t){function e(){return Ete(this,e),jte(this,e,arguments)}return Tte(e,t),Ote(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,f=n.clipPathId;cf(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=mi(i),p=mi(a),g=mi(o),y=mi(s),b=this.props.shape;if(!h&&!p&&!g&&!y&&!b)return null;var v=Ite(h,p,g,y,this.props);if(!v&&!b)return null;var w=nl(this.props,"hidden")?"url(#".concat(f,")"):void 0;return ge.createElement(Ni,{className:Pr("recharts-reference-area",l)},e.renderRect(b,xN(xN({clipPath:w},Tr(this.props,!0)),v)),aa.renderCallByParent(this.props,v))}}])})(ge.Component);fy(dy,"displayName","ReferenceArea");fy(dy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fy(dy,"renderRect",function(t,e){var r;return ge.isValidElement(t)?r=ge.cloneElement(t,e):dr(t)?r=t(e):r=ge.createElement(CA,N_({},e,{className:"recharts-reference-area-rect"})),r});function $R(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Rte(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Wee(n,r)}function Mte(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function cv(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Dte(t,e){return $R(t,e+1)}function Fte(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,f=o,h=function(){var y=n?.[l];if(y===void 0)return{v:$R(n,u)};var b=l,v,w=function(){return v===void 0&&(v=r(y,b)),v},S=y.coordinate,A=l===0||cv(t,S,w,f,s);A||(l=0,f=o,u+=1),A&&(f=S+t*(w()/2+i),l+=u)},p;u<=a.length;)if(p=h(),p)return p.v;return[]}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function _N(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(r),!0).forEach(function(n){Bte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bte(t,e,r){return e=$te(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $te(t){var e=Ute(t,"string");return mg(e)=="symbol"?e:e+""}function Ute(t,e){if(mg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qte(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(p){var g=a[p],y,b=function(){return y===void 0&&(y=r(g,p)),y};if(p===o-1){var v=t*(g.coordinate+t*b()/2-l);a[p]=g=ia(ia({},g),{},{tickCoord:v>0?g.coordinate-v*t:g.coordinate})}else a[p]=g=ia(ia({},g),{},{tickCoord:g.coordinate});var w=cv(t,g.tickCoord,b,s,l);w&&(l=g.tickCoord-t*(b()/2+i),a[p]=ia(ia({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function zte(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var f=n[s-1],h=r(f,s-1),p=t*(f.coordinate+t*h/2-u);o[s-1]=f=ia(ia({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var g=cv(t,f.tickCoord,function(){return h},l,u);g&&(u=f.tickCoord-t*(h/2+i),o[s-1]=ia(ia({},f),{},{isShow:!0}))}for(var y=a?s-1:s,b=function(S){var A=o[S],k,j=function(){return k===void 0&&(k=r(A,S)),k};if(S===0){var O=t*(A.coordinate-t*j()/2-l);o[S]=A=ia(ia({},A),{},{tickCoord:O<0?A.coordinate-O*t:A.coordinate})}else o[S]=A=ia(ia({},A),{},{tickCoord:A.coordinate});var M=cv(t,A.tickCoord,j,l,u);M&&(l=A.tickCoord+t*(j()/2+i),o[S]=ia(ia({},A),{},{isShow:!0}))},v=0;v<y;v++)b(v);return o}function Wte(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(dt(l)||Cg.isSsr)return Dte(i,typeof l=="number"&&dt(l)?l:0);var p=[],g=s==="top"||s==="bottom"?"width":"height",y=f&&g==="width"?Sp(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(A,k){var j=dr(u)?u(A.value,k):A.value;return g==="width"?Rte(Sp(j,{fontSize:e,letterSpacing:r}),y,h):Sp(j,{fontSize:e,letterSpacing:r})[g]},v=i.length>=2?Ss(i[1].coordinate-i[0].coordinate):1,w=Mte(a,v,g);return l==="equidistantPreserveStart"?Fte(v,w,b,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=zte(v,w,b,i,o,l==="preserveStartEnd"):p=qte(v,w,b,i,o),p.filter(function(S){return S.isShow}))}var Hte=["viewBox"],Vte=["viewBox"],Gte=["ticks"];function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}function SN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(r),!0).forEach(function(n){IA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Px(t,e){if(t==null)return{};var r=Kte(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Yte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AN(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qR(n.key),n)}}function Xte(t,e,r){return e&&AN(t.prototype,e),r&&AN(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jte(t,e,r){return e=fv(e),Zte(t,UR()?Reflect.construct(e,r||[],fv(t).constructor):e.apply(t,r))}function Zte(t,e){if(e&&(ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qte(t)}function Qte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UR=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fv(t)}function ere(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L_(t,e)}function L_(t,e){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},L_(t,e)}function IA(t,e,r){return e=qR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qR(t){var e=tre(t,"string");return ch(e)=="symbol"?e:e+""}function tre(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hy=(function(t){function e(r){var n;return Yte(this,e),n=Jte(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return ere(e,t),Xte(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Px(n,Hte),s=this.props,l=s.viewBox,u=Px(s,Vte);return!Md(a,l)||!Md(o,u)||!Md(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,h=i.mirror,p=i.tickMargin,g,y,b,v,w,S,A=h?-1:1,k=n.tickSize||f,j=dt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":g=y=n.coordinate,v=o+ +!h*l,b=v-A*k,S=b-A*p,w=j;break;case"left":b=v=n.coordinate,y=a+ +!h*s,g=y-A*k,w=g-A*p,S=j;break;case"right":b=v=n.coordinate,y=a+ +h*s,g=y+A*k,w=g+A*p,S=j;break;default:g=y=n.coordinate,v=o+ +h*l,b=v+A*k,S=b+A*p,w=j;break}return{line:{x1:g,y1:b,x2:y,y2:v},tick:{x:w,y:S}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,f=n.axisLine,h=fi(fi(fi({},Tr(this.props,!1)),Tr(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);h=fi(fi({},h),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);h=fi(fi({},h),{},{x1:i+g*o,y1:a,x2:i+g*o,y2:a+s})}return ge.createElement("line",Nd({},h,{className:Pr("recharts-cartesian-axis-line",Wo(f,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,h=s.tickFormatter,p=s.unit,g=Wte(fi(fi({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=Tr(this.props,!1),w=Tr(f,!1),S=fi(fi({},v),{},{fill:"none"},Tr(l,!1)),A=g.map(function(k,j){var O=o.getTickLineCoord(k),M=O.line,N=O.tick,C=fi(fi(fi(fi({textAnchor:y,verticalAnchor:b},v),{},{stroke:"none",fill:u},w),N),{},{index:j,payload:k,visibleTicksCount:g.length,tickFormatter:h});return ge.createElement(Ni,Nd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},_0(o.props,k,j)),l&&ge.createElement("line",Nd({},S,M,{className:Pr("recharts-cartesian-axis-tick-line",Wo(l,"className"))})),f&&e.renderTickItem(f,C,"".concat(dr(h)?h(k.value,j):k.value).concat(p||"")))});return ge.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var h=this.props,p=h.ticks,g=Px(h,Gte),y=p;return dr(l)&&(y=p&&p.length>0?l(this.props):l(g)),o<=0||s<=0||!y||!y.length?null:ge.createElement(Ni,{className:Pr("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),aa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Pr(i.className,"recharts-cartesian-axis-tick-value");return ge.isValidElement(n)?o=ge.cloneElement(n,fi(fi({},i),{},{className:s})):dr(n)?o=n(fi(fi({},i),{},{className:s})):o=ge.createElement(L0,Nd({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(se.Component);IA(hy,"displayName","CartesianAxis");IA(hy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HR(n.key),n)}}function ire(t,e,r){return e&&nre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function are(t,e,r){return e=dv(e),ore(t,zR()?Reflect.construct(e,r||[],dv(t).constructor):e.apply(t,r))}function ore(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sre(t)}function sre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zR=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dv(t)}function lre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&I_(t,e)}function I_(t,e){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},I_(t,e)}function WR(t,e,r){return e=HR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HR(t){var e=ure(t,"string");return fh(e)=="symbol"?e:e+""}function ure(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R_.apply(this,arguments)}function cre(t){var e=t.xAxisId,r=TR(),n=LR(),i=CR(e);return i==null?null:se.createElement(hy,R_({},i,{className:Pr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return sf(o,!0)}}))}var py=(function(t){function e(){return rre(this,e),are(this,e,arguments)}return lre(e,t),ire(e,[{key:"render",value:function(){return se.createElement(cre,this.props)}}])})(se.Component);WR(py,"displayName","XAxis");WR(py,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KR(n.key),n)}}function hre(t,e,r){return e&&dre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pre(t,e,r){return e=hv(e),gre(t,VR()?Reflect.construct(e,r||[],hv(t).constructor):e.apply(t,r))}function gre(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mre(t)}function mre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VR=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hv(t)}function vre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},M_(t,e)}function GR(t,e,r){return e=KR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KR(t){var e=yre(t,"string");return dh(e)=="symbol"?e:e+""}function yre(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D_.apply(this,arguments)}var bre=function(e){var r=e.yAxisId,n=TR(),i=LR(),a=NR(r);return a==null?null:se.createElement(hy,D_({},a,{className:Pr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return sf(s,!0)}}))},gy=(function(t){function e(){return fre(this,e),pre(this,e,arguments)}return vre(e,t),hre(e,[{key:"render",value:function(){return se.createElement(bre,this.props)}}])})(se.Component);GR(gy,"displayName","YAxis");GR(gy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function PN(t){return Sre(t)||_re(t)||xre(t)||wre()}function wre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xre(t,e){if(t){if(typeof t=="string")return F_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F_(t,e)}}function _re(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sre(t){if(Array.isArray(t))return F_(t)}function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var B_=function(e,r,n,i,a){var o=As(e,LA),s=As(e,cy),l=[].concat(PN(o),PN(s)),u=As(e,dy),f="".concat(i,"Id"),h=i[0],p=r;if(l.length&&(p=l.reduce(function(b,v){if(v.props[f]===n&&nl(v.props,"extendDomain")&&dt(v.props[h])){var w=v.props[h];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},p)),u.length){var g="".concat(h,"1"),y="".concat(h,"2");p=u.reduce(function(b,v){if(v.props[f]===n&&nl(v.props,"extendDomain")&&dt(v.props[g])&&dt(v.props[y])){var w=v.props[g],S=v.props[y];return[Math.min(b[0],w,S),Math.max(b[1],w,S)]}return b},p)}return a&&a.length&&(p=a.reduce(function(b,v){return dt(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},p)),p},Ex={exports:{}},EN;function Are(){return EN||(EN=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,h||l,p),y=r?r+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],g]:l._events[y].push(g):(l._events[y]=g,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=r?r+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,y=new Array(g);p<g;p++)y[p]=h[p].fn;return y},s.prototype.listenerCount=function(u){var f=r?r+u:u,h=this._events[f];return h?h.fn?1:h.length:0},s.prototype.emit=function(u,f,h,p,g,y){var b=r?r+u:u;if(!this._events[b])return!1;var v=this._events[b],w=arguments.length,S,A;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,h),!0;case 4:return v.fn.call(v.context,f,h,p),!0;case 5:return v.fn.call(v.context,f,h,p,g),!0;case 6:return v.fn.call(v.context,f,h,p,g,y),!0}for(A=1,S=new Array(w-1);A<w;A++)S[A-1]=arguments[A];v.fn.apply(v.context,S)}else{var k=v.length,j;for(A=0;A<k;A++)switch(v[A].once&&this.removeListener(u,v[A].fn,void 0,!0),w){case 1:v[A].fn.call(v[A].context);break;case 2:v[A].fn.call(v[A].context,f);break;case 3:v[A].fn.call(v[A].context,f,h);break;case 4:v[A].fn.call(v[A].context,f,h,p);break;default:if(!S)for(j=1,S=new Array(w-1);j<w;j++)S[j-1]=arguments[j];v[A].fn.apply(v[A].context,S)}}return!0},s.prototype.on=function(u,f,h){return a(this,u,f,h,!1)},s.prototype.once=function(u,f,h){return a(this,u,f,h,!0)},s.prototype.removeListener=function(u,f,h,p){var g=r?r+u:u;if(!this._events[g])return this;if(!f)return o(this,g),this;var y=this._events[g];if(y.fn)y.fn===f&&(!p||y.once)&&(!h||y.context===h)&&o(this,g);else{for(var b=0,v=[],w=y.length;b<w;b++)(y[b].fn!==f||p&&!y[b].once||h&&y[b].context!==h)&&v.push(y[b]);v.length?this._events[g]=v.length===1?v[0]:v:o(this,g)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(Ex)),Ex.exports}var Pre=Are();const Ere=Br(Pre);var kx=new Ere,Ox="recharts.syncMouseEvents";function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ore(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YR(n.key),n)}}function jre(t,e,r){return e&&Ore(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jx(t,e,r){return e=YR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YR(t){var e=Cre(t,"string");return vg(e)=="symbol"?e:e+""}function Cre(t,e){if(vg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nre=(function(){function t(){kre(this,t),jx(this,"activeIndex",0),jx(this,"coordinateList",[]),jx(this,"layout","horizontal")}return jre(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,f=r.offset,h=f===void 0?null:f,p=r.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=a+l+u,p=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])})();function Tre(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&dt(n)&&dt(i))return!0}return!1}function Lre(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function XR(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Bi(e,r,n,i),s=Bi(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function Ire(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,h=e.angle,p=Bi(s,l,u,h),g=Bi(s,l,f,h);n=p.x,i=p.y,a=g.x,o=g.y}else return XR(e);return[{x:n,y:i},{x:a,y:o}]}function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function kN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kN(Object(r),!0).forEach(function(n){Rre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rre(t,e,r){return e=Mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mre(t){var e=Dre(t,"string");return yg(e)=="symbol"?e:e+""}function Dre(t,e){if(yg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fre(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,h=t.layout,p=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var y,b=oC;if(p==="ScatterChart")y=o,b=cQ;else if(p==="BarChart")y=Lre(h,o,l,f),b=CA;else if(h==="radial"){var v=XR(o),w=v.cx,S=v.cy,A=v.radius,k=v.startAngle,j=v.endAngle;y={cx:w,cy:S,startAngle:k,endAngle:j,innerRadius:A,outerRadius:A},b=aR}else y={points:Ire(h,o,l)},b=oC;var O=qm(qm(qm(qm({stroke:"#ccc",pointerEvents:"none"},l),y),Tr(g,!1)),{},{payload:s,payloadIndex:u,className:Pr("recharts-tooltip-cursor",g.className)});return se.isValidElement(g)?se.cloneElement(g,O):se.createElement(b,O)}var Bre=["item"],$re=["children","className","width","height","style","compact","title","desc"];function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Td.apply(this,arguments)}function ON(t,e){return zre(t)||qre(t,e)||ZR(t,e)||Ure()}function Ure(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function zre(t){if(Array.isArray(t))return t}function jN(t,e){if(t==null)return{};var r=Wre(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Hre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vre(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QR(n.key),n)}}function Gre(t,e,r){return e&&Vre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kre(t,e,r){return e=pv(e),Yre(t,JR()?Reflect.construct(e,r||[],pv(t).constructor):e.apply(t,r))}function Yre(t,e){if(e&&(hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xre(t)}function Xre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pv(t)}function Jre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$_(t,e)}function ph(t){return ene(t)||Qre(t)||ZR(t)||Zre()}function Zre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZR(t,e){if(t){if(typeof t=="string")return U_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U_(t,e)}}function Qre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ene(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(r),!0).forEach(function(n){qt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qt(t,e,r){return e=QR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QR(t){var e=tne(t,"string");return hh(e)=="symbol"?e:e+""}function tne(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rne={xAxis:["bottom","top"],yAxis:["left","right"]},nne={width:"100%",height:"100%"},eM={x:0,y:0};function zm(t){return t}var ine=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},ane=function(e,r,n,i){var a=r.find(function(f){return f&&f.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Ue(Ue(Ue({},i),Bi(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Ue(Ue(Ue({},i),Bi(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return eM},my=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(ph(s),ph(u)):s},[]);return o.length>0?o:e&&e.length&&dt(i)&&dt(a)?e.slice(i,a+1):[]};function tM(t){return t==="number"?[0,"auto"]:void 0}var q_=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=my(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var g=h===void 0?s:h;p=O5(g,o.dataKey,i)}else p=h&&h[n]||s[n];return p?[].concat(ph(l),[rR(u,p)]):l},[])},NN=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=ine(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=VY(o,s,u,l);if(f>=0&&u){var h=u[f]&&u[f].value,p=q_(e,r,f,h),g=ane(n,s,f,a);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:g}}return null},one=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,h=e.children,p=e.stackOffset,g=eR(f,a);return n.reduce(function(y,b){var v,w=b.type.defaultProps!==void 0?Ue(Ue({},b.type.defaultProps),b.props):b.props,S=w.type,A=w.dataKey,k=w.allowDataOverflow,j=w.allowDuplicatedCategory,O=w.scale,M=w.ticks,N=w.includeHidden,C=w[o];if(y[C])return y;var H=my(e.data,{graphicalItems:i.filter(function(D){var Y,J=o in D.props?D.props[o]:(Y=D.type.defaultProps)===null||Y===void 0?void 0:Y[o];return J===C}),dataStartIndex:l,dataEndIndex:u}),T=H.length,L,$,F;Tre(w.domain,k,S)&&(L=l_(w.domain,null,k),g&&(S==="number"||O!=="auto")&&(F=Pp(H,A,"category")));var U=tM(S);if(!L||L.length===0){var z,q=(z=w.domain)!==null&&z!==void 0?z:U;if(A){if(L=Pp(H,A,S),S==="category"&&g){var G=DU(L);j&&G?($=L,L=rv(0,T)):j||(L=Vj(q,L,b).reduce(function(D,Y){return D.indexOf(Y)>=0?D:[].concat(ph(D),[Y])},[]))}else if(S==="category")j?L=L.filter(function(D){return D!==""&&!Er(D)}):L=Vj(q,L,b).reduce(function(D,Y){return D.indexOf(Y)>=0||Y===""||Er(Y)?D:[].concat(ph(D),[Y])},[]);else if(S==="number"){var K=JY(H,i.filter(function(D){var Y,J,ee=o in D.props?D.props[o]:(Y=D.type.defaultProps)===null||Y===void 0?void 0:Y[o],ue="hide"in D.props?D.props.hide:(J=D.type.defaultProps)===null||J===void 0?void 0:J.hide;return ee===C&&(N||!ue)}),A,a,f);K&&(L=K)}g&&(S==="number"||O!=="auto")&&(F=Pp(H,A,"category"))}else g?L=rv(0,T):s&&s[C]&&s[C].hasStack&&S==="number"?L=p==="expand"?[0,1]:tR(s[C].stackGroups,l,u):L=QI(H,i.filter(function(D){var Y=o in D.props?D.props[o]:D.type.defaultProps[o],J="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return Y===C&&(N||!J)}),S,f,!0);if(S==="number")L=B_(h,L,C,a,M),q&&(L=l_(q,L,k));else if(S==="category"&&q){var te=q,X=L.every(function(D){return te.indexOf(D)>=0});X&&(L=te)}}return Ue(Ue({},y),{},qt({},C,Ue(Ue({},w),{},{axisType:a,domain:L,categoricalDomain:F,duplicateDomain:$,originalDomain:(v=w.domain)!==null&&v!==void 0?v:U,isCategorical:g,layout:f})))},{})},sne=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,h=e.children,p=my(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),g=p.length,y=eR(f,a),b=-1;return n.reduce(function(v,w){var S=w.type.defaultProps!==void 0?Ue(Ue({},w.type.defaultProps),w.props):w.props,A=S[o],k=tM("number");if(!v[A]){b++;var j;return y?j=rv(0,g):s&&s[A]&&s[A].hasStack?(j=tR(s[A].stackGroups,l,u),j=B_(h,j,A,a)):(j=l_(k,QI(p,n.filter(function(O){var M,N,C=o in O.props?O.props[o]:(M=O.type.defaultProps)===null||M===void 0?void 0:M[o],H="hide"in O.props?O.props.hide:(N=O.type.defaultProps)===null||N===void 0?void 0:N.hide;return C===A&&!H}),"number",f),i.defaultProps.allowDataOverflow),j=B_(h,j,A,a)),Ue(Ue({},v),{},qt({},A,Ue(Ue({axisType:a},i.defaultProps),{},{hide:!0,orientation:Wo(rne,"".concat(a,".").concat(b%2),null),domain:j,originalDomain:k,isCategorical:y,layout:f})))}return v},{})},lne=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.children,h="".concat(i,"Id"),p=As(f,a),g={};return p&&p.length?g=one(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(g=sne(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},une=function(e){var r=kd(e),n=sf(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:rA(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:G0(r,n)}},TN=function(e){var r=e.children,n=e.defaultShowTooltip,i=lo(r,ah),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},cne=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ql(r&&r.type);return n&&n.indexOf("Bar")>=0})},LN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fne=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,f=n.height,h=n.children,p=n.margin||{},g=lo(h,ah),y=lo(h,Dd),b=Object.keys(l).reduce(function(j,O){var M=l[O],N=M.orientation;return!M.mirror&&!M.hide?Ue(Ue({},j),{},qt({},N,j[N]+M.width)):j},{left:p.left||0,right:p.right||0}),v=Object.keys(o).reduce(function(j,O){var M=o[O],N=M.orientation;return!M.mirror&&!M.hide?Ue(Ue({},j),{},qt({},N,Wo(j,"".concat(N))+M.height)):j},{top:p.top||0,bottom:p.bottom||0}),w=Ue(Ue({},v),b),S=w.bottom;g&&(w.bottom+=g.props.height||ah.defaultProps.height),y&&r&&(w=YY(w,i,n,r));var A=u-w.left-w.right,k=f-w.top-w.bottom;return Ue(Ue({brushBottom:S},w),{},{width:Math.max(A,0),height:Math.max(k,0)})},dne=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},hne=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,h=e.defaultProps,p=function(w,S){var A=S.graphicalItems,k=S.stackGroups,j=S.offset,O=S.updateId,M=S.dataStartIndex,N=S.dataEndIndex,C=w.barSize,H=w.layout,T=w.barGap,L=w.barCategoryGap,$=w.maxBarSize,F=LN(H),U=F.numericAxisName,z=F.cateAxisName,q=cne(A),G=[];return A.forEach(function(K,te){var X=my(w.data,{graphicalItems:[K],dataStartIndex:M,dataEndIndex:N}),D=K.type.defaultProps!==void 0?Ue(Ue({},K.type.defaultProps),K.props):K.props,Y=D.dataKey,J=D.maxBarSize,ee=D["".concat(U,"Id")],ue=D["".concat(z,"Id")],me={},fe=l.reduce(function(Ve,ut){var rt=S["".concat(ut.axisType,"Map")],ft=D["".concat(ut.axisType,"Id")];rt&&rt[ft]||ut.axisType==="zAxis"||_f();var ct=rt[ft];return Ue(Ue({},Ve),{},qt(qt({},ut.axisType,ct),"".concat(ut.axisType,"Ticks"),sf(ct)))},me),le=fe[z],ve=fe["".concat(z,"Ticks")],Ae=k&&k[ee]&&k[ee].hasStack&&uX(K,k[ee].stackGroups),be=Ql(K.type).indexOf("Bar")>=0,De=G0(le,ve),Ee=[],ce=q&&GY({barSize:C,stackGroups:k,totalSize:dne(fe,z)});if(be){var at,Ze,Ye=Er(J)?$:J,Be=(at=(Ze=G0(le,ve,!0))!==null&&Ze!==void 0?Ze:Ye)!==null&&at!==void 0?at:0;Ee=KY({barGap:T,barCategoryGap:L,bandSize:Be!==De?Be:De,sizeList:ce[ue],maxBarSize:Ye}),Be!==De&&(Ee=Ee.map(function(Ve){return Ue(Ue({},Ve),{},{position:Ue(Ue({},Ve.position),{},{offset:Ve.position.offset-Be/2})})}))}var tt=K&&K.type&&K.type.getComposedData;tt&&G.push({props:Ue(Ue({},tt(Ue(Ue({},fe),{},{displayedData:X,props:w,dataKey:Y,item:K,bandSize:De,barPosition:Ee,offset:j,stackedData:Ae,layout:H,dataStartIndex:M,dataEndIndex:N}))),{},qt(qt(qt({key:K.key||"item-".concat(te)},U,fe[U]),z,fe[z]),"animationId",O)),childIndex:YU(K,w.children),item:K})}),G},g=function(w,S){var A=w.props,k=w.dataStartIndex,j=w.dataEndIndex,O=w.updateId;if(!sE({props:A}))return null;var M=A.children,N=A.layout,C=A.stackOffset,H=A.data,T=A.reverseStackOrder,L=LN(N),$=L.numericAxisName,F=L.cateAxisName,U=As(M,n),z=oX(H,U,"".concat($,"Id"),"".concat(F,"Id"),C,T),q=l.reduce(function(D,Y){var J="".concat(Y.axisType,"Map");return Ue(Ue({},D),{},qt({},J,lne(A,Ue(Ue({},Y),{},{graphicalItems:U,stackGroups:Y.axisType===$&&z,dataStartIndex:k,dataEndIndex:j}))))},{}),G=fne(Ue(Ue({},q),{},{props:A,graphicalItems:U}),S?.legendBBox);Object.keys(q).forEach(function(D){q[D]=f(A,q[D],G,D.replace("Map",""),r)});var K=q["".concat(F,"Map")],te=une(K),X=p(A,Ue(Ue({},q),{},{dataStartIndex:k,dataEndIndex:j,updateId:O,graphicalItems:U,stackGroups:z,offset:G}));return Ue(Ue({formattedGraphicalItems:X,graphicalItems:U,offset:G,stackGroups:z},te),q)},y=(function(v){function w(S){var A,k,j;return Hre(this,w),j=Kre(this,w,[S]),qt(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),qt(j,"accessibilityManager",new Nre),qt(j,"handleLegendBBoxUpdate",function(O){if(O){var M=j.state,N=M.dataStartIndex,C=M.dataEndIndex,H=M.updateId;j.setState(Ue({legendBBox:O},g({props:j.props,dataStartIndex:N,dataEndIndex:C,updateId:H},Ue(Ue({},j.state),{},{legendBBox:O}))))}}),qt(j,"handleReceiveSyncEvent",function(O,M,N){if(j.props.syncId===O){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(M)}}),qt(j,"handleBrushChange",function(O){var M=O.startIndex,N=O.endIndex;if(M!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return Ue({dataStartIndex:M,dataEndIndex:N},g({props:j.props,dataStartIndex:M,dataEndIndex:N,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:M,dataEndIndex:N})}}),qt(j,"handleMouseEnter",function(O){var M=j.getMouseInfo(O);if(M){var N=Ue(Ue({},M),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var C=j.props.onMouseEnter;dr(C)&&C(N,O)}}),qt(j,"triggeredAfterMouseMove",function(O){var M=j.getMouseInfo(O),N=M?Ue(Ue({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var C=j.props.onMouseMove;dr(C)&&C(N,O)}),qt(j,"handleItemMouseEnter",function(O){j.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),qt(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),qt(j,"handleMouseMove",function(O){O.persist(),j.throttleTriggeredAfterMouseMove(O)}),qt(j,"handleMouseLeave",function(O){j.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};j.setState(M),j.triggerSyncEvent(M);var N=j.props.onMouseLeave;dr(N)&&N(M,O)}),qt(j,"handleOuterEvent",function(O){var M=KU(O),N=Wo(j.props,"".concat(M));if(M&&dr(N)){var C,H;/.*touch.*/i.test(M)?H=j.getMouseInfo(O.changedTouches[0]):H=j.getMouseInfo(O),N((C=H)!==null&&C!==void 0?C:{},O)}}),qt(j,"handleClick",function(O){var M=j.getMouseInfo(O);if(M){var N=Ue(Ue({},M),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var C=j.props.onClick;dr(C)&&C(N,O)}}),qt(j,"handleMouseDown",function(O){var M=j.props.onMouseDown;if(dr(M)){var N=j.getMouseInfo(O);M(N,O)}}),qt(j,"handleMouseUp",function(O){var M=j.props.onMouseUp;if(dr(M)){var N=j.getMouseInfo(O);M(N,O)}}),qt(j,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),qt(j,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&j.handleMouseDown(O.changedTouches[0])}),qt(j,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&j.handleMouseUp(O.changedTouches[0])}),qt(j,"handleDoubleClick",function(O){var M=j.props.onDoubleClick;if(dr(M)){var N=j.getMouseInfo(O);M(N,O)}}),qt(j,"handleContextMenu",function(O){var M=j.props.onContextMenu;if(dr(M)){var N=j.getMouseInfo(O);M(N,O)}}),qt(j,"triggerSyncEvent",function(O){j.props.syncId!==void 0&&kx.emit(Ox,j.props.syncId,O,j.eventEmitterSymbol)}),qt(j,"applySyncEvent",function(O){var M=j.props,N=M.layout,C=M.syncMethod,H=j.state.updateId,T=O.dataStartIndex,L=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)j.setState(Ue({dataStartIndex:T,dataEndIndex:L},g({props:j.props,dataStartIndex:T,dataEndIndex:L,updateId:H},j.state)));else if(O.activeTooltipIndex!==void 0){var $=O.chartX,F=O.chartY,U=O.activeTooltipIndex,z=j.state,q=z.offset,G=z.tooltipTicks;if(!q)return;if(typeof C=="function")U=C(G,O);else if(C==="value"){U=-1;for(var K=0;K<G.length;K++)if(G[K].value===O.activeLabel){U=K;break}}var te=Ue(Ue({},q),{},{x:q.left,y:q.top}),X=Math.min($,te.x+te.width),D=Math.min(F,te.y+te.height),Y=G[U]&&G[U].value,J=q_(j.state,j.props.data,U),ee=G[U]?{x:N==="horizontal"?G[U].coordinate:X,y:N==="horizontal"?D:G[U].coordinate}:eM;j.setState(Ue(Ue({},O),{},{activeLabel:Y,activeCoordinate:ee,activePayload:J,activeTooltipIndex:U}))}else j.setState(O)}),qt(j,"renderCursor",function(O){var M,N=j.state,C=N.isTooltipActive,H=N.activeCoordinate,T=N.activePayload,L=N.offset,$=N.activeTooltipIndex,F=N.tooltipAxisBandSize,U=j.getTooltipEventType(),z=(M=O.props.active)!==null&&M!==void 0?M:C,q=j.props.layout,G=O.key||"_recharts-cursor";return ge.createElement(Fre,{key:G,activeCoordinate:H,activePayload:T,activeTooltipIndex:$,chartName:r,element:O,isActive:z,layout:q,offset:L,tooltipAxisBandSize:F,tooltipEventType:U})}),qt(j,"renderPolarAxis",function(O,M,N){var C=Wo(O,"type.axisType"),H=Wo(j.state,"".concat(C,"Map")),T=O.type.defaultProps,L=T!==void 0?Ue(Ue({},T),O.props):O.props,$=H&&H[L["".concat(C,"Id")]];return se.cloneElement(O,Ue(Ue({},$),{},{className:Pr(C,$.className),key:O.key||"".concat(M,"-").concat(N),ticks:sf($,!0)}))}),qt(j,"renderPolarGrid",function(O){var M=O.props,N=M.radialLines,C=M.polarAngles,H=M.polarRadius,T=j.state,L=T.radiusAxisMap,$=T.angleAxisMap,F=kd(L),U=kd($),z=U.cx,q=U.cy,G=U.innerRadius,K=U.outerRadius;return se.cloneElement(O,{polarAngles:Array.isArray(C)?C:sf(U,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(H)?H:sf(F,!0).map(function(te){return te.coordinate}),cx:z,cy:q,innerRadius:G,outerRadius:K,key:O.key||"polar-grid",radialLines:N})}),qt(j,"renderLegend",function(){var O=j.state.formattedGraphicalItems,M=j.props,N=M.children,C=M.width,H=M.height,T=j.props.margin||{},L=C-(T.left||0)-(T.right||0),$=JI({children:N,formattedGraphicalItems:O,legendWidth:L,legendContent:u});if(!$)return null;var F=$.item,U=jN($,Bre);return se.cloneElement(F,Ue(Ue({},U),{},{chartWidth:C,chartHeight:H,margin:T,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),qt(j,"renderTooltip",function(){var O,M=j.props,N=M.children,C=M.accessibilityLayer,H=lo(N,Xs);if(!H)return null;var T=j.state,L=T.isTooltipActive,$=T.activeCoordinate,F=T.activePayload,U=T.activeLabel,z=T.offset,q=(O=H.props.active)!==null&&O!==void 0?O:L;return se.cloneElement(H,{viewBox:Ue(Ue({},z),{},{x:z.left,y:z.top}),active:q,label:U,payload:q?F:[],coordinate:$,accessibilityLayer:C})}),qt(j,"renderBrush",function(O){var M=j.props,N=M.margin,C=M.data,H=j.state,T=H.offset,L=H.dataStartIndex,$=H.dataEndIndex,F=H.updateId;return se.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Fm(j.handleBrushChange,O.props.onChange),data:C,x:dt(O.props.x)?O.props.x:T.left,y:dt(O.props.y)?O.props.y:T.top+T.height+T.brushBottom-(N.bottom||0),width:dt(O.props.width)?O.props.width:T.width,startIndex:L,endIndex:$,updateId:"brush-".concat(F)})}),qt(j,"renderReferenceElement",function(O,M,N){if(!O)return null;var C=j,H=C.clipPathId,T=j.state,L=T.xAxisMap,$=T.yAxisMap,F=T.offset,U=O.type.defaultProps||{},z=O.props,q=z.xAxisId,G=q===void 0?U.xAxisId:q,K=z.yAxisId,te=K===void 0?U.yAxisId:K;return se.cloneElement(O,{key:O.key||"".concat(M,"-").concat(N),xAxis:L[G],yAxis:$[te],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:H})}),qt(j,"renderActivePoints",function(O){var M=O.item,N=O.activePoint,C=O.basePoint,H=O.childIndex,T=O.isRange,L=[],$=M.props.key,F=M.item.type.defaultProps!==void 0?Ue(Ue({},M.item.type.defaultProps),M.item.props):M.item.props,U=F.activeDot,z=F.dataKey,q=Ue(Ue({index:H,dataKey:z,cx:N.x,cy:N.y,r:4,fill:jA(M.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Tr(U,!1)),x0(U));return L.push(w.renderActiveDot(U,q,"".concat($,"-activePoint-").concat(H))),C?L.push(w.renderActiveDot(U,Ue(Ue({},q),{},{cx:C.x,cy:C.y}),"".concat($,"-basePoint-").concat(H))):T&&L.push(null),L}),qt(j,"renderGraphicChild",function(O,M,N){var C=j.filterFormatItem(O,M,N);if(!C)return null;var H=j.getTooltipEventType(),T=j.state,L=T.isTooltipActive,$=T.tooltipAxis,F=T.activeTooltipIndex,U=T.activeLabel,z=j.props.children,q=lo(z,Xs),G=C.props,K=G.points,te=G.isRange,X=G.baseLine,D=C.item.type.defaultProps!==void 0?Ue(Ue({},C.item.type.defaultProps),C.item.props):C.item.props,Y=D.activeDot,J=D.hide,ee=D.activeBar,ue=D.activeShape,me=!!(!J&&L&&q&&(Y||ee||ue)),fe={};H!=="axis"&&q&&q.props.trigger==="click"?fe={onClick:Fm(j.handleItemMouseEnter,O.props.onClick)}:H!=="axis"&&(fe={onMouseLeave:Fm(j.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Fm(j.handleItemMouseEnter,O.props.onMouseEnter)});var le=se.cloneElement(O,Ue(Ue({},C.props),fe));function ve(ut){return typeof $.dataKey=="function"?$.dataKey(ut.payload):null}if(me)if(F>=0){var Ae,be;if($.dataKey&&!$.allowDuplicatedCategory){var De=typeof $.dataKey=="function"?ve:"payload.".concat($.dataKey.toString());Ae=O5(K,De,U),be=te&&X&&O5(X,De,U)}else Ae=K?.[F],be=te&&X&&X[F];if(ue||ee){var Ee=O.props.activeIndex!==void 0?O.props.activeIndex:F;return[se.cloneElement(O,Ue(Ue(Ue({},C.props),fe),{},{activeIndex:Ee})),null,null]}if(!Er(Ae))return[le].concat(ph(j.renderActivePoints({item:C,activePoint:Ae,basePoint:be,childIndex:F,isRange:te})))}else{var ce,at=(ce=j.getItemByXY(j.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:le},Ze=at.graphicalItem,Ye=Ze.item,Be=Ye===void 0?O:Ye,tt=Ze.childIndex,Ve=Ue(Ue(Ue({},C.props),fe),{},{activeIndex:tt});return[se.cloneElement(Be,Ve),null,null]}return te?[le,null,null]:[le,null]}),qt(j,"renderCustomized",function(O,M,N){return se.cloneElement(O,Ue(Ue({key:"recharts-customized-".concat(N)},j.props),j.state))}),qt(j,"renderMap",{CartesianGrid:{handler:zm,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:zm},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:zm},YAxis:{handler:zm},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((A=S.id)!==null&&A!==void 0?A:Uv("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=XL(j.triggeredAfterMouseMove,(k=S.throttleDelay)!==null&&k!==void 0?k:1e3/60),j.state={},j}return Jre(w,v),Gre(w,[{key:"componentDidMount",value:function(){var A,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,k=A.children,j=A.data,O=A.height,M=A.layout,N=lo(k,Xs);if(N){var C=N.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,T=q_(this.state,j,C,H),L=this.state.tooltipTicks[C].coordinate,$=(this.state.offset.top+O)/2,F=M==="horizontal",U=F?{x:L,y:$}:{y:L,x:$},z=this.state.formattedGraphicalItems.find(function(G){var K=G.item;return K.type.name==="Scatter"});z&&(U=Ue(Ue({},U),z.props.points[C].tooltipPosition),T=z.props.points[C].tooltipPayload);var q={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:H,activePayload:T,activeCoordinate:U};this.setState(q),this.renderCursor(N),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var j,O;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(A){C5([lo(A.children,Xs)],[lo(this.props.children,Xs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=lo(this.props.children,Xs);if(A&&typeof A.props.shared=="boolean"){var k=A.props.shared?"axis":"item";return s.indexOf(k)>=0?k:a}return a}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var k=this.container,j=k.getBoundingClientRect(),O=MH(j),M={chartX:Math.round(A.pageX-O.left),chartY:Math.round(A.pageY-O.top)},N=j.width/k.offsetWidth||1,C=this.inRange(M.chartX,M.chartY,N);if(!C)return null;var H=this.state,T=H.xAxisMap,L=H.yAxisMap,$=this.getTooltipEventType(),F=NN(this.state,this.props.data,this.props.layout,C);if($!=="axis"&&T&&L){var U=kd(T).scale,z=kd(L).scale,q=U&&U.invert?U.invert(M.chartX):null,G=z&&z.invert?z.invert(M.chartY):null;return Ue(Ue({},M),{},{xValue:q,yValue:G},F)}return F?Ue(Ue({},M),F):null}},{key:"inRange",value:function(A,k){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,M=A/j,N=k/j;if(O==="horizontal"||O==="vertical"){var C=this.state.offset,H=M>=C.left&&M<=C.left+C.width&&N>=C.top&&N<=C.top+C.height;return H?{x:M,y:N}:null}var T=this.state,L=T.angleAxisMap,$=T.radiusAxisMap;if(L&&$){var F=kd(L);return Yj({x:M,y:N},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,k=this.getTooltipEventType(),j=lo(A,Xs),O={};j&&k==="axis"&&(j.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=x0(this.props,this.handleOuterEvent);return Ue(Ue({},M),O)}},{key:"addListener",value:function(){kx.on(Ox,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){kx.removeListener(Ox,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,k,j){for(var O=this.state.formattedGraphicalItems,M=0,N=O.length;M<N;M++){var C=O[M];if(C.item===A||C.props.key===A.key||k===Ql(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,k=this.state.offset,j=k.left,O=k.top,M=k.height,N=k.width;return ge.createElement("defs",null,ge.createElement("clipPath",{id:A},ge.createElement("rect",{x:j,y:O,height:M,width:N})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(k,j){var O=ON(j,2),M=O[0],N=O[1];return Ue(Ue({},k),{},qt({},M,N.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(k,j){var O=ON(j,2),M=O[0],N=O[1];return Ue(Ue({},k),{},qt({},M,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[A])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(A){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[A])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(A){var k=this.state,j=k.formattedGraphicalItems,O=k.activeItem;if(j&&j.length)for(var M=0,N=j.length;M<N;M++){var C=j[M],H=C.props,T=C.item,L=T.type.defaultProps!==void 0?Ue(Ue({},T.type.defaultProps),T.props):T.props,$=Ql(T.type);if($==="Bar"){var F=(H.data||[]).find(function(G){return eQ(A,G)});if(F)return{graphicalItem:C,payload:F}}else if($==="RadialBar"){var U=(H.data||[]).find(function(G){return Yj(A,G)});if(U)return{graphicalItem:C,payload:U}}else if(oy(C,O)||sy(C,O)||dg(C,O)){var z=WQ({graphicalItem:C,activeTooltipItem:O,itemData:L.data}),q=L.activeIndex===void 0?z:L.activeIndex;return{graphicalItem:Ue(Ue({},C),{},{childIndex:q}),payload:dg(C,O)?L.data[z]:C.props.data[z]}}}return null}},{key:"render",value:function(){var A=this;if(!sE(this))return null;var k=this.props,j=k.children,O=k.className,M=k.width,N=k.height,C=k.style,H=k.compact,T=k.title,L=k.desc,$=jN(k,$re),F=Tr($,!1);if(H)return ge.createElement(pN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement(T5,Td({},F,{width:M,height:N,title:T,desc:L}),this.renderClipPath(),uE(j,this.renderMap)));if(this.props.accessibilityLayer){var U,z;F.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,F.role=(z=this.props.role)!==null&&z!==void 0?z:"application",F.onKeyDown=function(G){A.accessibilityManager.keyboardEvent(G)},F.onFocus=function(){A.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return ge.createElement(pN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ge.createElement("div",Td({className:Pr("recharts-wrapper",O),style:Ue({position:"relative",cursor:"default",width:M,height:N},C)},q,{ref:function(K){A.container=K}}),ge.createElement(T5,Td({},F,{width:M,height:N,title:T,desc:L,style:nne}),this.renderClipPath(),uE(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(se.Component);qt(y,"displayName",r),qt(y,"defaultProps",Ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),qt(y,"getDerivedStateFromProps",function(v,w){var S=v.dataKey,A=v.data,k=v.children,j=v.width,O=v.height,M=v.layout,N=v.stackOffset,C=v.margin,H=w.dataStartIndex,T=w.dataEndIndex;if(w.updateId===void 0){var L=TN(v);return Ue(Ue(Ue({},L),{},{updateId:0},g(Ue(Ue({props:v},L),{},{updateId:0}),w)),{},{prevDataKey:S,prevData:A,prevWidth:j,prevHeight:O,prevLayout:M,prevStackOffset:N,prevMargin:C,prevChildren:k})}if(S!==w.prevDataKey||A!==w.prevData||j!==w.prevWidth||O!==w.prevHeight||M!==w.prevLayout||N!==w.prevStackOffset||!Md(C,w.prevMargin)){var $=TN(v),F={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},U=Ue(Ue({},NN(w,A,M)),{},{updateId:w.updateId+1}),z=Ue(Ue(Ue({},$),F),U);return Ue(Ue(Ue({},z),g(Ue({props:v},z),w)),{},{prevDataKey:S,prevData:A,prevWidth:j,prevHeight:O,prevLayout:M,prevStackOffset:N,prevMargin:C,prevChildren:k})}if(!C5(k,w.prevChildren)){var q,G,K,te,X=lo(k,ah),D=X&&(q=(G=X.props)===null||G===void 0?void 0:G.startIndex)!==null&&q!==void 0?q:H,Y=X&&(K=(te=X.props)===null||te===void 0?void 0:te.endIndex)!==null&&K!==void 0?K:T,J=D!==H||Y!==T,ee=!Er(A),ue=ee&&!J?w.updateId:w.updateId+1;return Ue(Ue({updateId:ue},g(Ue(Ue({props:v},w),{},{updateId:ue,dataStartIndex:D,dataEndIndex:Y}),w)),{},{prevChildren:k,dataStartIndex:D,dataEndIndex:Y})}return null}),qt(y,"renderActiveDot",function(v,w,S){var A;return se.isValidElement(v)?A=se.cloneElement(v,w):dr(v)?A=v(w):A=ge.createElement(hR,w),ge.createElement(Ni,{className:"recharts-active-dot",key:S},A)});var b=se.forwardRef(function(w,S){return ge.createElement(y,Td({},w,{ref:S}))});return b.displayName=y.displayName,b},pne=hne({chartName:"BarChart",GraphicalChild:Cf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:py},{axisType:"yAxis",AxisComp:gy}],formatAxisMap:Uee});const gne=({stats:t})=>P.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4",children:t.map(e=>P.jsxs("div",{className:"rounded-xl border border-bpas-grey/20 bg-bpas-light p-4 shadow-sm",children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-bpas-grey font-syne",children:e.label}),P.jsx("p",{className:"mt-2 text-2xl font-syne font-semibold text-bpas-black",children:e.value}),e.accent&&P.jsx("p",{className:"text-xs text-bpas-yellow",children:e.accent})]},e.label))}),mne=async(t,e)=>{try{if(!t||t.length===0)return;const r=t.length;let n=0;for(const i of t)try{const a=await fetch(i.url,{mode:"cors"});a.ok&&await a.blob()}catch(a){console.error(`Failed to preload plan: ${i.url}`,a)}finally{n++,e?.(n,r)}}catch(r){throw console.error("Error preloading plans:",r),r}},vne=async(t,e)=>{try{if(!t||t.length===0)return;const r=t.length;let n=0;for(const i of t){e?.(`Syncing project data (${n+1}/${r})...`,n/r*100),n===0&&(console.log("[OfflineService] Priming Dashboard cache..."),await Qe.from("projects").select("*"),console.log("[OfflineService] Dashboard projects fetched"),await Qe.from("snags").select("*"),console.log("[OfflineService] Dashboard snags fetched"),console.log("[OfflineService] Priming Projects page cache..."),await Qe.from("projects").select("*").order("created_at",{ascending:!1}),console.log("[OfflineService] Projects page fetched"),await Qe.from("snags").select("project_id, status").neq("status","verified"),console.log("[OfflineService] Projects snags fetched")),console.log(`[OfflineService] Fetching project ${i}...`),await Qe.from("projects").select("*").eq("id",i).single(),console.log(`[OfflineService] Project ${i} details fetched`),await Qe.from("snags").select("*").eq("project_id",i).order("created_at",{ascending:!0}),console.log(`[OfflineService] Project ${i} snags fetched`);const{data:a}=await Qe.from("snags").select("id").eq("project_id",i);if(a&&a.length>0){const l=a.map(u=>u.id);await Qe.from("snag_comments").select("*, profiles(*)").in("snag_id",l),console.log(`[OfflineService] Project ${i} comments fetched`)}e?.(`Downloading plans for project ${n+1}...`,n/r*100);const{data:o}=await Qe.from("project_plans").select("url").eq("project_id",i);if(o){console.log(`[OfflineService] Caching ${o.length} plans for project ${i}...`);for(const l of o)try{await fetch(l.url,{mode:"cors"})}catch(u){console.error(`Failed to cache plan: ${l.url}`,u)}}e?.(`Downloading photos for project ${n+1}...`,n/r*100);const{data:s}=await Qe.from("snag_photos").select("photo_url").in("snag_id",a?.map(l=>l.id)||[]);if(s){console.log(`[OfflineService] Caching ${s.length} photos for project ${i}...`);for(const l of s)try{const u=l.photo_url.startsWith("http")?l.photo_url:`your_url_here/storage/v1/object/public/snag-photos/${l.photo_url}`;await fetch(u,{mode:"cors"})}catch(u){console.error(`Failed to cache photo: ${l.photo_url}`,u)}}n++}if(console.log("[OfflineService] Sync complete! Checking cache..."),"caches"in window){const a=await(await caches.open("api-cache")).keys();console.log(`[OfflineService] Cache now has ${a.length} entries`),a.forEach(o=>console.log(`  - ${o.url}`))}e?.("Sync complete!",100)}catch(r){throw console.error("Error syncing projects:",r),r}},yne=({isOpen:t,onClose:e,projects:r})=>{const[n,i]=se.useState([]),[a,o]=se.useState(!1),[s,l]=se.useState(null);if(!t)return null;const u=p=>{i(g=>g.includes(p)?g.filter(y=>y!==p):[...g,p])},f=()=>{n.length===r.length?i([]):i(r.map(p=>p.id))},h=async()=>{if(n.length!==0){o(!0);try{await vne(n,(p,g)=>{l({message:p,percent:g})}),alert("Offline sync completed successfully!"),e()}catch(p){console.error("Sync failed:",p),alert("Failed to sync projects. Please try again.")}finally{o(!1),l(null)}}};return P.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm",children:P.jsxs("div",{className:"w-full max-w-md rounded-xl bg-white p-6 shadow-2xl",children:[P.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[P.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Offline Sync"}),!a&&P.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-700",children:""})]}),a?P.jsxs("div",{className:"space-y-4 py-8 text-center",children:[P.jsx("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-4 border-slate-200 border-t-bpas-yellow"}),P.jsxs("div",{children:[P.jsx("p",{className:"font-medium text-slate-900",children:s?.message||"Starting sync..."}),P.jsxs("p",{className:"text-sm text-slate-500",children:[Math.round(s?.percent||0),"%"]})]}),P.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-100",children:P.jsx("div",{className:"h-full bg-bpas-yellow transition-all duration-300",style:{width:`${s?.percent||0}%`}})})]}):P.jsxs(P.Fragment,{children:[P.jsx("p",{className:"mb-4 text-sm text-slate-600",children:"Select projects to download for offline use. This will save snags, plans, and photos to your device."}),P.jsx("div",{className:"mb-4 flex justify-end",children:P.jsx("button",{onClick:f,className:"text-xs font-medium text-bpas-yellow hover:text-yellow-600",children:n.length===r.length?"Deselect All":"Select All"})}),P.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2 rounded-lg border border-slate-100 p-2",children:[r.map(p=>P.jsxs("label",{className:"flex cursor-pointer items-center gap-3 rounded-lg p-2 hover:bg-slate-50",children:[P.jsx("input",{type:"checkbox",checked:n.includes(p.id),onChange:()=>u(p.id),className:"h-4 w-4 rounded border-slate-300 text-bpas-yellow focus:ring-bpas-yellow"}),P.jsxs("div",{className:"flex-1 overflow-hidden",children:[P.jsx("p",{className:"truncate font-medium text-slate-900",children:p.name}),P.jsx("p",{className:"truncate text-xs text-slate-500",children:p.client_name})]})]},p.id)),r.length===0&&P.jsx("p",{className:"text-center text-sm text-slate-500 py-4",children:"No projects found."})]}),P.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[P.jsx("button",{onClick:e,className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancel"}),P.jsxs("button",{onClick:h,disabled:n.length===0,className:"rounded-lg bg-bpas-black px-4 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed",children:["Download Selected (",n.length,")"]})]})]})]})})},bne=()=>{const t=oc(),[e,r]=se.useState([]),[n,i]=se.useState([]),[a,o]=se.useState(null),[s,l]=se.useState(!1);return se.useEffect(()=>{(async()=>{const{data:f,error:h}=await Qe.from("projects").select("*"),{data:p,error:g}=await Qe.from("snags").select("*");h&&console.error("Error fetching projects:",h),g&&console.error("Error fetching snags:",g),r(f||[]),i(p||[])})()},[]),se.useEffect(()=>{const u={open:0,in_progress:0,completed:0,verified:0},f={};n.forEach(p=>{u[p.status||"open"]+=1,p.assigned_to&&(f[p.assigned_to]=(f[p.assigned_to]||0)+1)});const h=n.filter(p=>{if(!p.due_date)return!1;const g=new Date(p.due_date),y=new Date,b=(g.getTime()-y.getTime())/(1e3*60*60*24);return b>=0&&b<=7}).length;o({totalProjects:e.length,totalOpenSnags:u.open,dueThisWeek:h,statusBreakdown:u,contractorBreakdown:f})},[e,n]),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"rounded-2xl bg-gradient-to-r from-bpas-black to-bpas-grey px-6 py-8 text-white shadow-lg",children:[P.jsx("p",{className:"text-sm uppercase tracking-wide text-bpas-yellow font-syne",children:"BPAS Snagging App"}),P.jsx("h1",{className:"text-3xl font-syne font-bold text-white",children:"Site health dashboard"}),P.jsx("p",{className:"max-w-2xl font-raleway text-white/80",children:"Track snags across every project, spot at-risk packages, and export reports for handover."}),P.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[P.jsx("div",{className:"h-1 w-14 rounded-full bg-bpas-yellow"}),P.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 rounded-lg bg-white/10 px-4 py-2 text-sm font-medium text-white backdrop-blur-sm hover:bg-white/20 transition",children:[P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),P.jsx("polyline",{points:"7 10 12 15 17 10"}),P.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Download for Offline"]})]})]}),a&&P.jsx(gne,{stats:[{label:"Total projects",value:a.totalProjects},{label:"Open snags",value:a.totalOpenSnags},{label:"Due this week",value:a.dueThisWeek},{label:"Verified",value:a.statusBreakdown.verified}]}),P.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[P.jsxs("div",{className:"rounded-xl border border-bpas-grey/20 bg-white p-4 shadow-sm",children:[P.jsx("div",{className:"flex items-center justify-between",children:P.jsxs("div",{children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-bpas-grey font-syne",children:"Snags by status"}),P.jsx("h3",{className:"text-lg font-syne font-semibold text-bpas-black",children:"Workflow visibility"})]})}),P.jsx("div",{className:"mt-4 h-64",children:P.jsx(jH,{width:"100%",height:"100%",children:P.jsxs(pne,{data:Object.entries(a?.statusBreakdown||{}).map(([u,f])=>({name:u,value:f})),children:[P.jsx(py,{dataKey:"name"}),P.jsx(gy,{allowDecimals:!1}),P.jsx(Xs,{}),P.jsx(Cf,{dataKey:"value",fill:"#eba000",radius:[8,8,0,0]})]})})})]}),P.jsxs("div",{className:"rounded-xl border border-bpas-grey/20 bg-white p-4 shadow-sm",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-bpas-grey font-syne",children:"Projects"}),P.jsx("h3",{className:"text-lg font-syne font-semibold text-bpas-black",children:"Active sites"})]}),P.jsxs("ul",{className:"mt-4 space-y-2 text-sm font-raleway text-bpas-grey",children:[e.map(u=>P.jsxs("li",{className:"rounded-lg border border-bpas-grey/20 bg-bpas-light px-3 py-2 cursor-pointer hover:bg-bpas-yellow/10 transition-colors",onClick:()=>t(`/projects/${u.id}`),children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("span",{className:"font-syne font-semibold text-bpas-black",children:u.name}),P.jsx("span",{className:"rounded-full bg-bpas-yellow/30 px-2 py-1 text-xs font-semibold text-bpas-black",children:u.status||"active"})]}),P.jsx("p",{className:"text-xs text-bpas-grey",children:u.address})]},u.id)),e.length===0&&P.jsx("p",{className:"text-sm text-bpas-grey",children:"No projects yet."})]})]})]}),P.jsx(yne,{isOpen:s,onClose:()=>l(!1),projects:e})]})},wne=()=>{const{signIn:t,loading:e}=ol(),[r,n]=se.useState(""),[i,a]=se.useState(""),[o,s]=se.useState(null),l=oc(),u=async f=>{f.preventDefault(),s(null);try{await t(r,i),l("/dashboard")}catch(h){s(h.message)}};return P.jsx("div",{className:"flex min-h-screen items-center justify-center bg-bpas-black px-4",children:P.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-white/10 bg-white/95 p-6 shadow-2xl",children:[P.jsxs("div",{className:"mb-4 text-center space-y-1",children:[P.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-bpas-grey font-syne",children:"bpas architects"}),P.jsx("h1",{className:"text-2xl font-syne font-semibold text-bpas-black",children:"Welcome back"}),P.jsx("div",{className:"mx-auto h-0.5 w-12 bg-bpas-yellow"}),P.jsx("p",{className:"text-sm font-raleway text-bpas-grey",children:"Sign in to manage your projects and snags."})]}),P.jsxs("form",{onSubmit:u,className:"space-y-3",children:[o&&P.jsx("p",{className:"rounded-lg bg-rose-50 px-3 py-2 text-sm text-rose-700",children:o}),P.jsxs("label",{className:"space-y-1 text-sm font-raleway",children:[P.jsx("span",{className:"text-bpas-grey",children:"Email"}),P.jsx("input",{type:"email",value:r,onChange:f=>n(f.target.value),className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 focus:border-bpas-yellow focus:outline-none"})]}),P.jsxs("label",{className:"space-y-1 text-sm font-raleway",children:[P.jsx("span",{className:"text-bpas-grey",children:"Password"}),P.jsx("input",{type:"password",value:i,onChange:f=>a(f.target.value),className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 focus:border-bpas-yellow focus:outline-none"})]}),P.jsx("button",{type:"submit",disabled:e,className:"btn-primary w-full",children:e?"Signing in...":"Sign in"}),P.jsxs("div",{className:"flex justify-between text-sm font-raleway text-bpas-grey",children:[P.jsx(yf,{className:"text-bpas-yellow hover:text-yellow-500",to:"/reset-password",children:"Forgot password?"}),P.jsx(yf,{className:"text-bpas-yellow hover:text-yellow-500",to:"/register",children:"Create account"})]})]})]})})},xne=()=>{const{signUp:t,loading:e}=ol(),[r,n]=se.useState(""),[i,a]=se.useState(""),[o,s]=se.useState(""),[l,u]=se.useState("architect"),[f,h]=se.useState(null),p=oc(),g=async y=>{y.preventDefault(),h(null);try{await t(r,i,o,l),p("/dashboard")}catch(b){h(b.message)}};return P.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-4",children:P.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-lg",children:[P.jsxs("div",{className:"mb-4 text-center",children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"BPAS Snagging App"}),P.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Create your account"})]}),P.jsxs("form",{onSubmit:g,className:"space-y-3",children:[f&&P.jsx("p",{className:"rounded-lg bg-rose-50 px-3 py-2 text-sm text-rose-700",children:f}),P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-700",children:"Full name"}),P.jsx("input",{value:o,onChange:y=>s(y.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 focus:border-brand focus:outline-none"})]}),P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-700",children:"Email"}),P.jsx("input",{type:"email",value:r,onChange:y=>n(y.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 focus:border-brand focus:outline-none"})]}),P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-700",children:"Password"}),P.jsx("input",{type:"password",value:i,onChange:y=>a(y.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 focus:border-brand focus:outline-none"})]}),P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-700",children:"Role"}),P.jsxs("select",{value:l,onChange:y=>u(y.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 focus:border-brand focus:outline-none",children:[P.jsx("option",{value:"admin",children:"Admin"}),P.jsx("option",{value:"architect",children:"Architect / Site Manager"}),P.jsx("option",{value:"contractor",children:"Contractor"})]})]}),P.jsx("button",{type:"submit",disabled:e,className:"w-full rounded-lg bg-bpas-yellow px-4 py-2 text-sm font-semibold text-bpas-black shadow hover:bg-yellow-500 disabled:opacity-60",children:e?"Creating account...":"Create account"}),P.jsx("div",{className:"text-center text-sm text-slate-600",children:P.jsx(yf,{className:"font-semibold text-slate-900 hover:text-bpas-yellow transition",to:"/login",children:"Already have an account? Sign in"})})]})]})})},_ne=()=>{const{resetPassword:t,loading:e}=ol(),[r,n]=se.useState(""),[i,a]=se.useState(null),[o,s]=se.useState(null),l=async u=>{u.preventDefault(),s(null);try{await t(r),a("Check your inbox for reset instructions.")}catch(f){s(f.message)}};return P.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-4",children:P.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white p-6 shadow-lg",children:[P.jsxs("div",{className:"mb-4 text-center",children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"BPAS Snagging App"}),P.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Reset password"})]}),P.jsxs("form",{onSubmit:l,className:"space-y-3",children:[i&&P.jsx("p",{className:"rounded-lg bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:i}),o&&P.jsx("p",{className:"rounded-lg bg-rose-50 px-3 py-2 text-sm text-rose-700",children:o}),P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-700",children:"Email"}),P.jsx("input",{type:"email",value:r,onChange:u=>n(u.target.value),className:"w-full rounded-lg border border-slate-200 px-3 py-2 focus:border-brand focus:outline-none"})]}),P.jsx("button",{type:"submit",disabled:e,className:"w-full rounded-lg bg-bpas-yellow px-4 py-2 text-sm font-semibold text-bpas-black shadow hover:bg-yellow-500 disabled:opacity-60",children:e?"Sending...":"Send reset link"}),P.jsx("div",{className:"text-center text-sm text-slate-600",children:P.jsx(yf,{className:"font-semibold text-slate-900 hover:text-bpas-yellow transition",to:"/login",children:"Back to login"})})]})]})})};var i0={exports:{}},Sne=i0.exports,IN;function Ane(){return IN||(IN=1,(function(t,e){(function(r,n){n()})(Sne,function(){function r(u,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,f,h){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){l(p.response,f,h)},p.onerror=function(){console.error("could not download file")},p.send()}function i(u){var f=new XMLHttpRequest;f.open("HEAD",u,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ku=="object"&&Ku.global===Ku?Ku:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(u,f,h){var p=o.URL||o.webkitURL,g=document.createElement("a");f=f||u.name||"download",g.download=f,g.rel="noopener",typeof u=="string"?(g.href=u,g.origin===location.origin?a(g):i(g.href)?n(u,f,h):a(g,g.target="_blank")):(g.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(g.href)},4e4),setTimeout(function(){a(g)},0))}:"msSaveOrOpenBlob"in navigator?function(u,f,h){if(f=f||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(r(u,h),f);else if(i(u))n(u,f,h);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){a(p)})}}:function(u,f,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return n(u,f,h);var g=u.type==="application/octet-stream",y=/constructor/i.test(o.HTMLElement)||o.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||g&&y||s)&&typeof FileReader<"u"){var v=new FileReader;v.onloadend=function(){var A=v.result;A=b?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=A:location=A,p=null},v.readAsDataURL(u)}else{var w=o.URL||o.webkitURL,S=w.createObjectURL(u);p?p.location=S:location.href=S,p=null,setTimeout(function(){w.revokeObjectURL(S)},4e4)}});o.saveAs=l.saveAs=l,t.exports=l})})(i0)),i0.exports}var Pne=Ane();const Ene="modulepreload",kne=function(t){return"/"+t},RN={},tu=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=o?.nonce||o?.getAttribute("nonce");i=l(r.map(u=>{if(u=kne(u),u in RN)return;RN[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Ene,f||(p.as="script"),p.crossOrigin="",p.href=u,s&&p.setAttribute("nonce",s),document.head.appendChild(p),f)return new Promise((g,y)=>{p.addEventListener("load",g),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};function Fr(t){"@babel/helpers - typeof";return Fr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fr(t)}var Es=Uint8Array,po=Uint16Array,RA=Int32Array,MA=new Es([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),DA=new Es([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),MN=new Es([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rM=function(t,e){for(var r=new po(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new RA(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},nM=rM(MA,2),One=nM.b,z_=nM.r;One[28]=258,z_[258]=28;var jne=rM(DA,0),DN=jne.r,W_=new po(32768);for(var on=0;on<32768;++on){var Wu=(on&43690)>>1|(on&21845)<<1;Wu=(Wu&52428)>>2|(Wu&13107)<<2,Wu=(Wu&61680)>>4|(Wu&3855)<<4,W_[on]=((Wu&65280)>>8|(Wu&255)<<8)>>1}var kp=(function(t,e,r){for(var n=t.length,i=0,a=new po(e);i<n;++i)t[i]&&++a[t[i]-1];var o=new po(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(r){s=new po(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],h=o[t[i]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)s[W_[h]>>l]=u}else for(s=new po(n),i=0;i<n;++i)t[i]&&(s[i]=W_[o[t[i]-1]++]>>15-t[i]);return s}),Sf=new Es(288);for(var on=0;on<144;++on)Sf[on]=8;for(var on=144;on<256;++on)Sf[on]=9;for(var on=256;on<280;++on)Sf[on]=7;for(var on=280;on<288;++on)Sf[on]=8;var gv=new Es(32);for(var on=0;on<32;++on)gv[on]=5;var Cne=kp(Sf,9,0),Nne=kp(gv,5,0),iM=function(t){return(t+7)/8|0},Tne=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Es(t.subarray(e,r))},Hl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},dp=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Cx=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:oM,l:0};if(i==1){var o=new Es(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(j,O){return j.f-O.f}),r.push({s:-1,f:25001});var s=r[0],l=r[1],u=0,f=1,h=2;for(r[0]={s:-1,f:s.f+l.f,l:s,r:l};f!=i-1;)s=r[r[u].f<r[h].f?u++:h++],l=r[u!=f&&r[u].f<r[h].f?u++:h++],r[f++]={s:-1,f:s.f+l.f,l:s,r:l};for(var p=a[0].s,n=1;n<i;++n)a[n].s>p&&(p=a[n].s);var g=new po(p+1),y=H_(r[f-1],g,0);if(y>e){var n=0,b=0,v=y-e,w=1<<v;for(a.sort(function(O,M){return g[M.s]-g[O.s]||O.f-M.f});n<i;++n){var S=a[n].s;if(g[S]>e)b+=w-(1<<y-g[S]),g[S]=e;else break}for(b>>=v;b>0;){var A=a[n].s;g[A]<e?b-=1<<e-g[A]++-1:++n}for(;n>=0&&b;--n){var k=a[n].s;g[k]==e&&(--g[k],++b)}y=e}return{t:new Es(g),l:y}},H_=function(t,e,r){return t.s==-1?Math.max(H_(t.l,e,r+1),H_(t.r,e,r+1)):e[t.s]=r},FN=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new po(++e),n=0,i=t[0],a=1,o=function(l){r[n++]=l},s=1;s<=e;++s)if(t[s]==i&&s!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[s]}return{c:r.subarray(0,n),n:e}},hp=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},aM=function(t,e,r){var n=r.length,i=iM(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},BN=function(t,e,r,n,i,a,o,s,l,u,f){Hl(e,f++,r),++i[256];for(var h=Cx(i,15),p=h.t,g=h.l,y=Cx(a,15),b=y.t,v=y.l,w=FN(p),S=w.c,A=w.n,k=FN(b),j=k.c,O=k.n,M=new po(19),N=0;N<S.length;++N)++M[S[N]&31];for(var N=0;N<j.length;++N)++M[j[N]&31];for(var C=Cx(M,7),H=C.t,T=C.l,L=19;L>4&&!H[MN[L-1]];--L);var $=u+5<<3,F=hp(i,Sf)+hp(a,gv)+o,U=hp(i,p)+hp(a,b)+o+14+3*L+hp(M,H)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&$<=F&&$<=U)return aM(e,f,t.subarray(l,l+u));var z,q,G,K;if(Hl(e,f,1+(U<F)),f+=2,U<F){z=kp(p,g,0),q=p,G=kp(b,v,0),K=b;var te=kp(H,T,0);Hl(e,f,A-257),Hl(e,f+5,O-1),Hl(e,f+10,L-4),f+=14;for(var N=0;N<L;++N)Hl(e,f+3*N,H[MN[N]]);f+=3*L;for(var X=[S,j],D=0;D<2;++D)for(var Y=X[D],N=0;N<Y.length;++N){var J=Y[N]&31;Hl(e,f,te[J]),f+=H[J],J>15&&(Hl(e,f,Y[N]>>5&127),f+=Y[N]>>12)}}else z=Cne,q=Sf,G=Nne,K=gv;for(var N=0;N<s;++N){var ee=n[N];if(ee>255){var J=ee>>18&31;dp(e,f,z[J+257]),f+=q[J+257],J>7&&(Hl(e,f,ee>>23&31),f+=MA[J]);var ue=ee&31;dp(e,f,G[ue]),f+=K[ue],ue>3&&(dp(e,f,ee>>5&8191),f+=DA[ue])}else dp(e,f,z[ee]),f+=q[ee]}return dp(e,f,z[256]),f+q[256]},Lne=new RA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oM=new Es(0),Ine=function(t,e,r,n,i,a){var o=a.z||t.length,s=new Es(n+o+5*(1+Math.ceil(o/7e3))+i),l=s.subarray(n,s.length-i),u=a.l,f=(a.r||0)&7;if(e){f&&(l[0]=a.r>>3);for(var h=Lne[e-1],p=h>>13,g=h&8191,y=(1<<r)-1,b=a.p||new po(32768),v=a.h||new po(y+1),w=Math.ceil(r/3),S=2*w,A=function(Ee){return(t[Ee]^t[Ee+1]<<w^t[Ee+2]<<S)&y},k=new RA(25e3),j=new po(288),O=new po(32),M=0,N=0,C=a.i||0,H=0,T=a.w||0,L=0;C+2<o;++C){var $=A(C),F=C&32767,U=v[$];if(b[F]=U,v[$]=F,T<=C){var z=o-C;if((M>7e3||H>24576)&&(z>423||!u)){f=BN(t,l,0,k,j,O,N,H,L,C-L,f),H=M=N=0,L=C;for(var q=0;q<286;++q)j[q]=0;for(var q=0;q<30;++q)O[q]=0}var G=2,K=0,te=g,X=F-U&32767;if(z>2&&$==A(C-X))for(var D=Math.min(p,z)-1,Y=Math.min(32767,C),J=Math.min(258,z);X<=Y&&--te&&F!=U;){if(t[C+G]==t[C+G-X]){for(var ee=0;ee<J&&t[C+ee]==t[C+ee-X];++ee);if(ee>G){if(G=ee,K=X,ee>D)break;for(var ue=Math.min(X,ee-2),me=0,q=0;q<ue;++q){var fe=C-X+q&32767,le=b[fe],ve=fe-le&32767;ve>me&&(me=ve,U=fe)}}}F=U,U=b[F],X+=F-U&32767}if(K){k[H++]=268435456|z_[G]<<18|DN[K];var Ae=z_[G]&31,be=DN[K]&31;N+=MA[Ae]+DA[be],++j[257+Ae],++O[be],T=C+G,++M}else k[H++]=t[C],++j[t[C]]}}for(C=Math.max(C,T);C<o;++C)k[H++]=t[C],++j[t[C]];f=BN(t,l,u,k,j,O,N,H,L,C-L,f),u||(a.r=f&7|l[f/8|0]<<3,f-=7,a.h=v,a.p=b,a.i=C,a.w=T)}else{for(var C=a.w||0;C<o+u;C+=65535){var De=C+65535;De>=o&&(l[f/8|0]=u,De=o),f=aM(l,f+1,t.subarray(C,De))}a.i=o}return Tne(s,0,n+iM(f)+i)},sM=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,o=0;o!=a;){for(var s=Math.min(o+2655,a);o<s;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Rne=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new Es(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return Ine(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},lM=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Mne=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=sM();i.p(e.dictionary),lM(t,2,i.d())}};function V_(t,e){e||(e={});var r=sM();r.p(t);var n=Rne(t,e,e.dictionary?6:2,4);return Mne(n,e),lM(n,n.length-4,r.d()),n}var Dne=typeof TextDecoder<"u"&&new TextDecoder,Fne=0;try{Dne.decode(oM,{stream:!0}),Fne=1}catch{}function Bne(t){if(Array.isArray(t))return t}function $ne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $N(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Une(t,e){if(t){if(typeof t=="string")return $N(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$N(t,e):void 0}}function qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UN(t,e){return Bne(t)||$ne(t,e)||Une(t,e)||qne()}function qN(t,e="utf8"){return new TextDecoder(e).decode(t)}const zne=new TextEncoder;function Wne(t){return zne.encode(t)}const Hne=1024*8,Vne=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Nx={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class FA{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Hne,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof FA)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Nx[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===Vne&&r!=="uint8"&&r!=="int8"){const s=new Uint8Array(this.buffer.slice(i,i+n));s.reverse();const l=new Nx[r](s.buffer);return this.offset+=n,l.reverse(),l}const o=new Nx[r](a);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return qN(this.readBytes(e))}decodeText(e=1,r="utf8"){return qN(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Wne(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Eh(t){let e=t.length;for(;--e>=0;)t[e]=0}const Gne=3,Kne=258,uM=29,Yne=256,Xne=Yne+1+uM,cM=30,Jne=512,Zne=new Array((Xne+2)*2);Eh(Zne);const Qne=new Array(cM*2);Eh(Qne);const eie=new Array(Jne);Eh(eie);const tie=new Array(Kne-Gne+1);Eh(tie);const rie=new Array(uM);Eh(rie);const nie=new Array(cM);Eh(nie);const iie=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var G_=iie;const aie=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},oie=new Uint32Array(aie()),sie=(t,e,r,n)=>{const i=oie,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Ks=sie,K_={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},fM={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const lie=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var uie=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)lie(r,n)&&(t[n]=r[n])}}return t},cie=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r},dM={assign:uie,flattenChunks:cie};let hM=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{hM=!1}const bg=new Uint8Array(256);for(let t=0;t<256;t++)bg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;bg[254]=bg[254]=1;var fie=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,s=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const die=(t,e)=>{if(e<65534&&t.subarray&&hM)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var hie=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let s=bg[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<r;)o=o<<6|t[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return die(a,i)},pie=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+bg[t[r]]>e?r:e},Y_={string2buf:fie,buf2string:hie,utf8border:pie};function gie(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mie=gie;const Wm=16209,vie=16191;var yie=function(e,r){let n,i,a,o,s,l,u,f,h,p,g,y,b,v,w,S,A,k,j,O,M,N,C,H;const T=e.state;n=e.next_in,C=e.input,i=n+(e.avail_in-5),a=e.next_out,H=e.output,o=a-(r-e.avail_out),s=a+(e.avail_out-257),l=T.dmax,u=T.wsize,f=T.whave,h=T.wnext,p=T.window,g=T.hold,y=T.bits,b=T.lencode,v=T.distcode,w=(1<<T.lenbits)-1,S=(1<<T.distbits)-1;e:do{y<15&&(g+=C[n++]<<y,y+=8,g+=C[n++]<<y,y+=8),A=b[g&w];t:for(;;){if(k=A>>>24,g>>>=k,y-=k,k=A>>>16&255,k===0)H[a++]=A&65535;else if(k&16){j=A&65535,k&=15,k&&(y<k&&(g+=C[n++]<<y,y+=8),j+=g&(1<<k)-1,g>>>=k,y-=k),y<15&&(g+=C[n++]<<y,y+=8,g+=C[n++]<<y,y+=8),A=v[g&S];r:for(;;){if(k=A>>>24,g>>>=k,y-=k,k=A>>>16&255,k&16){if(O=A&65535,k&=15,y<k&&(g+=C[n++]<<y,y+=8,y<k&&(g+=C[n++]<<y,y+=8)),O+=g&(1<<k)-1,O>l){e.msg="invalid distance too far back",T.mode=Wm;break e}if(g>>>=k,y-=k,k=a-o,O>k){if(k=O-k,k>f&&T.sane){e.msg="invalid distance too far back",T.mode=Wm;break e}if(M=0,N=p,h===0){if(M+=u-k,k<j){j-=k;do H[a++]=p[M++];while(--k);M=a-O,N=H}}else if(h<k){if(M+=u+h-k,k-=h,k<j){j-=k;do H[a++]=p[M++];while(--k);if(M=0,h<j){k=h,j-=k;do H[a++]=p[M++];while(--k);M=a-O,N=H}}}else if(M+=h-k,k<j){j-=k;do H[a++]=p[M++];while(--k);M=a-O,N=H}for(;j>2;)H[a++]=N[M++],H[a++]=N[M++],H[a++]=N[M++],j-=3;j&&(H[a++]=N[M++],j>1&&(H[a++]=N[M++]))}else{M=a-O;do H[a++]=H[M++],H[a++]=H[M++],H[a++]=H[M++],j-=3;while(j>2);j&&(H[a++]=H[M++],j>1&&(H[a++]=H[M++]))}}else if((k&64)===0){A=v[(A&65535)+(g&(1<<k)-1)];continue r}else{e.msg="invalid distance code",T.mode=Wm;break e}break}}else if((k&64)===0){A=b[(A&65535)+(g&(1<<k)-1)];continue t}else if(k&32){T.mode=vie;break e}else{e.msg="invalid literal/length code",T.mode=Wm;break e}break}}while(n<i&&a<s);j=y>>3,n-=j,y-=j<<3,g&=(1<<y)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<s?257+(s-a):257-(a-s),T.hold=g,T.bits=y};const _d=15,zN=852,WN=592,HN=0,Tx=1,VN=2,bie=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wie=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xie=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Sie=(t,e,r,n,i,a,o,s)=>{const l=s.bits;let u=0,f=0,h=0,p=0,g=0,y=0,b=0,v=0,w=0,S=0,A,k,j,O,M,N=null,C;const H=new Uint16Array(_d+1),T=new Uint16Array(_d+1);let L=null,$,F,U;for(u=0;u<=_d;u++)H[u]=0;for(f=0;f<n;f++)H[e[r+f]]++;for(g=l,p=_d;p>=1&&H[p]===0;p--);if(g>p&&(g=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(h=1;h<p&&H[h]===0;h++);for(g<h&&(g=h),v=1,u=1;u<=_d;u++)if(v<<=1,v-=H[u],v<0)return-1;if(v>0&&(t===HN||p!==1))return-1;for(T[1]=0,u=1;u<_d;u++)T[u+1]=T[u]+H[u];for(f=0;f<n;f++)e[r+f]!==0&&(o[T[e[r+f]]++]=f);if(t===HN?(N=L=o,C=20):t===Tx?(N=bie,L=wie,C=257):(N=xie,L=_ie,C=0),S=0,f=0,u=h,M=a,y=g,b=0,j=-1,w=1<<g,O=w-1,t===Tx&&w>zN||t===VN&&w>WN)return 1;for(;;){$=u-b,o[f]+1<C?(F=0,U=o[f]):o[f]>=C?(F=L[o[f]-C],U=N[o[f]-C]):(F=96,U=0),A=1<<u-b,k=1<<y,h=k;do k-=A,i[M+(S>>b)+k]=$<<24|F<<16|U|0;while(k!==0);for(A=1<<u-1;S&A;)A>>=1;if(A!==0?(S&=A-1,S+=A):S=0,f++,--H[u]===0){if(u===p)break;u=e[r+o[f]]}if(u>g&&(S&O)!==j){for(b===0&&(b=g),M+=h,y=u-b,v=1<<y;y+b<p&&(v-=H[y+b],!(v<=0));)y++,v<<=1;if(w+=1<<y,t===Tx&&w>zN||t===VN&&w>WN)return 1;j=S&O,i[j]=g<<24|y<<16|M-a|0}}return S!==0&&(i[M+S]=u-b<<24|64<<16|0),s.bits=g,0};var Op=Sie;const Aie=0,pM=1,gM=2,{Z_FINISH:GN,Z_BLOCK:Pie,Z_TREES:Hm,Z_OK:Af,Z_STREAM_END:Eie,Z_NEED_DICT:kie,Z_STREAM_ERROR:Vo,Z_DATA_ERROR:mM,Z_MEM_ERROR:vM,Z_BUF_ERROR:Oie,Z_DEFLATED:KN}=fM,vy=16180,YN=16181,XN=16182,JN=16183,ZN=16184,QN=16185,eT=16186,tT=16187,rT=16188,nT=16189,mv=16190,Vl=16191,Lx=16192,iT=16193,Ix=16194,aT=16195,oT=16196,sT=16197,lT=16198,Vm=16199,Gm=16200,uT=16201,cT=16202,fT=16203,dT=16204,hT=16205,Rx=16206,pT=16207,gT=16208,gn=16209,yM=16210,bM=16211,jie=852,Cie=592,Nie=15,Tie=Nie,mT=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Lie(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<vy||e.mode>bM?1:0},wM=t=>{if(Nf(t))return Vo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=vy,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(jie),e.distcode=e.distdyn=new Int32Array(Cie),e.sane=1,e.back=-1,Af},xM=t=>{if(Nf(t))return Vo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,wM(t)},_M=(t,e)=>{let r;if(Nf(t))return Vo;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Vo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,xM(t))},SM=(t,e)=>{if(!t)return Vo;const r=new Lie;t.state=r,r.strm=t,r.window=null,r.mode=vy;const n=_M(t,e);return n!==Af&&(t.state=null),n},Iie=t=>SM(t,Tie);let vT=!0,Mx,Dx;const Rie=t=>{if(vT){Mx=new Int32Array(512),Dx=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Op(pM,t.lens,0,288,Mx,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Op(gM,t.lens,0,32,Dx,0,t.work,{bits:5}),vT=!1}t.lencode=Mx,t.lenbits=9,t.distcode=Dx,t.distbits=5},AM=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Mie=(t,e)=>{let r,n,i,a,o,s,l,u,f,h,p,g,y,b,v=0,w,S,A,k,j,O,M,N;const C=new Uint8Array(4);let H,T;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nf(t)||!t.output||!t.input&&t.avail_in!==0)return Vo;r=t.state,r.mode===Vl&&(r.mode=Lx),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,u=r.hold,f=r.bits,h=s,p=l,N=Af;e:for(;;)switch(r.mode){case vy:if(r.wrap===0){r.mode=Lx;break}for(;f<16;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,C[0]=u&255,C[1]=u>>>8&255,r.check=Ks(r.check,C,2,0),u=0,f=0,r.mode=YN;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=gn;break}if((u&15)!==KN){t.msg="unknown compression method",r.mode=gn;break}if(u>>>=4,f-=4,M=(u&15)+8,r.wbits===0&&(r.wbits=M),M>15||M>r.wbits){t.msg="invalid window size",r.mode=gn;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?nT:Vl,u=0,f=0;break;case YN:for(;f<16;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(r.flags=u,(r.flags&255)!==KN){t.msg="unknown compression method",r.mode=gn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=gn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,r.check=Ks(r.check,C,2,0)),u=0,f=0,r.mode=XN;case XN:for(;f<32;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,C[2]=u>>>16&255,C[3]=u>>>24&255,r.check=Ks(r.check,C,4,0)),u=0,f=0,r.mode=JN;case JN:for(;f<16;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,r.check=Ks(r.check,C,2,0)),u=0,f=0,r.mode=ZN;case ZN:if(r.flags&1024){for(;f<16;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,r.check=Ks(r.check,C,2,0)),u=0,f=0}else r.head&&(r.head.extra=null);r.mode=QN;case QN:if(r.flags&1024&&(g=r.length,g>s&&(g=s),g&&(r.head&&(M=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+g),M)),r.flags&512&&r.wrap&4&&(r.check=Ks(r.check,n,g,a)),s-=g,a+=g,r.length-=g),r.length))break e;r.length=0,r.mode=eT;case eT:if(r.flags&2048){if(s===0)break e;g=0;do M=n[a+g++],r.head&&M&&r.length<65536&&(r.head.name+=String.fromCharCode(M));while(M&&g<s);if(r.flags&512&&r.wrap&4&&(r.check=Ks(r.check,n,g,a)),s-=g,a+=g,M)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=tT;case tT:if(r.flags&4096){if(s===0)break e;g=0;do M=n[a+g++],r.head&&M&&r.length<65536&&(r.head.comment+=String.fromCharCode(M));while(M&&g<s);if(r.flags&512&&r.wrap&4&&(r.check=Ks(r.check,n,g,a)),s-=g,a+=g,M)break e}else r.head&&(r.head.comment=null);r.mode=rT;case rT:if(r.flags&512){for(;f<16;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=gn;break}u=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Vl;break;case nT:for(;f<32;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}t.adler=r.check=mT(u),u=0,f=0,r.mode=mv;case mv:if(r.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=u,r.bits=f,kie;t.adler=r.check=1,r.mode=Vl;case Vl:if(e===Pie||e===Hm)break e;case Lx:if(r.last){u>>>=f&7,f-=f&7,r.mode=Rx;break}for(;f<3;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}switch(r.last=u&1,u>>>=1,f-=1,u&3){case 0:r.mode=iT;break;case 1:if(Rie(r),r.mode=Vm,e===Hm){u>>>=2,f-=2;break e}break;case 2:r.mode=oT;break;case 3:t.msg="invalid block type",r.mode=gn}u>>>=2,f-=2;break;case iT:for(u>>>=f&7,f-=f&7;f<32;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=gn;break}if(r.length=u&65535,u=0,f=0,r.mode=Ix,e===Hm)break e;case Ix:r.mode=aT;case aT:if(g=r.length,g){if(g>s&&(g=s),g>l&&(g=l),g===0)break e;i.set(n.subarray(a,a+g),o),s-=g,a+=g,l-=g,o+=g,r.length-=g;break}r.mode=Vl;break;case oT:for(;f<14;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(r.nlen=(u&31)+257,u>>>=5,f-=5,r.ndist=(u&31)+1,u>>>=5,f-=5,r.ncode=(u&15)+4,u>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=gn;break}r.have=0,r.mode=sT;case sT:for(;r.have<r.ncode;){for(;f<3;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}r.lens[L[r.have++]]=u&7,u>>>=3,f-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},N=Op(Aie,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,N){t.msg="invalid code lengths set",r.mode=gn;break}r.have=0,r.mode=lT;case lT:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[u&(1<<r.lenbits)-1],w=v>>>24,S=v>>>16&255,A=v&65535,!(w<=f);){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(A<16)u>>>=w,f-=w,r.lens[r.have++]=A;else{if(A===16){for(T=w+2;f<T;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(u>>>=w,f-=w,r.have===0){t.msg="invalid bit length repeat",r.mode=gn;break}M=r.lens[r.have-1],g=3+(u&3),u>>>=2,f-=2}else if(A===17){for(T=w+3;f<T;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}u>>>=w,f-=w,M=0,g=3+(u&7),u>>>=3,f-=3}else{for(T=w+7;f<T;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}u>>>=w,f-=w,M=0,g=11+(u&127),u>>>=7,f-=7}if(r.have+g>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=gn;break}for(;g--;)r.lens[r.have++]=M}}if(r.mode===gn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=gn;break}if(r.lenbits=9,H={bits:r.lenbits},N=Op(pM,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,N){t.msg="invalid literal/lengths set",r.mode=gn;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},N=Op(gM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,N){t.msg="invalid distances set",r.mode=gn;break}if(r.mode=Vm,e===Hm)break e;case Vm:r.mode=Gm;case Gm:if(s>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=u,r.bits=f,yie(t,p),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,u=r.hold,f=r.bits,r.mode===Vl&&(r.back=-1);break}for(r.back=0;v=r.lencode[u&(1<<r.lenbits)-1],w=v>>>24,S=v>>>16&255,A=v&65535,!(w<=f);){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(S&&(S&240)===0){for(k=w,j=S,O=A;v=r.lencode[O+((u&(1<<k+j)-1)>>k)],w=v>>>24,S=v>>>16&255,A=v&65535,!(k+w<=f);){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}u>>>=k,f-=k,r.back+=k}if(u>>>=w,f-=w,r.back+=w,r.length=A,S===0){r.mode=hT;break}if(S&32){r.back=-1,r.mode=Vl;break}if(S&64){t.msg="invalid literal/length code",r.mode=gn;break}r.extra=S&15,r.mode=uT;case uT:if(r.extra){for(T=r.extra;f<T;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=cT;case cT:for(;v=r.distcode[u&(1<<r.distbits)-1],w=v>>>24,S=v>>>16&255,A=v&65535,!(w<=f);){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if((S&240)===0){for(k=w,j=S,O=A;v=r.distcode[O+((u&(1<<k+j)-1)>>k)],w=v>>>24,S=v>>>16&255,A=v&65535,!(k+w<=f);){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}u>>>=k,f-=k,r.back+=k}if(u>>>=w,f-=w,r.back+=w,S&64){t.msg="invalid distance code",r.mode=gn;break}r.offset=A,r.extra=S&15,r.mode=fT;case fT:if(r.extra){for(T=r.extra;f<T;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=gn;break}r.mode=dT;case dT:if(l===0)break e;if(g=p-l,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=gn;break}g>r.wnext?(g-=r.wnext,y=r.wsize-g):y=r.wnext-g,g>r.length&&(g=r.length),b=r.window}else b=i,y=o-r.offset,g=r.length;g>l&&(g=l),l-=g,r.length-=g;do i[o++]=b[y++];while(--g);r.length===0&&(r.mode=Gm);break;case hT:if(l===0)break e;i[o++]=r.length,l--,r.mode=Gm;break;case Rx:if(r.wrap){for(;f<32;){if(s===0)break e;s--,u|=n[a++]<<f,f+=8}if(p-=l,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Ks(r.check,i,p,o-p):G_(r.check,i,p,o-p)),p=l,r.wrap&4&&(r.flags?u:mT(u))!==r.check){t.msg="incorrect data check",r.mode=gn;break}u=0,f=0}r.mode=pT;case pT:if(r.wrap&&r.flags){for(;f<32;){if(s===0)break e;s--,u+=n[a++]<<f,f+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=gn;break}u=0,f=0}r.mode=gT;case gT:N=Eie;break e;case gn:N=mM;break e;case yM:return vM;case bM:default:return Vo}return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,r.hold=u,r.bits=f,(r.wsize||p!==t.avail_out&&r.mode<gn&&(r.mode<Rx||e!==GN))&&AM(t,t.output,t.next_out,p-t.avail_out),h-=t.avail_in,p-=t.avail_out,t.total_in+=h,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Ks(r.check,i,p,t.next_out-p):G_(r.check,i,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Vl?128:0)+(r.mode===Vm||r.mode===Ix?256:0),(h===0&&p===0||e===GN)&&N===Af&&(N=Oie),N},Die=t=>{if(Nf(t))return Vo;let e=t.state;return e.window&&(e.window=null),t.state=null,Af},Fie=(t,e)=>{if(Nf(t))return Vo;const r=t.state;return(r.wrap&2)===0?Vo:(r.head=e,e.done=!1,Af)},Bie=(t,e)=>{const r=e.length;let n,i,a;return Nf(t)||(n=t.state,n.wrap!==0&&n.mode!==mv)?Vo:n.mode===mv&&(i=1,i=G_(i,e,r,0),i!==n.check)?mM:(a=AM(t,e,r,r),a?(n.mode=yM,vM):(n.havedict=1,Af))};var $ie=xM,Uie=_M,qie=wM,zie=Iie,Wie=SM,Hie=Mie,Vie=Die,Gie=Fie,Kie=Bie,Yie="pako inflate (from Nodeca project)",Kl={inflateReset:$ie,inflateReset2:Uie,inflateResetKeep:qie,inflateInit:zie,inflateInit2:Wie,inflate:Hie,inflateEnd:Vie,inflateGetHeader:Gie,inflateSetDictionary:Kie,inflateInfo:Yie};function Xie(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Jie=Xie;const PM=Object.prototype.toString,{Z_NO_FLUSH:Zie,Z_FINISH:Qie,Z_OK:wg,Z_STREAM_END:Fx,Z_NEED_DICT:Bx,Z_STREAM_ERROR:eae,Z_DATA_ERROR:yT,Z_MEM_ERROR:tae}=fM;function Rg(t){this.options=dM.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mie,this.strm.avail_out=0;let r=Kl.inflateInit2(this.strm,e.windowBits);if(r!==wg)throw new Error(K_[r]);if(this.header=new Jie,Kl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Y_.string2buf(e.dictionary):PM.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Kl.inflateSetDictionary(this.strm,e.dictionary),r!==wg)))throw new Error(K_[r])}Rg.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Qie:Zie,PM.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Kl.inflate(r,o),a===Bx&&i&&(a=Kl.inflateSetDictionary(r,i),a===wg?a=Kl.inflate(r,o):a===yT&&(a=Bx));r.avail_in>0&&a===Fx&&r.state.wrap>0&&t[r.next_in]!==0;)Kl.inflateReset(r),a=Kl.inflate(r,o);switch(a){case eae:case yT:case Bx:case tae:return this.onEnd(a),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||a===Fx))if(this.options.to==="string"){let l=Y_.utf8border(r.output,r.next_out),u=r.next_out-l,f=Y_.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===wg&&s===0)){if(a===Fx)return a=Kl.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Rg.prototype.onData=function(t){this.chunks.push(t)};Rg.prototype.onEnd=function(t){t===wg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dM.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function rae(t,e){const r=new Rg(e);if(r.push(t),r.err)throw r.msg||K_[r.err];return r.result}var nae=Rg,iae=rae,aae={Inflate:nae,inflate:iae};const{Inflate:oae,inflate:sae}=aae;var bT=oae,lae=sae;const EM=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;EM[t]=e}const wT=4294967295;function uae(t,e,r){let n=t;for(let i=0;i<r;i++)n=EM[(n^e[i])&255]^n>>>8;return n}function cae(t,e){return(uae(wT,t,e)^wT)>>>0}function xT(t,e,r){const n=t.readUint32(),i=cae(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function kM(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function OM(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function jM(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function CM(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function NM(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+fae(e[a-i],r[a],r[a-i])&255}}function fae(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),o=Math.abs(n-r);return i<=a&&i<=o?t:a<=o?e:r}function dae(t,e,r,n,i,a){switch(t){case 0:kM(e,r,i);break;case 1:OM(e,r,i,a);break;case 2:jM(e,r,n,i);break;case 3:CM(e,r,n,i,a);break;case 4:NM(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const hae=new Uint16Array([255]),pae=new Uint8Array(hae.buffer),gae=pae[0]===255;function mae(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],s=Math.ceil(a/8)*i,l=new Uint8Array(n*r*s);let u=0;for(let f=0;f<7;f++){const h=o[f],p=Math.ceil((r-h.x)/h.xStep),g=Math.ceil((n-h.y)/h.yStep);if(p<=0||g<=0)continue;const y=p*s,b=new Uint8Array(y);for(let v=0;v<g;v++){const w=e[u++],S=e.subarray(u,u+y);u+=y;const A=new Uint8Array(y);dae(w,S,A,b,y,s),b.set(A);for(let k=0;k<p;k++){const j=h.x+k*h.xStep,O=h.y+v*h.yStep;if(!(j>=r||O>=n))for(let M=0;M<s;M++)l[(O*r+j)*s+M]=A[k*s+M]}}}if(a===16){const f=new Uint16Array(l.buffer);if(gae)for(let h=0;h<f.length;h++)f[h]=vae(f[h]);return f}else return l}function vae(t){return(t&255)<<8|t>>8&255}const yae=new Uint16Array([255]),bae=new Uint8Array(yae.buffer),wae=bae[0]===255,xae=new Uint8Array(0);function _T(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,s=Math.ceil(a/8*i*r),l=new Uint8Array(n*s);let u=xae,f=0,h,p;for(let g=0;g<n;g++){switch(h=e.subarray(f+1,f+1+s),p=l.subarray(g*s,(g+1)*s),e[f]){case 0:kM(h,p,s);break;case 1:OM(h,p,s,o);break;case 2:jM(h,p,u,s);break;case 3:CM(h,p,u,s,o);break;case 4:NM(h,p,u,s,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=p,f+=s+1}if(a===16){const g=new Uint16Array(l.buffer);if(wae)for(let y=0;y<g.length;y++)g[y]=_ae(g[y]);return g}else return l}function _ae(t){return(t&255)<<8|t>>8&255}const a0=Uint8Array.of(137,80,78,71,13,10,26,10);function ST(t){if(!Sae(t.readBytes(a0.length)))throw new Error("wrong PNG signature")}function Sae(t){if(t.length<a0.length)return!1;for(let e=0;e<a0.length;e++)if(t[e]!==a0[e])return!1;return!0}const Aae="tEXt",Pae=0,TM=new TextDecoder("latin1");function Eae(t){if(Oae(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const kae=/^[\u0000-\u00FF]*$/;function Oae(t){if(!kae.test(t))throw new Error("invalid latin1 text")}function jae(t,e,r){const n=LM(e);t[n]=Cae(e,r-n.length-1)}function LM(t){for(t.mark();t.readByte()!==Pae;);const e=t.offset;t.reset();const r=TM.decode(t.readBytes(e-t.offset-1));return t.skip(1),Eae(r),r}function Cae(t,e){return TM.decode(t.readBytes(e))}const oo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},$x={UNKNOWN:-1,DEFLATE:0},AT={UNKNOWN:-1,ADAPTIVE:0},Ux={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Km={NONE:0,BACKGROUND:1,PREVIOUS:2},qx={SOURCE:0,OVER:1};class Nae extends FA{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new bT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=$x.UNKNOWN,this._filterMethod=AT.UNKNOWN,this._interlaceMethod=Ux.UNKNOWN,this._colorType=oo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ST(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(ST(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Aae:jae(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?xT(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?xT(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Tae(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case oo.GREYSCALE:n=1;break;case oo.TRUECOLOUR:n=3;break;case oo.INDEXED_COLOUR:n=1;break;case oo.GREYSCALE_ALPHA:n=2;break;case oo.TRUECOLOUR_ALPHA:n=4;break;case oo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==$x.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case oo.GREYSCALE:case oo.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case oo.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case oo.UNKNOWN:case oo.GREYSCALE_ALPHA:case oo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=LM(this),n=this.readUint8();if(n!==$x.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:lae(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=_T({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case Km.NONE:break;case Km.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const o=(i*e.width+a)*this._png.channels;for(let s=0;s<this._png.channels;s++)n.data[o+s]=0}break;case Km.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(a,o)=>{const s=((a+r.yOffset)*this._png.width+r.xOffset+o)*this._png.channels,l=(a*r.width+o)*this._png.channels;return{index:s,frameIndex:l}};switch(r.blendOp){case qx.SOURCE:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:s,frameIndex:l}=i(a,o);for(let u=0;u<this._png.channels;u++)e.data[s+u]=r.data[l+u]}break;case qx.OVER:for(let a=0;a<r.height;a++)for(let o=0;o<r.width;o++){const{index:s,frameIndex:l}=i(a,o);for(let u=0;u<this._png.channels;u++){const f=r.data[l+this._png.channels-1]/n,h=u%(this._png.channels-1)===0?1:r.data[l+u],p=Math.floor(f*h+(1-f)*e.data[s+u]);e.data[s+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==AT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ux.NO_INTERLACE)this._png.data=_T({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ux.ADAM7)this._png.data=mae({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Km.NONE,blendOp:qx.SOURCE,data:e}),this._inflator=new bT,this._writingDataChunks=!1}}function Tae(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var PT;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(PT||(PT={}));function Lae(t,e){return new Nae(t,e).decode()}var Yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function zx(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var Gr={log:zx,warn:function(t){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):zx.call(null,arguments))},error:function(t){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):zx(t))}};function Wx(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Jc(n.response,e,r)},n.onerror=function(){Gr.error("could not download file")},n.send()}function ET(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ym(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Jc=Yt.saveAs||((typeof window>"u"?"undefined":Fr(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Yt.URL||Yt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?ET(i.href)?Wx(t,e,r):Ym(i,i.target="_blank"):Ym(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ym(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(ET(t))Wx(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Ym(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Fr(a)!=="object"&&(Gr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Wx(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Yt.HTMLElement)||Yt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Fr(FileReader))==="object"){var s=new FileReader;s.onloadend=function(){var f=s.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},s.readAsDataURL(t)}else{var l=Yt.URL||Yt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});function IM(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(s){return[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var s=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return s.length==1&&(s="0"+s),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+s+l+u}}var o0=Yt.atob.bind(Yt),kT=Yt.btoa.bind(Yt);function Hx(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=Qi(r,n,i,a,e[0],7,-680876936),a=Qi(a,r,n,i,e[1],12,-389564586),i=Qi(i,a,r,n,e[2],17,606105819),n=Qi(n,i,a,r,e[3],22,-1044525330),r=Qi(r,n,i,a,e[4],7,-176418897),a=Qi(a,r,n,i,e[5],12,1200080426),i=Qi(i,a,r,n,e[6],17,-1473231341),n=Qi(n,i,a,r,e[7],22,-45705983),r=Qi(r,n,i,a,e[8],7,1770035416),a=Qi(a,r,n,i,e[9],12,-1958414417),i=Qi(i,a,r,n,e[10],17,-42063),n=Qi(n,i,a,r,e[11],22,-1990404162),r=Qi(r,n,i,a,e[12],7,1804603682),a=Qi(a,r,n,i,e[13],12,-40341101),i=Qi(i,a,r,n,e[14],17,-1502002290),r=ea(r,n=Qi(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=ea(a,r,n,i,e[6],9,-1069501632),i=ea(i,a,r,n,e[11],14,643717713),n=ea(n,i,a,r,e[0],20,-373897302),r=ea(r,n,i,a,e[5],5,-701558691),a=ea(a,r,n,i,e[10],9,38016083),i=ea(i,a,r,n,e[15],14,-660478335),n=ea(n,i,a,r,e[4],20,-405537848),r=ea(r,n,i,a,e[9],5,568446438),a=ea(a,r,n,i,e[14],9,-1019803690),i=ea(i,a,r,n,e[3],14,-187363961),n=ea(n,i,a,r,e[8],20,1163531501),r=ea(r,n,i,a,e[13],5,-1444681467),a=ea(a,r,n,i,e[2],9,-51403784),i=ea(i,a,r,n,e[7],14,1735328473),r=ta(r,n=ea(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=ta(a,r,n,i,e[8],11,-2022574463),i=ta(i,a,r,n,e[11],16,1839030562),n=ta(n,i,a,r,e[14],23,-35309556),r=ta(r,n,i,a,e[1],4,-1530992060),a=ta(a,r,n,i,e[4],11,1272893353),i=ta(i,a,r,n,e[7],16,-155497632),n=ta(n,i,a,r,e[10],23,-1094730640),r=ta(r,n,i,a,e[13],4,681279174),a=ta(a,r,n,i,e[0],11,-358537222),i=ta(i,a,r,n,e[3],16,-722521979),n=ta(n,i,a,r,e[6],23,76029189),r=ta(r,n,i,a,e[9],4,-640364487),a=ta(a,r,n,i,e[12],11,-421815835),i=ta(i,a,r,n,e[15],16,530742520),r=ra(r,n=ta(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=ra(a,r,n,i,e[7],10,1126891415),i=ra(i,a,r,n,e[14],15,-1416354905),n=ra(n,i,a,r,e[5],21,-57434055),r=ra(r,n,i,a,e[12],6,1700485571),a=ra(a,r,n,i,e[3],10,-1894986606),i=ra(i,a,r,n,e[10],15,-1051523),n=ra(n,i,a,r,e[1],21,-2054922799),r=ra(r,n,i,a,e[8],6,1873313359),a=ra(a,r,n,i,e[15],10,-30611744),i=ra(i,a,r,n,e[6],15,-1560198380),n=ra(n,i,a,r,e[13],21,1309151649),r=ra(r,n,i,a,e[4],6,-145523070),a=ra(a,r,n,i,e[11],10,-1120210379),i=ra(i,a,r,n,e[2],15,718787259),n=ra(n,i,a,r,e[9],21,-343485551),t[0]=Ju(r,t[0]),t[1]=Ju(n,t[1]),t[2]=Ju(i,t[2]),t[3]=Ju(a,t[3])}function yy(t,e,r,n,i,a){return e=Ju(Ju(e,t),Ju(n,a)),Ju(e<<i|e>>>32-i,r)}function Qi(t,e,r,n,i,a,o){return yy(e&r|~e&n,t,e,i,a,o)}function ea(t,e,r,n,i,a,o){return yy(e&n|r&~n,t,e,i,a,o)}function ta(t,e,r,n,i,a,o){return yy(e^r^n,t,e,i,a,o)}function ra(t,e,r,n,i,a,o){return yy(r^(e|~n),t,e,i,a,o)}function RM(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Hx(n,Iae(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Hx(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Hx(n,i),n}function Iae(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var OT="0123456789abcdef".split("");function Rae(t){for(var e="",r=0;r<4;r++)e+=OT[t>>8*r+4&15]+OT[t>>8*r&15];return e}function Mae(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function X_(t){return RM(t).map(Mae).join("")}var Dae=(function(t){for(var e=0;e<t.length;e++)t[e]=Rae(t[e]);return t.join("")})(RM("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ju(t,e){if(Dae){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}function J_(t,e){var r,n,i,a;if(t!==r){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),s=[],l=0;l<256;l++)s[l]=l;var u=0;for(l=0;l<256;l++){var f=s[l];u=(u+f+o.charCodeAt(l))%256,s[l]=s[u],s[u]=f}r=t,n=s}else s=n;var h=e.length,p=0,g=0,y="";for(l=0;l<h;l++)g=(g+(f=s[p=(p+1)%256]))%256,s[p]=s[g],s[g]=f,o=s[(s[p]+s[g])%256],y+=String.fromCharCode(e.charCodeAt(l)^o);return y}var jT={print:4,modify:8,copy:16,"annot-forms":32};function Od(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(s){if(jT.perm!==void 0)throw new Error("Invalid permission: "+s);i+=jT[s]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=X_(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=J_(this.encryptionKey,this.padding)}function jd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function CT(t){if(Fr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var o=e[r][a];try{o[0].apply(t,n)}catch(s){Yt.console&&Gr.error("jsPDF PubSub Error",s.message,s)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function vv(t){if(!(this instanceof vv))return new vv(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function MM(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function tf(t,e,r,n,i){if(!(this instanceof tf))return new tf(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,MM.call(this,n,i)}function Ld(t,e,r,n,i){if(!(this instanceof Ld))return new Ld(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,MM.call(this,n,i)}function Ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],s=1,l=16,u="S",f=null;Fr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),s=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=CT;var y="1.3",b=g.__private__.getPdfVersion=function(){return y};g.__private__.setPdfVersion=function(I){y=I};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return v};var w=g.__private__.getPageFormat=function(I){return v[I]};i=i||"a4";var S="compat",A="advanced",k=S;function j(){this.saveGraphicsState(),ce(new Dt(qe,0,0,-qe,0,ja()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),u="n",k=A}function O(){this.restoreGraphicsState(),u="S",k=S}var M=g.__private__.combineFontStyleAndFontWeight=function(I,Q){if(I=="bold"&&Q=="normal"||I=="bold"&&Q==400||I=="normal"&&Q=="italic"||I=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(I=Q==400||Q==="normal"?I==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||I!=="normal"?(Q==700?"bold":Q)+""+I:"bold"),I};g.advancedAPI=function(I){var Q=k===S;return Q&&j.call(this),typeof I!="function"||(I(this),Q&&O.call(this)),this},g.compatAPI=function(I){var Q=k===A;return Q&&O.call(this),typeof I!="function"||(I(this),Q&&j.call(this)),this},g.isAdvancedAPI=function(){return k===A};var N,C=function(I){if(k!==A)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=g.roundToPrecision=g.__private__.roundToPrecision=function(I,Q){var pe=e||Q;if(isNaN(I)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(pe).replace(/0+$/,"")};N=g.hpf=g.__private__.hpf=typeof l=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,l)}:l==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return H(I,16)};var T=g.f2=g.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return H(I,2)},L=g.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return H(I,3)},$=g.scale=g.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return k===S?I*qe:k===A?I:void 0},F=function(I){return $((function(Q){return k===S?ja()-Q:k===A?Q:void 0})(I))};g.__private__.setPrecision=g.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(e=parseInt(I,10))};var U,z="00000000000000000000000000000000",q=g.__private__.getFileId=function(){return z},G=g.__private__.setFileId=function(I){return z=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(xn=new Od(f.userPermissions,f.userPassword,f.ownerPassword,z)),z};g.setFileId=function(I){return G(I),this},g.getFileId=function(){return q()};var K=g.__private__.convertDateToPDFDate=function(I){var Q=I.getTimezoneOffset(),pe=Q<0?"+":"-",we=Math.floor(Math.abs(Q/60)),Oe=Math.abs(Q%60),$e=[pe,J(we),"'",J(Oe),"'"].join("");return["D:",I.getFullYear(),J(I.getMonth()+1),J(I.getDate()),J(I.getHours()),J(I.getMinutes()),J(I.getSeconds()),$e].join("")},te=g.__private__.convertPDFDateToDate=function(I){var Q=parseInt(I.substr(2,4),10),pe=parseInt(I.substr(6,2),10)-1,we=parseInt(I.substr(8,2),10),Oe=parseInt(I.substr(10,2),10),$e=parseInt(I.substr(12,2),10),Ge=parseInt(I.substr(14,2),10);return new Date(Q,pe,we,Oe,$e,Ge,0)},X=g.__private__.setCreationDate=function(I){var Q;if(I===void 0&&(I=new Date),I instanceof Date)Q=K(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=I}return U=Q},D=g.__private__.getCreationDate=function(I){var Q=U;return I==="jsDate"&&(Q=te(U)),Q};g.setCreationDate=function(I){return X(I),this},g.getCreationDate=function(I){return D(I)};var Y,J=g.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},ee=g.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ue=0,me=[],fe=[],le=0,ve=[],Ae=[],be=!1,De=fe;g.__private__.setCustomOutputDestination=function(I){be=!0,De=I};var Ee=function(I){be||(De=I)};g.__private__.resetCustomOutputDestination=function(){be=!1,De=fe};var ce=g.__private__.out=function(I){return I=I.toString(),le+=I.length+1,De.push(I),De},at=g.__private__.write=function(I){return ce(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Ze=g.__private__.getArrayBuffer=function(I){for(var Q=I.length,pe=new ArrayBuffer(Q),we=new Uint8Array(pe);Q--;)we[Q]=I.charCodeAt(Q);return pe},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return Ye};var Be=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(I){return Be=k===A?I/qe:I,this};var tt,Ve=g.__private__.getFontSize=g.getFontSize=function(){return k===S?Be:Be*qe},ut=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(I){return ut=I,this},g.__private__.getR2L=g.getR2L=function(){return ut};var rt,ft=g.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))tt=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');tt=I}else tt=parseInt(I,10)};g.__private__.getZoomMode=function(){return tt};var ct,kt=g.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');rt=I};g.__private__.getPageMode=function(){return rt};var nr=g.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');ct=I};g.__private__.getLayoutMode=function(){return ct},g.__private__.setDisplayMode=g.setDisplayMode=function(I,Q,pe){return ft(I),nr(Q),kt(pe),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(I){if(Object.keys(pt).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[I]},g.__private__.getDocumentProperties=function(){return pt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(I){for(var Q in pt)pt.hasOwnProperty(Q)&&I[Q]&&(pt[Q]=I[Q]);return this},g.__private__.setDocumentProperty=function(I,Q){if(Object.keys(pt).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[I]=Q};var ke,qe,ze,st,Nt,lt={},Mt={},lr=[],It={},tr={},Ut={},Sr={},$r=null,rr=0,Tt=[],ar=new CT(g),$i=t.hotfixes||[],Nn={},Jn={},Tn=[],Dt=function I(Q,pe,we,Oe,$e,Ge){if(!(this instanceof I))return new I(Q,pe,we,Oe,$e,Ge);isNaN(Q)&&(Q=1),isNaN(pe)&&(pe=0),isNaN(we)&&(we=0),isNaN(Oe)&&(Oe=1),isNaN($e)&&($e=0),isNaN(Ge)&&(Ge=0),this._matrix=[Q,pe,we,Oe,$e,Ge]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(I)},Dt.prototype.multiply=function(I){var Q=I.sx*this.sx+I.shy*this.shx,pe=I.sx*this.shy+I.shy*this.sy,we=I.shx*this.sx+I.sy*this.shx,Oe=I.shx*this.shy+I.sy*this.sy,$e=I.tx*this.sx+I.ty*this.shx+this.tx,Ge=I.tx*this.shy+I.ty*this.sy+this.ty;return new Dt(Q,pe,we,Oe,$e,Ge)},Dt.prototype.decompose=function(){var I=this.sx,Q=this.shy,pe=this.shx,we=this.sy,Oe=this.tx,$e=this.ty,Ge=Math.sqrt(I*I+Q*Q),wt=(I/=Ge)*pe+(Q/=Ge)*we;pe-=I*wt,we-=Q*wt;var Pt=Math.sqrt(pe*pe+we*we);return wt/=Pt,I*(we/=Pt)<Q*(pe/=Pt)&&(I=-I,Q=-Q,wt=-wt,Ge=-Ge),{scale:new Dt(Ge,0,0,Pt,0,0),translate:new Dt(1,0,0,1,Oe,$e),rotate:new Dt(I,Q,-Q,I,0,0),skew:new Dt(1,0,wt,1,0,0)}},Dt.prototype.toString=function(I){return this.join(" ")},Dt.prototype.inversed=function(){var I=this.sx,Q=this.shy,pe=this.shx,we=this.sy,Oe=this.tx,$e=this.ty,Ge=1/(I*we-Q*pe),wt=we*Ge,Pt=-Q*Ge,Wt=-pe*Ge,Ht=I*Ge;return new Dt(wt,Pt,Wt,Ht,-wt*Oe-Wt*$e,-Pt*Oe-Ht*$e)},Dt.prototype.applyToPoint=function(I){var Q=I.x*this.sx+I.y*this.shx+this.tx,pe=I.x*this.shy+I.y*this.sy+this.ty;return new xo(Q,pe)},Dt.prototype.applyToRectangle=function(I){var Q=this.applyToPoint(I),pe=this.applyToPoint(new xo(I.x+I.w,I.y+I.h));return new wl(Q.x,Q.y,pe.x-Q.x,pe.y-Q.y)},Dt.prototype.clone=function(){var I=this.sx,Q=this.shy,pe=this.shx,we=this.sy,Oe=this.tx,$e=this.ty;return new Dt(I,Q,pe,we,Oe,$e)},g.Matrix=Dt;var la=g.matrixMult=function(I,Q){return Q.multiply(I)},Wa=new Dt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Wa;var yi=function(I,Q){if(!tr[I]){var pe=(Q instanceof tf?"Sh":"P")+(Object.keys(It).length+1).toString(10);Q.id=pe,tr[I]=pe,It[pe]=Q,ar.publish("addPattern",Q)}};g.ShadingPattern=tf,g.TilingPattern=Ld,g.addShadingPattern=function(I,Q){return C("addShadingPattern()"),yi(I,Q),this},g.beginTilingPattern=function(I){C("beginTilingPattern()"),Ea(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},g.endTilingPattern=function(I,Q){C("endTilingPattern()"),Q.stream=Ae[Y].join(`
`),yi(I,Q),ar.publish("endTilingPattern",Q),Tn.pop().restore()};var _a,Ur=g.__private__.newObject=function(){var I=wn();return Ln(I,!0),I},wn=g.__private__.newObjectDeferred=function(){return ue++,me[ue]=function(){return le},ue},Ln=function(I,Q){return Q=typeof Q=="boolean"&&Q,me[I]=le,Q&&ce(I+" 0 obj"),I},Ko=g.__private__.newAdditionalObject=function(){var I={objId:wn(),content:""};return ve.push(I),I},Ns=wn(),Ha=wn(),mo=g.__private__.decodeColorString=function(I){var Q=I.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length!==5||Q[4]!=="k"&&Q[4]!=="K"||(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var pe=parseFloat(Q[0]);Q=[pe,pe,pe,"r"]}for(var we="#",Oe=0;Oe<3;Oe++)we+=("0"+Math.floor(255*parseFloat(Q[Oe])).toString(16)).slice(-2);return we},oi=g.__private__.encodeColorString=function(I){var Q;typeof I=="string"&&(I={ch1:I});var pe=I.ch1,we=I.ch2,Oe=I.ch3,$e=I.ch4,Ge=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var wt=new IM(pe);if(wt.ok)pe=wt.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var Pt=parseInt(pe.substr(1),16);pe=Pt>>16&255,we=Pt>>8&255,Oe=255&Pt}if(we===void 0||$e===void 0&&pe===we&&we===Oe)Q=typeof pe=="string"?pe+" "+Ge[0]:I.precision===2?T(pe/255)+" "+Ge[0]:L(pe/255)+" "+Ge[0];else if($e===void 0||Fr($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return["1.","1.","1.",Ge[1]].join(" ");Q=typeof pe=="string"?[pe,we,Oe,Ge[1]].join(" "):I.precision===2?[T(pe/255),T(we/255),T(Oe/255),Ge[1]].join(" "):[L(pe/255),L(we/255),L(Oe/255),Ge[1]].join(" ")}else Q=typeof pe=="string"?[pe,we,Oe,$e,Ge[2]].join(" "):I.precision===2?[T(pe),T(we),T(Oe),T($e),Ge[2]].join(" "):[L(pe),L(we),L(Oe),L($e),Ge[2]].join(" ");return Q},Sa=g.__private__.getFilters=function(){return o},ua=g.__private__.putStream=function(I){var Q=(I=I||{}).data||"",pe=I.filters||Sa(),we=I.alreadyAppliedFilters||[],Oe=I.addLength1||!1,$e=Q.length,Ge=I.objectId,wt=function(zn){return zn};if(f!==null&&Ge===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(wt=xn.encryptor(Ge,0));var Pt={};pe===!0&&(pe=["FlateEncode"]);var Wt=I.additionalKeyValues||[],Ht=(Pt=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(Q,pe):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(we)?we.join(" "):we.toString());if(Pt.data.length!==0&&(Wt.push({key:"Length",value:Pt.data.length}),Oe===!0&&Wt.push({key:"Length1",value:$e})),Ht.length!=0)if(Ht.split("/").length-1==1)Wt.push({key:"Filter",value:Ht});else{Wt.push({key:"Filter",value:"["+Ht+"]"});for(var gr=0;gr<Wt.length;gr+=1)if(Wt[gr].key==="DecodeParms"){for(var rn=[],Rn=0;Rn<Pt.reverseChain.split("/").length-1;Rn+=1)rn.push("null");rn.push(Wt[gr].value),Wt[gr].value="["+rn.join(" ")+"]"}}ce("<<");for(var qr=0;qr<Wt.length;qr++)ce("/"+Wt[qr].key+" "+Wt[qr].value);ce(">>"),Pt.data.length!==0&&(ce("stream"),ce(wt(Pt.data)),ce("endstream"))},cl=g.__private__.putPage=function(I){var Q=I.number,pe=I.data,we=I.objId,Oe=I.contentsObjId;Ln(we,!0),ce("<</Type /Page"),ce("/Parent "+I.rootDictionaryObjId+" 0 R"),ce("/Resources "+I.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(N(I.mediaBox.bottomLeftX))+" "+parseFloat(N(I.mediaBox.bottomLeftY))+" "+N(I.mediaBox.topRightX)+" "+N(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&ce("/CropBox ["+N(I.cropBox.bottomLeftX)+" "+N(I.cropBox.bottomLeftY)+" "+N(I.cropBox.topRightX)+" "+N(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&ce("/BleedBox ["+N(I.bleedBox.bottomLeftX)+" "+N(I.bleedBox.bottomLeftY)+" "+N(I.bleedBox.topRightX)+" "+N(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&ce("/TrimBox ["+N(I.trimBox.bottomLeftX)+" "+N(I.trimBox.bottomLeftY)+" "+N(I.trimBox.topRightX)+" "+N(I.trimBox.topRightY)+"]"),I.artBox!==null&&ce("/ArtBox ["+N(I.artBox.bottomLeftX)+" "+N(I.artBox.bottomLeftY)+" "+N(I.artBox.topRightX)+" "+N(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&ce("/UserUnit "+I.userUnit),ar.publish("putPage",{objId:we,pageContext:Tt[Q],pageNumber:Q,page:pe}),ce("/Contents "+Oe+" 0 R"),ce(">>"),ce("endobj");var $e=pe.join(`
`);return k===A&&($e+=`
Q`),Ln(Oe,!0),ua({data:$e,filters:Sa(),objectId:Oe}),ce("endobj"),we},Va=g.__private__.putPages=function(){var I,Q,pe=[];for(I=1;I<=rr;I++)Tt[I].objId=wn(),Tt[I].contentsObjId=wn();for(I=1;I<=rr;I++)pe.push(cl({number:I,data:Ae[I],objId:Tt[I].objId,contentsObjId:Tt[I].contentsObjId,mediaBox:Tt[I].mediaBox,cropBox:Tt[I].cropBox,bleedBox:Tt[I].bleedBox,trimBox:Tt[I].trimBox,artBox:Tt[I].artBox,userUnit:Tt[I].userUnit,rootDictionaryObjId:Ns,resourceDictionaryObjId:Ha}));Ln(Ns,!0),ce("<</Type /Pages");var we="/Kids [";for(Q=0;Q<rr;Q++)we+=pe[Q]+" 0 R ";ce(we+"]"),ce("/Count "+rr),ce(">>"),ce("endobj"),ar.publish("postPutPages")},Ts=function(I){ar.publish("putFont",{font:I,out:ce,newObject:Ur,putStream:ua}),I.isAlreadyPutted!==!0&&(I.objectNumber=Ur(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+jd(I.postScriptName)),ce("/Subtype /Type1"),typeof I.encoding=="string"&&ce("/Encoding /"+I.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},fl=function(I){I.objectNumber=Ur();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[N(I.x),N(I.y),N(I.x+I.width),N(I.y+I.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var pe=I.pages[1].join(`
`);ua({data:pe,additionalKeyValues:Q,objectId:I.objectNumber}),ce("endobj")},dl=function(I,Q){Q||(Q=21);var pe=Ur(),we=(function(Ge,wt){var Pt,Wt=[],Ht=1/(wt-1);for(Pt=0;Pt<1;Pt+=Ht)Wt.push(Pt);if(Wt.push(1),Ge[0].offset!=0){var gr={offset:0,color:Ge[0].color};Ge.unshift(gr)}if(Ge[Ge.length-1].offset!=1){var rn={offset:1,color:Ge[Ge.length-1].color};Ge.push(rn)}for(var Rn="",qr=0,zn=0;zn<Wt.length;zn++){for(Pt=Wt[zn];Pt>Ge[qr+1].offset;)qr++;var _n=Ge[qr].offset,si=(Pt-_n)/(Ge[qr+1].offset-_n),Ca=Ge[qr].color,zi=Ge[qr+1].color;Rn+=ee(Math.round((1-si)*Ca[0]+si*zi[0]).toString(16))+ee(Math.round((1-si)*Ca[1]+si*zi[1]).toString(16))+ee(Math.round((1-si)*Ca[2]+si*zi[2]).toString(16))}return Rn.trim()})(I.colors,Q),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+Q+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ua({data:we,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),ce("endobj"),I.objectNumber=Ur(),ce("<< /ShadingType "+I.type),ce("/ColorSpace /DeviceRGB");var $e="/Coords ["+N(parseFloat(I.coords[0]))+" "+N(parseFloat(I.coords[1]))+" ";I.type===2?$e+=N(parseFloat(I.coords[2]))+" "+N(parseFloat(I.coords[3])):$e+=N(parseFloat(I.coords[2]))+" "+N(parseFloat(I.coords[3]))+" "+N(parseFloat(I.coords[4]))+" "+N(parseFloat(I.coords[5])),ce($e+="]"),I.matrix&&ce("/Matrix ["+I.matrix.toString()+"]"),ce("/Function "+pe+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},fu=function(I,Q){var pe=wn(),we=Ur();Q.push({resourcesOid:pe,objectOid:we}),I.objectNumber=we;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+I.boundingBox.map(N).join(" ")+"]"}),Oe.push({key:"XStep",value:N(I.xStep)}),Oe.push({key:"YStep",value:N(I.yStep)}),Oe.push({key:"Resources",value:pe+" 0 R"}),I.matrix&&Oe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),ua({data:I.stream,additionalKeyValues:Oe,objectId:I.objectNumber}),ce("endobj")},jh=function(I){for(var Q in I.objectNumber=Ur(),ce("<<"),I)switch(Q){case"opacity":ce("/ca "+T(I[Q]));break;case"stroke-opacity":ce("/CA "+T(I[Q]))}ce(">>"),ce("endobj")},Hr=function(I){Ln(I.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Q in ce("/Font <<"),lt)lt.hasOwnProperty(Q)&&(h===!1||h===!0&&p.hasOwnProperty(Q))&&ce("/"+Q+" "+lt[Q].objectNumber+" 0 R");ce(">>")})(),(function(){if(Object.keys(It).length>0){for(var Q in ce("/Shading <<"),It)It.hasOwnProperty(Q)&&It[Q]instanceof tf&&It[Q].objectNumber>=0&&ce("/"+Q+" "+It[Q].objectNumber+" 0 R");ar.publish("putShadingPatternDict"),ce(">>")}})(),(function(Q){if(Object.keys(It).length>0){for(var pe in ce("/Pattern <<"),It)It.hasOwnProperty(pe)&&It[pe]instanceof g.TilingPattern&&It[pe].objectNumber>=0&&It[pe].objectNumber<Q&&ce("/"+pe+" "+It[pe].objectNumber+" 0 R");ar.publish("putTilingPatternDict"),ce(">>")}})(I.objectOid),(function(){if(Object.keys(Ut).length>0){var Q;for(Q in ce("/ExtGState <<"),Ut)Ut.hasOwnProperty(Q)&&Ut[Q].objectNumber>=0&&ce("/"+Q+" "+Ut[Q].objectNumber+" 0 R");ar.publish("putGStateDict"),ce(">>")}})(),(function(){for(var Q in ce("/XObject <<"),Nn)Nn.hasOwnProperty(Q)&&Nn[Q].objectNumber>=0&&ce("/"+Q+" "+Nn[Q].objectNumber+" 0 R");ar.publish("putXobjectDict"),ce(">>")})(),ce(">>"),ce("endobj")},Mf=function(I){Mt[I.fontName]=Mt[I.fontName]||{},Mt[I.fontName][I.fontStyle]=I.id},du=function(I,Q,pe,we,Oe){var $e={id:"F"+(Object.keys(lt).length+1).toString(10),postScriptName:I,fontName:Q,fontStyle:pe,encoding:we,isStandardFont:Oe||!1,metadata:{}};return ar.publish("addFont",{font:$e,instance:this}),lt[$e.id]=$e,Mf($e),$e.id},ca=g.__private__.pdfEscape=g.pdfEscape=function(I,Q){return(function(pe,we){var Oe,$e,Ge,wt,Pt,Wt,Ht,gr,rn;if(Ge=(we=we||{}).sourceEncoding||"Unicode",Pt=we.outputEncoding,(we.autoencode||Pt)&&lt[ke].metadata&&lt[ke].metadata[Ge]&&lt[ke].metadata[Ge].encoding&&(wt=lt[ke].metadata[Ge].encoding,!Pt&&lt[ke].encoding&&(Pt=lt[ke].encoding),!Pt&&wt.codePages&&(Pt=wt.codePages[0]),typeof Pt=="string"&&(Pt=wt[Pt]),Pt)){for(Ht=!1,Wt=[],Oe=0,$e=pe.length;Oe<$e;Oe++)(gr=Pt[pe.charCodeAt(Oe)])?Wt.push(String.fromCharCode(gr)):Wt.push(pe[Oe]),Wt[Oe].charCodeAt(0)>>8&&(Ht=!0);pe=Wt.join("")}for(Oe=pe.length;Ht===void 0&&Oe!==0;)pe.charCodeAt(Oe-1)>>8&&(Ht=!0),Oe--;if(!Ht)return pe;for(Wt=we.noBOM?[]:[254,255],Oe=0,$e=pe.length;Oe<$e;Oe++){if((rn=(gr=pe.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wt.push(rn),Wt.push(gr-(rn<<8))}return String.fromCharCode.apply(void 0,Wt)})(I,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ls=g.__private__.beginPage=function(I){Ae[++rr]=[],Tt[rr]={objId:0,contentsObjId:0,userUnit:Number(s),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},hl(rr),Ee(Ae[Y])},Df=function(I,Q){var pe,we,Oe;switch(r=Q||r,typeof I=="string"&&(pe=w(I.toLowerCase()),Array.isArray(pe)&&(we=pe[0],Oe=pe[1])),Array.isArray(I)&&(we=I[0]*qe,Oe=I[1]*qe),isNaN(we)&&(we=i[0],Oe=i[1]),(we>14400||Oe>14400)&&(Gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),we=Math.min(14400,we),Oe=Math.min(14400,Oe)),i=[we,Oe],r.substr(0,1)){case"l":Oe>we&&(i=[Oe,we]);break;case"p":we>Oe&&(i=[Oe,we])}Ls(i),yl(Pa),ce(bl),wc!==0&&ce(wc+" J"),xc!==0&&ce(xc+" j"),ar.publish("addPage",{pageNumber:rr})},hu=function(I){I>0&&I<=rr&&(Ae.splice(I,1),Tt.splice(I,1),rr--,Y>rr&&(Y=rr),this.setPage(Y))},hl=function(I){I>0&&I<=rr&&(Y=I)},fa=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ae.length-1},Ff=function(I,Q,pe){var we,Oe=void 0;return pe=pe||{},I=I!==void 0?I:lt[ke].fontName,Q=Q!==void 0?Q:lt[ke].fontStyle,we=I.toLowerCase(),Mt[we]!==void 0&&Mt[we][Q]!==void 0?Oe=Mt[we][Q]:Mt[I]!==void 0&&Mt[I][Q]!==void 0?Oe=Mt[I][Q]:pe.disableWarning===!1&&Gr.warn("Unable to look up font label for font '"+I+"', '"+Q+"'. Refer to getFontList() for available fonts."),Oe||pe.noFallback||(Oe=Mt.times[Q])==null&&(Oe=Mt.times.normal),Oe},bi=g.__private__.putInfo=function(){var I=Ur(),Q=function(we){return we};for(var pe in f!==null&&(Q=xn.encryptor(I,0)),ce("<<"),ce("/Producer ("+ca(Q("jsPDF "+Ct.version))+")"),pt)pt.hasOwnProperty(pe)&&pt[pe]&&ce("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+ca(Q(pt[pe]))+")");ce("/CreationDate ("+ca(Q(U))+")"),ce(">>"),ce("endobj")},Ch=g.__private__.putCatalog=function(I){var Q=(I=I||{}).rootDictionaryObjId||Ns;switch(Ur(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+Q+" 0 R"),tt||(tt="fullwidth"),tt){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+tt;pe.substr(pe.length-1)==="%"&&(tt=parseInt(tt)/100),typeof tt=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+T(tt)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}rt&&ce("/PageMode /"+rt),ar.publish("putCatalog"),ce(">>"),ce("endobj")},In=g.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(ue+1)),ce("/Root "+ue+" 0 R"),ce("/Info "+(ue-1)+" 0 R"),f!==null&&ce("/Encrypt "+xn.oid+" 0 R"),ce("/ID [ <"+z+"> <"+z+"> ]"),ce(">>")},Bf=g.__private__.putHeader=function(){ce("%PDF-"+y),ce("%")},pl=g.__private__.putXRef=function(){var I="0000000000";ce("xref"),ce("0 "+(ue+1)),ce("0000000000 65535 f ");for(var Q=1;Q<=ue;Q++)typeof me[Q]=="function"?ce((I+me[Q]()).slice(-10)+" 00000 n "):me[Q]!==void 0?ce((I+me[Q]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Aa=g.__private__.buildDocument=function(){var I;ue=0,le=0,fe=[],me=[],ve=[],Ns=wn(),Ha=wn(),Ee(fe),ar.publish("buildDocument"),Bf(),Va(),(function(){ar.publish("putAdditionalObjects");for(var pe=0;pe<ve.length;pe++){var we=ve[pe];Ln(we.objId,!0),ce(we.content),ce("endobj")}ar.publish("postPutAdditionalObjects")})(),I=[],(function(){for(var pe in lt)lt.hasOwnProperty(pe)&&(h===!1||h===!0&&p.hasOwnProperty(pe))&&Ts(lt[pe])})(),(function(){var pe;for(pe in Ut)Ut.hasOwnProperty(pe)&&jh(Ut[pe])})(),(function(){for(var pe in Nn)Nn.hasOwnProperty(pe)&&fl(Nn[pe])})(),(function(pe){var we;for(we in It)It.hasOwnProperty(we)&&(It[we]instanceof tf?dl(It[we]):It[we]instanceof Ld&&fu(It[we],pe))})(I),ar.publish("putResources"),I.forEach(Hr),Hr({resourcesOid:Ha,objectOid:Number.MAX_SAFE_INTEGER}),ar.publish("postPutResources"),f!==null&&(xn.oid=Ur(),ce("<<"),ce("/Filter /Standard"),ce("/V "+xn.v),ce("/R "+xn.r),ce("/U <"+xn.toHexString(xn.U)+">"),ce("/O <"+xn.toHexString(xn.O)+">"),ce("/P "+xn.P),ce(">>"),ce("endobj")),bi(),Ch();var Q=le;return pl(),In(),ce("startxref"),ce(""+Q),ce("%%EOF"),Ee(Ae[Y]),fe.join(`
`)},Ga=g.__private__.getBlob=function(I){return new Blob([Ze(I)],{type:"application/pdf"})},Ui=g.output=g.__private__.output=(_a=function(I,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",I){case void 0:return Aa();case"save":g.save(Q.filename);break;case"arraybuffer":return Ze(Aa());case"blob":return Ga(Aa());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(Ga(Aa()))||void 0;Gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",we=Aa();try{pe=kT(we)}catch{pe=kT(unescape(encodeURIComponent(we)))}return"data:application/pdf;filename="+Q.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(Oe=Q.pdfObjectUrl,$e="");var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",wt=Yt.open();return wt!==null&&wt.document.write(Ge),wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',Wt=Yt.open();if(Wt!==null){Wt.document.write(Pt);var Ht=this;Wt.document.documentElement.querySelector("#pdfViewer").onload=function(){Wt.document.title=Q.filename,Wt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Wt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',rn=Yt.open();if(rn!==null&&(rn.document.write(gr),rn.document.title=Q.filename),rn||typeof safari>"u")return rn;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",Q);default:return null}},_a.foo=function(){try{return _a.apply(this,arguments)}catch(pe){var I=pe.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var Q="Error in function "+I.split(`
`)[0].split("<")[0]+": "+pe.message;if(!Yt.console)throw new Error(Q);Yt.console.error(Q,pe),Yt.alert&&alert(Q)}},_a.foo.bar=_a,_a.foo),gl=function(I){return Array.isArray($i)===!0&&$i.indexOf(I)>-1};switch(n){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=gl("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);qe=n}var xn=null;X(),G();var ml=g.__private__.getPageInfo=g.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Tt[I].objId,pageNumber:I,pageContext:Tt[I]}},$f=g.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in Tt)if(Tt[Q].objId===I)break;return ml(Q)},vc=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Tt[Y].objId,pageNumber:Y,pageContext:Tt[Y]}};g.addPage=function(){return Df.apply(this,arguments),this},g.setPage=function(){return hl.apply(this,arguments),Ee.call(this,Ae[Y]),this},g.insertPage=function(I){return this.addPage(),this.movePage(Y,I),this},g.movePage=function(I,Q){var pe,we;if(I>Q){pe=Ae[I],we=Tt[I];for(var Oe=I;Oe>Q;Oe--)Ae[Oe]=Ae[Oe-1],Tt[Oe]=Tt[Oe-1];Ae[Q]=pe,Tt[Q]=we,this.setPage(Q)}else if(I<Q){pe=Ae[I],we=Tt[I];for(var $e=I;$e<Q;$e++)Ae[$e]=Ae[$e+1],Tt[$e]=Tt[$e+1];Ae[Q]=pe,Tt[Q]=we,this.setPage(Q)}return this},g.deletePage=function(){return hu.apply(this,arguments),this},g.__private__.text=g.text=function(I,Q,pe,we,Oe){var $e,Ge,wt,Pt,Wt,Ht,gr,rn,Rn,qr=(we=we||{}).scope||this;if(typeof I=="number"&&typeof Q=="number"&&(typeof pe=="string"||Array.isArray(pe))){var zn=pe;pe=Q,Q=I,I=zn}if(arguments[3]instanceof Dt==0?(wt=arguments[4],Pt=arguments[5],Fr(gr=arguments[3])==="object"&&gr!==null||(typeof wt=="string"&&(Pt=wt,wt=null),typeof gr=="string"&&(Pt=gr,gr=null),typeof gr=="number"&&(wt=gr,gr=null),we={flags:gr,angle:wt,align:Pt})):(C("The transform parameter of text() with a Matrix value"),Rn=Oe),isNaN(Q)||isNaN(pe)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return qr;var _n,si="",Ca=typeof we.lineHeightFactor=="number"?we.lineHeightFactor:qi,zi=qr.internal.scaleFactor;function Hf(mr){return mr=mr.split("	").join(Array(we.TabLen||9).join(" ")),ca(mr,gr)}function Is(mr){for(var kr,fn=mr.concat(),Mn=[],Qa=fn.length;Qa--;)typeof(kr=fn.shift())=="string"?Mn.push(kr):Array.isArray(mr)&&(kr.length===1||kr[1]===void 0&&kr[2]===void 0)?Mn.push(kr[0]):Mn.push([kr[0],kr[1],kr[2]]);return Mn}function Sl(mr,kr){var fn;if(typeof mr=="string")fn=kr(mr)[0];else if(Array.isArray(mr)){for(var Mn,Qa,Ec=mr.concat(),Au=[],is=Ec.length;is--;)typeof(Mn=Ec.shift())=="string"?Au.push(kr(Mn)[0]):Array.isArray(Mn)&&typeof Mn[0]=="string"&&(Qa=kr(Mn[0],Mn[1],Mn[2]),Au.push([Qa[0],Qa[1],Qa[2]]));fn=Au}return fn}var Rs=!1,Al=!0;if(typeof I=="string")Rs=!0;else if(Array.isArray(I)){var Ms=I.concat();Ge=[];for(var Pl,xi=Ms.length;xi--;)(typeof(Pl=Ms.shift())!="string"||Array.isArray(Pl)&&typeof Pl[0]!="string")&&(Al=!1);Rs=Al}if(Rs===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var El=Be/qr.internal.scaleFactor,kl=El*(Ca-1);switch(we.baseline){case"bottom":pe-=kl;break;case"top":pe+=El-kl;break;case"hanging":pe+=El-2*kl;break;case"middle":pe+=El/2-kl}if((Ht=we.maxWidth||0)>0&&(typeof I=="string"?I=qr.splitTextToSize(I,Ht):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(mr,kr){return mr.concat(qr.splitTextToSize(kr,Ht))},[]))),$e={text:I,x:Q,y:pe,options:we,mutex:{pdfEscape:ca,activeFontKey:ke,fonts:lt,activeFontSize:Be}},ar.publish("preProcessText",$e),I=$e.text,wt=(we=$e.options).angle,Rn instanceof Dt==0&&wt&&typeof wt=="number"){wt*=Math.PI/180,we.rotationDirection===0&&(wt=-wt),k===A&&(wt=-wt);var Ac=Math.cos(wt),Pc=Math.sin(wt);Rn=new Dt(Ac,Pc,-Pc,Ac,0,0)}else wt&&wt instanceof Dt&&(Rn=wt);k!==A||Rn||(Rn=Wa),(Wt=we.charSpace||Xa)!==void 0&&(si+=N($(Wt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rn=we.horizontalScale)!==void 0&&(si+=N(100*rn)+` Tz
`),we.lang;var un=-1,Ja=we.renderingMode!==void 0?we.renderingMode:we.stroke,_o=qr.internal.getCurrentPageInfo().pageContext;switch(Ja){case 0:case!1:case"fill":un=0;break;case 1:case!0:case"stroke":un=1;break;case 2:case"fillThenStroke":un=2;break;case 3:case"invisible":un=3;break;case 4:case"fillAndAddForClipping":un=4;break;case 5:case"strokeAndAddPathForClipping":un=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":un=6;break;case 7:case"addToPathForClipping":un=7}var Vf=_o.usedRenderingMode!==void 0?_o.usedRenderingMode:-1;un!==-1?si+=un+` Tr
`:Vf!==-1&&(si+=`0 Tr
`),un!==-1&&(_o.usedRenderingMode=un),Pt=we.align||"left";var ha,Ds=Be*Ca,wu=qr.internal.pageSize.getWidth(),xu=lt[ke];Wt=we.charSpace||Xa,Ht=we.maxWidth||0,gr=Object.assign({autoencode:!0,noBOM:!0},we.flags);var es=[],Na=function(mr){return qr.getStringUnitWidth(mr,{font:xu,charSpace:Wt,fontSize:Be,doKerning:!1})*Be/zi};if(Object.prototype.toString.call(I)==="[object Array]"){var pa;Ge=Is(I),Pt!=="left"&&(ha=Ge.map(Na));var ga,Fs=0;if(Pt==="right"){Q-=ha[0],I=[],xi=Ge.length;for(var So=0;So<xi;So++)So===0?(ga=da(Q),pa=Jo(pe)):(ga=$(Fs-ha[So]),pa=-Ds),I.push([Ge[So],ga,pa]),Fs=ha[So]}else if(Pt==="center"){Q-=ha[0]/2,I=[],xi=Ge.length;for(var ts=0;ts<xi;ts++)ts===0?(ga=da(Q),pa=Jo(pe)):(ga=$((Fs-ha[ts])/2),pa=-Ds),I.push([Ge[ts],ga,pa]),Fs=ha[ts]}else if(Pt==="left"){I=[],xi=Ge.length;for(var rs=0;rs<xi;rs++)I.push(Ge[rs])}else if(Pt==="justify"&&xu.encoding==="Identity-H"){I=[],xi=Ge.length,Ht=Ht!==0?Ht:wu;for(var Ao=0,Sn=0;Sn<xi;Sn++)if(pa=Sn===0?Jo(pe):-Ds,ga=Sn===0?da(Q):Ao,Sn<xi-1){var Ol=$((Ht-ha[Sn])/(Ge[Sn].split(" ").length-1)),Po=Ge[Sn].split(" ");I.push([Po[0]+" ",ga,pa]),Ao=0;for(var Za=1;Za<Po.length;Za++){var jl=(Na(Po[Za-1]+" "+Po[Za])-Na(Po[Za]))*zi+Ol;Za==Po.length-1?I.push([Po[Za],jl,0]):I.push([Po[Za]+" ",jl,0]),Ao-=jl}}else I.push([Ge[Sn],ga,pa]);I.push(["",Ao,0])}else{if(Pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],xi=Ge.length,Ht=Ht!==0?Ht:wu,Sn=0;Sn<xi;Sn++){pa=Sn===0?Jo(pe):-Ds,ga=Sn===0?da(Q):0;var Cl=Ge[Sn].split(" ").length-1,_u=Cl>0?(Ht-ha[Sn])/Cl:0;Sn<xi-1?es.push(N($(_u))):es.push(0),I.push([Ge[Sn],ga,pa])}}}(typeof we.R2L=="boolean"?we.R2L:ut)===!0&&(I=Sl(I,function(mr,kr,fn){return[mr.split("").reverse().join(""),kr,fn]})),$e={text:I,x:Q,y:pe,options:we,mutex:{pdfEscape:ca,activeFontKey:ke,fonts:lt,activeFontSize:Be}},ar.publish("postProcessText",$e),I=$e.text,_n=$e.mutex.isHex||!1;var Su=lt[ke].encoding;Su!=="WinAnsiEncoding"&&Su!=="StandardEncoding"||(I=Sl(I,function(mr,kr,fn){return[Hf(mr),kr,fn]})),Ge=Is(I),I=[];for(var ns,Bs,$s,Nl=Array.isArray(Ge[0])?1:0,Us="",Tl=function(mr,kr,fn){var Mn="";return fn instanceof Dt?(fn=typeof we.angle=="number"?la(fn,new Dt(1,0,0,1,mr,kr)):la(new Dt(1,0,0,1,mr,kr),fn),k===A&&(fn=la(new Dt(1,0,0,-1,0,0),fn)),Mn=fn.join(" ")+` Tm
`):Mn=N(mr)+" "+N(kr)+` Td
`,Mn},cn=0;cn<Ge.length;cn++){switch(Us="",Nl){case 1:$s=(_n?"<":"(")+Ge[cn][0]+(_n?">":")"),ns=parseFloat(Ge[cn][1]),Bs=parseFloat(Ge[cn][2]);break;case 0:$s=(_n?"<":"(")+Ge[cn]+(_n?">":")"),ns=da(Q),Bs=Jo(pe)}es!==void 0&&es[cn]!==void 0&&(Us=es[cn]+` Tw
`),cn===0?I.push(Us+Tl(ns,Bs,Rn)+$s):Nl===0?I.push(Us+$s):Nl===1&&I.push(Us+Tl(ns,Bs,Rn)+$s)}I=Nl===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var Wi=`BT
/`;return Wi+=ke+" "+Be+` Tf
`,Wi+=N(Be*Ca)+` TL
`,Wi+=Ya+`
`,Wi+=si,Wi+=I,ce(Wi+="ET"),p[ke]=!0,qr};var vl=g.__private__.clip=g.clip=function(I){return ce(I==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return vl("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ce("n"),this};var vo=g.__private__.isValidStyle=function(I){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(Q=!0),Q};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(I){return vo(I)&&(u=I),this};var pu=g.__private__.getStyle=g.getStyle=function(I){var Q=u;switch(I){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=I}return Q},pr=g.close=function(){return ce("h"),this};g.stroke=function(){return ce("S"),this},g.fill=function(I){return Yo("f",I),this},g.fillEvenOdd=function(I){return Yo("f*",I),this},g.fillStroke=function(I){return Yo("B",I),this},g.fillStrokeEvenOdd=function(I){return Yo("B*",I),this};var Yo=function(I,Q){Fr(Q)==="object"?Uf(Q,I):ce(I)},gu=function(I){I===null||k===A&&I===void 0||(I=pu(I),ce(I))};function yc(I,Q,pe,we,Oe){var $e=new Ld(Q||this.boundingBox,pe||this.xStep,we||this.yStep,this.gState,Oe||this.matrix);$e.stream=this.stream;var Ge=I+"$$"+this.cloneIndex+++"$$";return yi(Ge,$e),$e}var Uf=function(I,Q){var pe=tr[I.key],we=It[pe];if(we instanceof tf)ce("q"),ce(qf(Q)),we.gState&&g.setGState(we.gState),ce(I.matrix.toString()+" cm"),ce("/"+pe+" sh"),ce("Q");else if(we instanceof Ld){var Oe=new Dt(1,0,0,-1,0,ja());I.matrix&&(Oe=Oe.multiply(I.matrix||Wa),pe=yc.call(we,I.key,I.boundingBox,I.xStep,I.yStep,Oe).id),ce("q"),ce("/Pattern cs"),ce("/"+pe+" scn"),we.gState&&g.setGState(we.gState),ce(Q),ce("Q")}},qf=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},mu=g.moveTo=function(I,Q){return ce(N($(I))+" "+N(F(Q))+" m"),this},Xo=g.lineTo=function(I,Q){return ce(N($(I))+" "+N(F(Q))+" l"),this},Ka=g.curveTo=function(I,Q,pe,we,Oe,$e){return ce([N($(I)),N(F(Q)),N($(pe)),N(F(we)),N($(Oe)),N(F($e)),"c"].join(" ")),this};g.__private__.line=g.line=function(I,Q,pe,we,Oe){if(isNaN(I)||isNaN(Q)||isNaN(pe)||isNaN(we)||!vo(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return k===S?this.lines([[pe-I,we-Q]],I,Q,[1,1],Oe||"S"):this.lines([[pe-I,we-Q]],I,Q,[1,1]).stroke()},g.__private__.lines=g.lines=function(I,Q,pe,we,Oe,$e){var Ge,wt,Pt,Wt,Ht,gr,rn,Rn,qr,zn,_n,si;if(typeof I=="number"&&(si=pe,pe=Q,Q=I,I=si),we=we||[1,1],$e=$e||!1,isNaN(Q)||isNaN(pe)||!Array.isArray(I)||!Array.isArray(we)||!vo(Oe)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(mu(Q,pe),Ge=we[0],wt=we[1],Wt=I.length,zn=Q,_n=pe,Pt=0;Pt<Wt;Pt++)(Ht=I[Pt]).length===2?(zn=Ht[0]*Ge+zn,_n=Ht[1]*wt+_n,Xo(zn,_n)):(gr=Ht[0]*Ge+zn,rn=Ht[1]*wt+_n,Rn=Ht[2]*Ge+zn,qr=Ht[3]*wt+_n,zn=Ht[4]*Ge+zn,_n=Ht[5]*wt+_n,Ka(gr,rn,Rn,qr,zn,_n));return $e&&pr(),gu(Oe),this},g.path=function(I){for(var Q=0;Q<I.length;Q++){var pe=I[Q],we=pe.c;switch(pe.op){case"m":mu(we[0],we[1]);break;case"l":Xo(we[0],we[1]);break;case"c":Ka.apply(this,we);break;case"h":pr()}}return this},g.__private__.rect=g.rect=function(I,Q,pe,we,Oe){if(isNaN(I)||isNaN(Q)||isNaN(pe)||isNaN(we)||!vo(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return k===S&&(we=-we),ce([N($(I)),N(F(Q)),N($(pe)),N($(we)),"re"].join(" ")),gu(Oe),this},g.__private__.triangle=g.triangle=function(I,Q,pe,we,Oe,$e,Ge){if(isNaN(I)||isNaN(Q)||isNaN(pe)||isNaN(we)||isNaN(Oe)||isNaN($e)||!vo(Ge))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-I,we-Q],[Oe-pe,$e-we],[I-Oe,Q-$e]],I,Q,[1,1],Ge,!0),this},g.__private__.roundedRect=g.roundedRect=function(I,Q,pe,we,Oe,$e,Ge){if(isNaN(I)||isNaN(Q)||isNaN(pe)||isNaN(we)||isNaN(Oe)||isNaN($e)||!vo(Ge))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wt=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*pe),$e=Math.min($e,.5*we),this.lines([[pe-2*Oe,0],[Oe*wt,0,Oe,$e-$e*wt,Oe,$e],[0,we-2*$e],[0,$e*wt,-Oe*wt,$e,-Oe,$e],[2*Oe-pe,0],[-Oe*wt,0,-Oe,-$e*wt,-Oe,-$e],[0,2*$e-we],[0,-$e*wt,Oe*wt,-$e,Oe,-$e]],I+Oe,Q,[1,1],Ge,!0),this},g.__private__.ellipse=g.ellipse=function(I,Q,pe,we,Oe){if(isNaN(I)||isNaN(Q)||isNaN(pe)||isNaN(we)||!vo(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*pe,Ge=4/3*(Math.SQRT2-1)*we;return mu(I+pe,Q),Ka(I+pe,Q-Ge,I+$e,Q-we,I,Q-we),Ka(I-$e,Q-we,I-pe,Q-Ge,I-pe,Q),Ka(I-pe,Q+Ge,I-$e,Q+we,I,Q+we),Ka(I+$e,Q+we,I+pe,Q+Ge,I+pe,Q),gu(Oe),this},g.__private__.circle=g.circle=function(I,Q,pe,we){if(isNaN(I)||isNaN(Q)||isNaN(pe)||!vo(we))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,Q,pe,pe,we)},g.setFont=function(I,Q,pe){return pe&&(Q=M(Q,pe)),ke=Ff(I,Q,{disableWarning:!1}),this};var yo=g.__private__.getFont=g.getFont=function(){return lt[Ff.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var I,Q,pe={};for(I in Mt)if(Mt.hasOwnProperty(I))for(Q in pe[I]=[],Mt[I])Mt[I].hasOwnProperty(Q)&&pe[I].push(Q);return pe},g.addFont=function(I,Q,pe,we,Oe){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(pe=M(pe,we)),du.call(this,I,Q,pe,Oe=Oe||"Identity-H")};var qi,Pa=t.lineWidth||.200025,$t=g.__private__.getLineWidth=g.getLineWidth=function(){return Pa},yl=g.__private__.setLineWidth=g.setLineWidth=function(I){return Pa=I,ce(N($(I))+" w"),this};g.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(I,Q){if(I=I||[],Q=Q||0,isNaN(Q)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(pe){return N($(pe))}).join(" "),Q=N($(Q)),ce("["+I+"] "+Q+" d"),this};var bo=g.__private__.getLineHeight=g.getLineHeight=function(){return Be*qi};g.__private__.getLineHeight=g.getLineHeight=function(){return Be*qi};var Nh=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(qi=I),this},zf=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return qi};Nh(t.lineHeight);var da=g.__private__.getHorizontalCoordinate=function(I){return $(I)},Jo=g.__private__.getVerticalCoordinate=function(I){return k===A?I:Tt[Y].mediaBox.topRightY-Tt[Y].mediaBox.bottomLeftY-$(I)},Wf=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(I){return N(da(I))},vu=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(I){return N(Jo(I))},bl=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return mo(bl)},g.__private__.setStrokeColor=g.setDrawColor=function(I,Q,pe,we){return bl=oi({ch1:I,ch2:Q,ch3:pe,ch4:we,pdfColorType:"draw",precision:2}),ce(bl),this};var bc=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return mo(bc)},g.__private__.setFillColor=g.setFillColor=function(I,Q,pe,we){return bc=oi({ch1:I,ch2:Q,ch3:pe,ch4:we,pdfColorType:"fill",precision:2}),ce(bc),this};var Ya=t.textColor||"0 g",wo=g.__private__.getTextColor=g.getTextColor=function(){return mo(Ya)};g.__private__.setTextColor=g.setTextColor=function(I,Q,pe,we){return Ya=oi({ch1:I,ch2:Q,ch3:pe,ch4:we,pdfColorType:"text",precision:3}),this};var Xa=t.charSpace,yu=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Xa||0)};g.__private__.setCharSpace=g.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xa=I,this};var wc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(I){var Q=g.CapJoinStyles[I];if(Q===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wc=Q,ce(Q+" J"),this};var xc=0;g.__private__.setLineJoin=g.setLineJoin=function(I){var Q=g.CapJoinStyles[I];if(Q===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xc=Q,ce(Q+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(N($(I))+" M"),this},g.GState=vv,g.setGState=function(I){(I=typeof I=="string"?Ut[Sr[I]]:Zo(null,I)).equals($r)||(ce("/"+I.id+" gs"),$r=I)};var Zo=function(I,Q){if(!I||!Sr[I]){var pe=!1;for(var we in Ut)if(Ut.hasOwnProperty(we)&&Ut[we].equals(Q)){pe=!0;break}if(pe)Q=Ut[we];else{var Oe="GS"+(Object.keys(Ut).length+1).toString(10);Ut[Oe]=Q,Q.id=Oe}return I&&(Sr[I]=Q.id),ar.publish("addGState",Q),Q}};g.addGState=function(I,Q){return Zo(I,Q),this},g.saveGraphicsState=function(){return ce("q"),lr.push({key:ke,size:Be,color:Ya}),this},g.restoreGraphicsState=function(){ce("Q");var I=lr.pop();return ke=I.key,Be=I.size,Ya=I.color,$r=null,this},g.setCurrentTransformationMatrix=function(I){return ce(I.toString()+" cm"),this},g.comment=function(I){return ce("#"+I),this};var xo=function(I,Q){var pe=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function($e){isNaN($e)||(pe=parseFloat($e))}});var we=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return we},set:function($e){isNaN($e)||(we=parseFloat($e))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function($e){Oe=$e.toString()}}),this},wl=function(I,Q,pe,we){xo.call(this,I,Q),this.type="rect";var Oe=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(Ge){isNaN(Ge)||(Oe=parseFloat(Ge))}});var $e=we||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Ge){isNaN(Ge)||($e=parseFloat(Ge))}}),this},xl=function(){this.page=rr,this.currentPage=Y,this.pages=Ae.slice(0),this.pagesContext=Tt.slice(0),this.x=ze,this.y=st,this.matrix=Nt,this.width=_l(Y),this.height=ka(Y),this.outputDestination=De,this.id="",this.objectNumber=-1};xl.prototype.restore=function(){rr=this.page,Y=this.currentPage,Tt=this.pagesContext,Ae=this.pages,ze=this.x,st=this.y,Nt=this.matrix,_c(Y,this.width),Oa(Y,this.height),De=this.outputDestination};var Ea=function(I,Q,pe,we,Oe){Tn.push(new xl),rr=Y=0,Ae=[],ze=I,st=Q,Nt=Oe,Ls([pe,we])};for(var Qo in g.beginFormObject=function(I,Q,pe,we,Oe){return Ea(I,Q,pe,we,Oe),this},g.endFormObject=function(I){return(function(Q){if(Jn[Q])Tn.pop().restore();else{var pe=new xl,we="Xo"+(Object.keys(Nn).length+1).toString(10);pe.id=we,Jn[Q]=we,Nn[we]=pe,ar.publish("addFormObject",pe),Tn.pop().restore()}})(I),this},g.doFormObject=function(I,Q){var pe=Nn[Jn[I]];return ce("q"),ce(Q.toString()+" cm"),ce("/"+pe.id+" Do"),ce("Q"),this},g.getFormObject=function(I){var Q=Nn[Jn[I]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},g.save=function(I,Q){return I=I||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(Jc(Ga(Aa()),I),typeof Jc.unload=="function"&&Yt.setTimeout&&setTimeout(Jc.unload,911),this):new Promise(function(pe,we){try{var Oe=Jc(Ga(Aa()),I);typeof Jc.unload=="function"&&Yt.setTimeout&&setTimeout(Jc.unload,911),pe(Oe)}catch($e){we($e.message)}})},Ct.API)Ct.API.hasOwnProperty(Qo)&&(Qo==="events"&&Ct.API.events.length?(function(I,Q){var pe,we,Oe;for(Oe=Q.length-1;Oe!==-1;Oe--)pe=Q[Oe][0],we=Q[Oe][1],I.subscribe.apply(I,[pe].concat(typeof we=="function"?[we]:we))})(ar,Ct.API.events):g[Qo]=Ct.API[Qo]);function _l(I){return Tt[I].mediaBox.topRightX-Tt[I].mediaBox.bottomLeftX}function _c(I,Q){Tt[I].mediaBox.topRightX=Q+Tt[I].mediaBox.bottomLeftX}function ka(I){return Tt[I].mediaBox.topRightY-Tt[I].mediaBox.bottomLeftY}function Oa(I,Q){Tt[I].mediaBox.topRightY=Q+Tt[I].mediaBox.bottomLeftY}var Sc=g.getPageWidth=function(I){return _l(I=I||Y)/qe},wi=g.setPageWidth=function(I,Q){_c(I,Q*qe)},ja=g.getPageHeight=function(I){return ka(I=I||Y)/qe},bu=g.setPageHeight=function(I,Q){Oa(I,Q*qe)};return g.internal={pdfEscape:ca,getStyle:pu,getFont:yo,getFontSize:Ve,getCharSpace:yu,getTextColor:wo,getLineHeight:bo,getLineHeightFactor:zf,getLineWidth:$t,write:at,getHorizontalCoordinate:da,getVerticalCoordinate:Jo,getCoordinateString:Wf,getVerticalCoordinateString:vu,collections:{},newObject:Ur,newAdditionalObject:Ko,newObjectDeferred:wn,newObjectDeferredBegin:Ln,getFilters:Sa,putStream:ua,events:ar,scaleFactor:qe,pageSize:{getWidth:function(){return Sc(Y)},setWidth:function(I){wi(Y,I)},getHeight:function(){return ja(Y)},setHeight:function(I){bu(Y,I)}},encryptionOptions:f,encryption:xn,getEncryptor:function(I){return f!==null?xn.encryptor(I,0):function(Q){return Q}},output:Ui,getNumberOfPages:fa,pages:Ae,out:ce,f2:T,f3:L,getPageInfo:ml,getPageInfoByObjId:$f,getCurrentPageInfo:vc,getPDFVersion:b,Point:xo,Rectangle:wl,Matrix:Dt,hasHotfix:gl},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Sc(Y)},set:function(I){wi(Y,I)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return ja(Y)},set:function(I){bu(Y,I)},enumerable:!0,configurable:!0}),(function(I){for(var Q=0,pe=Ye.length;Q<pe;Q++){var we=du.call(this,I[Q][0],I[Q][1],I[Q][2],Ye[Q][3],!0);h===!1&&(p[we]=!0);var Oe=I[Q][0].split("-");Mf({id:we,fontName:Oe[0],fontStyle:Oe[1]||""})}ar.publish("addFonts",{fonts:lt,dictionary:Mt})}).call(g,Ye),ke="F1",Df(i,r),ar.publish("initialized"),g}Od.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Od.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Od.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Od.prototype.processOwnerPassword=function(t,e){return J_(X_(e).substr(0,5),t)},Od.prototype.encryptor=function(t,e){var r=X_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return J_(r,n)}},vv.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Fr(t)!==Fr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ct.API={events:[]},Ct.version="3.0.3";var Un=Ct.API,BA=1,Tf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sd=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Qt=function(t){return t.toFixed(2)},Hu=function(t){return t.toFixed(5)};Un.__acroform__={};var za=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},NT=function(t){return t*BA},Ys=function(t){var e=new FM,r=St.internal.getHeight(t)||0,n=St.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Qt(n)),Number(Qt(r))],e},Fae=Un.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Bae=Un.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},$ae=Un.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Kn=Un.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $ae(t,e-1)},Yn=Un.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Fae(t,e-1)},Xn=Un.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Bae(t,e-1)},Uae=Un.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],s=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+s)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(a)||0,[Number(Qt(l.lowerLeft_X)),Number(Qt(l.lowerLeft_Y)),Number(Qt(l.upperRight_X)),Number(Qt(l.upperRight_Y))]},qae=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Z_(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Qt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Ys(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},Z_=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=r,o=St.internal.getHeight(t)||0;o=o<0?-o:o;var s=St.internal.getWidth(t)||0;s=s<0?-s:s;var l=function(T,L,$){if(T+1<i.length){var F=L+" "+i[T+1][0];return Xm(F,t,$).width<=s-4}return!1};a++;e:for(;a>0;){e="",a--;var u,f,h=Xm("3",t,a).height,p=t.multiline?o-a:(o-h)/2,g=p+=2,y=0,b=0,v=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xm(e,t,a=12).width+", FieldWidth:"+s+`
`;break}for(var w="",S=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var k=!1;if(i[A].length!==1&&v!==i[A].length-1){if((h+2)*(S+2)+2>o)continue e;w+=i[A][v],k=!0,b=A,A--}else{w=(w+=i[A][v]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var j=parseInt(A),O=l(j,w,a),M=A>=i.length-1;if(O&&!M){w+=" ",v=0;continue}if(O||M){if(M)b=j;else if(t.multiline&&(h+2)*(S+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(S+2)+2>o)continue e;b=j}}for(var N="",C=y;C<=b;C++){var H=i[C];if(t.multiline){if(C===b){N+=H[v]+" ",v=(v+1)%H.length;continue}if(C===y){N+=H[H.length-1]+" ";continue}}N+=H[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,f=Xm(N,t,a).width,t.textAlign){case"right":u=s-f-2;break;case"center":u=(s-f)/2;break;default:u=2}e+=Qt(u)+" "+Qt(g)+` Td
`,e+="("+Tf(N)+`) Tj
`,e+=-Qt(u)+` 0 Td
`,g=-(a+2),f=0,y=k?b:b+1,S++,w=""}break}return n.text=e,n.fontSize=a,n},Xm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},zae={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Wae=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Hae=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(js.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(zae)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");BA=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new BM,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Wae(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var s=n[o],l=[],u=s.Rect;if(s.Rect&&(s.Rect=Uae(s.Rect,i)),i.internal.newObjectDeferredBegin(s.objId,!0),s.DA=St.createDefaultAppearanceStream(s),Fr(s)==="object"&&typeof s.getKeyValueListForStream=="function"&&(l=s.getKeyValueListForStream()),s.Rect=u,s.hasAppearanceStream&&!s.appearanceStreamContent){var f=qae(s);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(s.appearanceStreamContent){var h="";for(var p in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(p)){var g=s.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var y=g[o];typeof y=="function"&&(y=y.call(i,s)),h+="/"+o+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=g)=="function"&&(y=y.call(i,s)),h+="/"+o+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:s.objId}),i.internal.out("endobj")}a&&(function(b,v){for(var w in b)if(b.hasOwnProperty(w)){var S=w,A=b[w];v.internal.newObjectDeferredBegin(A.objId,!0),Fr(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete b[S]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},DM=Un.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Fr(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Tf(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Vx=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Tf(n(t))+")"},el=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};el.prototype.toString=function(){return this.objId+" 0 R"},el.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},el.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:DM(i,this.objId,this.scope)}):i instanceof el?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var FM=function(){el.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};za(FM,el);var BM=function(){el.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Tf(r(t))+")"}},set:function(r){t=r}})};za(BM,el);var js=function t(){el.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kn(e,3)},set:function(w){w?this.F=Yn(e,3):this.F=Xn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof yv)return;a="FieldObject"+t.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Tf(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var s="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/BA:u},set:function(w){u=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof yv||this instanceof pf))return Vx(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ci==0?Vx(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof Ci==0?w.substr(0,1)==="("?Sd(w.substr(1,w.length-2)):Sd(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ci==1?Sd(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Ci==1?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ci==0?Vx(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof Ci==0?w.substr(0,1)==="("?Sd(w.substr(1,w.length-2)):Sd(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ci==1?Sd(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof Ci==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(w){w=!!w,b=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,1)},set:function(w){w?this.Ff=Yn(this.Ff,1):this.Ff=Xn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,2)},set:function(w){w?this.Ff=Yn(this.Ff,2):this.Ff=Xn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,3)},set:function(w){w?this.Ff=Yn(this.Ff,3):this.Ff=Xn(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');v=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(v){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};za(js,el);var $d=function(){js.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return DM(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,o,s){s||(s=1);for(var l,u=[];l=o.exec(a);)u.push(l[s]);return u})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,18)},set:function(r){r?this.Ff=Yn(this.Ff,18):this.Ff=Xn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Yn(this.Ff,19):this.Ff=Xn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,20)},set:function(r){r?(this.Ff=Yn(this.Ff,20),e.sort()):this.Ff=Xn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,22)},set:function(r){r?this.Ff=Yn(this.Ff,22):this.Ff=Xn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,23)},set:function(r){r?this.Ff=Yn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,27)},set:function(r){r?this.Ff=Yn(this.Ff,27):this.Ff=Xn(this.Ff,27)}}),this.hasAppearanceStream=!1};za($d,js);var Ud=function(){$d.call(this),this.fontName="helvetica",this.combo=!1};za(Ud,$d);var qd=function(){Ud.call(this),this.combo=!0};za(qd,Ud);var s0=function(){qd.call(this),this.edit=!0};za(s0,qd);var Ci=function(){js.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,15)},set:function(r){r?this.Ff=Yn(this.Ff,15):this.Ff=Xn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,16)},set:function(r){r?this.Ff=Yn(this.Ff,16):this.Ff=Xn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,17)},set:function(r){r?this.Ff=Yn(this.Ff,17):this.Ff=Xn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,26)},set:function(r){r?this.Ff=Yn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Tf(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Fr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};za(Ci,js);var l0=function(){Ci.call(this),this.pushButton=!0};za(l0,Ci);var zd=function(){Ci.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};za(zd,Ci);var yv=function(){var t,e;js.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(s){return s};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+Tf(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Fr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};za(yv,js),zd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},zd.prototype.createOption=function(t){var e=new yv;return e.Parent=this,e.optionName=t,this.Kids.push(e),Vae.call(this.scope,e),e};var u0=function(){Ci.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};za(u0,Ci);var pf=function(){js.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,13)},set:function(e){e?this.Ff=Yn(this.Ff,13):this.Ff=Xn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,21)},set:function(e){e?this.Ff=Yn(this.Ff,21):this.Ff=Xn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,23)},set:function(e){e?this.Ff=Yn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,24)},set:function(e){e?this.Ff=Yn(this.Ff,24):this.Ff=Xn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,25)},set:function(e){e?this.Ff=Yn(this.Ff,25):this.Ff=Xn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,26)},set:function(e){e?this.Ff=Yn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};za(pf,js);var c0=function(){pf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kn(this.Ff,14)},set:function(t){t?this.Ff=Yn(this.Ff,14):this.Ff=Xn(this.Ff,14)}}),this.password=!0};za(c0,pf);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ys(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=Z_(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Qt(St.internal.getWidth(t))+" "+Qt(St.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Qt(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ys(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=St.internal.getHeight(t),o=St.internal.getWidth(t),s=Z_(t,t.caption);return i.push("1 g"),i.push("0 0 "+Qt(o)+" "+Qt(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Qt(o-1)+" "+Qt(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Qt(s.fontSize)+" Tf "+n),i.push(s.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ys(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(St.internal.getWidth(t))+" "+Qt(St.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=St.RadioButton.Circle.YesNormal,e.D[t]=St.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ys(t);e.scope=t.scope;var r=[],n=St.internal.getWidth(t)<=St.internal.getHeight(t)?St.internal.getWidth(t)/4:St.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=St.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Hu(St.internal.getWidth(t)/2)+" "+Hu(St.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ys(t);e.scope=t.scope;var r=[],n=St.internal.getWidth(t)<=St.internal.getHeight(t)?St.internal.getWidth(t)/4:St.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*St.internal.Bezier_C).toFixed(5)),o=Number((n*St.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hu(St.internal.getWidth(t)/2)+" "+Hu(St.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Hu(St.internal.getWidth(t)/2)+" "+Hu(St.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ys(t);e.scope=t.scope;var r=[],n=St.internal.getWidth(t)<=St.internal.getHeight(t)?St.internal.getWidth(t)/4:St.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*St.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hu(St.internal.getWidth(t)/2)+" "+Hu(St.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=St.RadioButton.Cross.YesNormal,e.D[t]=St.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ys(t);e.scope=t.scope;var r=[],n=St.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Qt(St.internal.getWidth(t)-2)+" "+Qt(St.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Qt(n.x1.x)+" "+Qt(n.x1.y)+" m"),r.push(Qt(n.x2.x)+" "+Qt(n.x2.y)+" l"),r.push(Qt(n.x4.x)+" "+Qt(n.x4.y)+" m"),r.push(Qt(n.x3.x)+" "+Qt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ys(t);e.scope=t.scope;var r=St.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Qt(St.internal.getWidth(t))+" "+Qt(St.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Qt(St.internal.getWidth(t)-2)+" "+Qt(St.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Qt(r.x1.x)+" "+Qt(r.x1.y)+" m"),n.push(Qt(r.x2.x)+" "+Qt(r.x2.y)+" l"),n.push(Qt(r.x4.x)+" "+Qt(r.x4.y)+" m"),n.push(Qt(r.x3.x)+" "+Qt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ys(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Qt(St.internal.getWidth(t))+" "+Qt(St.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};St.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=St.internal.getWidth(t),r=St.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},St.internal.getWidth=function(t){var e=0;return Fr(t)==="object"&&(e=NT(t.Rect[2])),e},St.internal.getHeight=function(t){var e=0;return Fr(t)==="object"&&(e=NT(t.Rect[3])),e};var Vae=Un.addField=function(t){if(Hae(this,t),!(t instanceof js))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Un.AcroFormChoiceField=$d,Un.AcroFormListBox=Ud,Un.AcroFormComboBox=qd,Un.AcroFormEditBox=s0,Un.AcroFormButton=Ci,Un.AcroFormPushButton=l0,Un.AcroFormRadioButton=zd,Un.AcroFormCheckBox=u0,Un.AcroFormTextField=pf,Un.AcroFormPasswordField=c0,Un.AcroFormAppearance=St,Un.AcroForm={ChoiceField:$d,ListBox:Ud,ComboBox:qd,EditBox:s0,Button:Ci,PushButton:l0,RadioButton:zd,CheckBox:u0,TextField:pf,PasswordField:c0,Appearance:St},Ct.AcroForm={ChoiceField:$d,ListBox:Ud,ComboBox:qd,EditBox:s0,Button:Ci,PushButton:l0,RadioButton:zd,CheckBox:u0,TextField:pf,PasswordField:c0,Appearance:St};Ct.AcroForm;function $M(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,L){var $,F,U,z,q,G=r;if((L=L||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(O(T))for(q in n)for(U=n[q],$=0;$<U.length;$+=1){for(z=!0,F=0;F<U[$].length;F+=1)if(U[$][F]!==void 0&&U[$][F]!==T[F]){z=!1;break}if(z===!0){G=q;break}}else for(q in n)for(U=n[q],$=0;$<U.length;$+=1){for(z=!0,F=0;F<U[$].length;F+=1)if(U[$][F]!==void 0&&U[$][F]!==T.charCodeAt(F)){z=!1;break}if(z===!0){G=q;break}}return G===r&&L!==r&&(G=L),G},a=function T(L){for(var $=this.internal.write,F=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);L.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:L.width}),z.push({key:"Height",value:L.height}),L.colorSpace===w.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(L.palette.length/3-1)+" "+("sMask"in L&&L.sMask!==void 0?L.objectId+2:L.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+L.colorSpace}),L.colorSpace===w.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:L.bitsPerComponent}),"decodeParameters"in L&&L.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+L.decodeParameters+">>"}),"transparency"in L&&Array.isArray(L.transparency)&&L.transparency.length>0){for(var q="",G=0,K=L.transparency.length;G<K;G++)q+=L.transparency[G]+" "+L.transparency[G]+" ";z.push({key:"Mask",value:"["+q+"]"})}L.sMask!==void 0&&z.push({key:"SMask",value:L.objectId+1+" 0 R"});var te=L.filter!==void 0?["/"+L.filter]:void 0;if(F({data:L.data,additionalKeyValues:z,alreadyAppliedFilters:te,objectId:L.objectId}),$("endobj"),"sMask"in L&&L.sMask!==void 0){var X,D=(X=L.sMaskBitsPerComponent)!==null&&X!==void 0?X:L.bitsPerComponent,Y={width:L.width,height:L.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:L.sMask};"filter"in L&&(Y.decodeParameters="/Predictor ".concat(L.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(L.width),Y.filter=L.filter),T.call(this,Y)}if(L.colorSpace===w.INDEXED){var J=this.internal.newObject();F({data:N(new Uint8Array(L.palette)),objectId:J}),$("endobj")}},o=function(){var T=this.internal.collections[e+"images"];for(var L in T)a.call(this,T[L])},s=function(){var T,L=this.internal.collections[e+"images"],$=this.internal.write;for(var F in L)$("/I"+(T=L[F]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(T){return typeof t["process"+T.toUpperCase()]=="function"},p=function(T){return Fr(T)==="object"&&T.nodeType===1},g=function(T,L){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var $=""+T.getAttribute("src");if($.indexOf("data:image/")===0)return o0(unescape($).split("base64,").pop());var F=t.loadFile($,!0);if(F!==void 0)return F}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var U;switch(L){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;default:U="image/jpeg"}return o0(T.toDataURL(U,1).split("base64,").pop())}},y=function(T){var L=this.internal.collections[e+"images"];if(L){for(var $ in L)if(T===L[$].alias)return L[$]}},b=function(T,L,$){return T||L||(T=-96,L=-96),T<0&&(T=-1*$.width*72/T/this.internal.scaleFactor),L<0&&(L=-1*$.height*72/L/this.internal.scaleFactor),T===0&&(T=L*$.width/$.height),L===0&&(L=T*$.height/$.width),[T,L]},v=function(T,L,$,F,U,z){var q=b.call(this,$,F,U),G=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,te=u.call(this);if($=q[0],F=q[1],te[U.index]=U,z){z*=Math.PI/180;var X=Math.cos(z),D=Math.sin(z),Y=function(ee){return ee.toFixed(4)},J=[Y(X),Y(D),Y(-1*D),Y(X),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,G(T),K(L+F),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([G($),"0","0",G(F),"0","0","cm"].join(" "))):this.internal.write([G($),"0","0",G(F),G(T),K(L+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=t.__addimage__.sHashCode=function(T){var L,$,F=0;if(typeof T=="string")for($=T.length,L=0;L<$;L++)F=(F<<5)-F+T.charCodeAt(L),F|=0;else if(O(T))for($=T.byteLength/2,L=0;L<$;L++)F=(F<<5)-F+T[L],F|=0;return F},k=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var L=!0;return T.length===0&&(L=!1),T.length%4!=0&&(L=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(L=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(L=!1),L},j=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var L=T.indexOf(",");return L<0?null:T.substring(0,L).trim().endsWith("base64")?T.substring(L+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},M=t.__addimage__.binaryStringToUint8Array=function(T){for(var L=T.length,$=new Uint8Array(L),F=0;F<L;F++)$[F]=T.charCodeAt(F);return $},N=t.__addimage__.arrayBufferToBinaryString=function(T){for(var L="",$=O(T)?T:new Uint8Array(T),F=0;F<$.length;F+=8192)L+=String.fromCharCode.apply(null,$.subarray(F,F+8192));return L};t.addImage=function(){var T,L,$,F,U,z,q,G,K;if(typeof arguments[1]=="number"?(L=r,$=arguments[1],F=arguments[2],U=arguments[3],z=arguments[4],q=arguments[5],G=arguments[6],K=arguments[7]):(L=arguments[1],$=arguments[2],F=arguments[3],U=arguments[4],z=arguments[5],q=arguments[6],G=arguments[7],K=arguments[8]),Fr(T=arguments[0])==="object"&&!p(T)&&"imageData"in T){var te=T;T=te.imageData,L=te.format||L||r,$=te.x||$||0,F=te.y||F||0,U=te.w||te.width||U,z=te.h||te.height||z,q=te.alias||q,G=te.compression||G,K=te.rotation||te.angle||K}var X=this.internal.getFilters();if(G===void 0&&X.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN($)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var D=C.call(this,T,L,q,G);return v.call(this,$,F,U,z,D,K),this};var C=function(T,L,$,F){var U,z,q;if(typeof T=="string"&&i(T)===r){T=unescape(T);var G=H(T,!1);(G!==""||(G=t.loadFile(T,!0))!==void 0)&&(T=G)}if(p(T)&&(T=g(T,L)),L=i(T,L),!h(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(((q=$)==null||q.length===0)&&($=(function(K){return typeof K=="string"||O(K)?A(K):O(K.data)?A(K.data):null})(T)),(U=y.call(this,$))||(T instanceof Uint8Array||L==="RGBA"||(z=T,T=M(T)),U=this["process"+L.toUpperCase()](T,f.call(this),$,(function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in t.image_compression?K:S.NONE})(F),z)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},H=t.__addimage__.convertBase64ToBinaryString=function(T,L){L=typeof L!="boolean"||L;var $,F="";if(typeof T=="string"){var U;$=(U=j(T))!==null&&U!==void 0?U:T;try{F=o0($)}catch(z){if(L)throw k($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};t.getImageProperties=function(T){var L,$,F="";if(p(T)&&(T=g(T)),typeof T=="string"&&i(T)===r&&((F=H(T,!1))===""&&(F=t.loadFile(T)||""),T=F),$=i(T),!h($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(T instanceof Uint8Array||(T=M(T)),!(L=this["process"+$.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return L.fileType=$,L}})(Ct.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,h=0;h<u.length&&!f;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var g=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(b.objId),S=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+g(w(S))+") >>",b.content=a;var A=b.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+A,n.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(b.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var O=s(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,o){var s=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+a)},options:o,type:"link"})},t.textWithLink=function(r,n,i,a){var o,s,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){s=a.maxWidth;var f=this.splitTextToSize(r,s).length;o=Math.ceil(u*f)}else s=l,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-u,s,o,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Ct.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},s=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&a(b)&&e[b.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(b){var v=0,w=r,S="",A=0;for(v=0;v<b.length;v+=1)w[b.charCodeAt(v)]!==void 0?(A++,typeof(w=w[b.charCodeAt(v)])=="number"&&(S+=String.fromCharCode(w),w=r,A=0),v===b.length-1&&(w=r,S+=b.charAt(v-(A-1)),v-=A-1,A=0)):(w=r,S+=b.charAt(v-A),v-=A,A=0);return S};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(b,v,w){return o(b)?a(b)===!1?-1:!u(b)||!o(v)&&!o(w)||!o(w)&&s(v)||s(b)&&!o(v)||s(b)&&l(v)||s(b)&&s(v)?0:f(b)&&o(v)&&!s(v)&&o(w)&&u(w)?3:s(b)||!o(w)?1:2:-1},g=function(b){var v=0,w=0,S=0,A="",k="",j="",O=(b=b||"").split("\\s+"),M=[];for(v=0;v<O.length;v+=1){for(M.push(""),w=0;w<O[v].length;w+=1)A=O[v][w],k=O[v][w-1],j=O[v][w+1],o(A)?(S=p(A,k,j),M[v]+=S!==-1?String.fromCharCode(e[A.charCodeAt(0)][S]):A):M[v]+=A;M[v]=h(M[v])}return M.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var b,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(v)){var S=0;for(w=[],S=0;S<v.length;S+=1)Array.isArray(v[S])?w.push([g(v[S][0]),v[S][1],v[S][2]]):w.push([g(v[S])]);b=w}else b=g(v);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",y])})(Ct.API),Ct.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(s){r=s}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(s){n=isNaN(s)||Number.isInteger(s)===!1||s<0?150:s,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(s){i=isNaN(s)||Number.isInteger(s)===!1||s<0?300:s,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(s){a=s}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(s){o=s}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ct.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(b){y=b}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,g=0,y=0,b=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,k){return A.concat(v.splitTextToSize(k,w))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)g<(b=this.getStringUnitWidth(l[S],{font:h})*f)&&(g=b);return g!==0&&(y=l.length),{w:g/=p,h:Math.max((y*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,g&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,f,h,p){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,y,b,v,w=[],S=[],A=[],k={},j={},O=[],M=[],N=(p=p||{}).autoSize||!1,C=p.printHeaders!==!1,H=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,T=p.margins||Object.assign({width:this.getPageWidth()},e),L=typeof p.padding=="number"?p.padding:3,$=p.headerBackgroundColor||"#c8c8c8",F=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=L,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=F,this.setFontSize(H),h==null)S=w=Object.keys(f[0]),A=w.map(function(){return"left"});else if(Array.isArray(h)&&Fr(h[0])==="object")for(w=h.map(function(te){return te.name}),S=h.map(function(te){return te.prompt||te.name||""}),A=h.map(function(te){return te.align||"left"}),g=0;g<h.length;g+=1)j[h[g].name]=.7499990551181103*h[g].width;else Array.isArray(h)&&typeof h[0]=="string"&&(S=w=h,A=w.map(function(){return"left"}));if(N||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<w.length;g+=1){for(k[v=w[g]]=f.map(function(te){return te[v]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(S[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=k[v],this.setFont(void 0,"normal"),b=0;b<y.length;b+=1)O.push(this.getTextDimensions(y[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[v]=Math.max.apply(null,O)+L+L,O=[]}if(C){var U={};for(g=0;g<w.length;g+=1)U[w[g]]={},U[w[g]].text=S[g],U[w[g]].align=A[g];var z=s.call(this,U,j);M=w.map(function(te){return new a(l,u,j[te],z,U[te].text,void 0,U[te].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var q=h.reduce(function(te,X){return te[X.name]=X.align,te},{});for(g=0;g<f.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:f[g]},this);var G=s.call(this,f[g],j);for(b=0;b<w.length;b+=1){var K=f[g][w[b]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:b,data:K},this),o.call(this,new a(l,u,j[w[b]],G,K,g+2,q[w[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var s=function(l,u){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(g){var y=l[g];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/p+f+f},this).reduce(function(g,y){return Math.max(g,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,p.push(f)),f.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(Ct.API);var UM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Q_=$M(qM),zM=[100,200,300,400,500,600,700,800,900],Gae=$M(zM);function Gx(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return UM[a=a||"normal"]?a:"normal"})(t.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof Q_[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function TT(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var Kae={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},LT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function IT(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function RT(t){return t.trimLeft()}function Yae(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Xae(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Jm,MT,DT,Ad,Zm,FT,BT,$T,Kx=["times"];function UT(t,e,r,n,i){var a=4,o=zT;switch(i){case Ct.API.image_compression.FAST:a=1,o=qT;break;case Ct.API.image_compression.MEDIUM:a=6,o=WT;break;case Ct.API.image_compression.SLOW:a=9,o=HT}t=(function(l,u,f,h){for(var p,g=l.length/u,y=new Uint8Array(l.length+g),b=[Jae,qT,zT,WT,HT],v=0;v<g;v+=1){var w=v*u,S=l.subarray(w,w+u);if(h)y.set(h(S,f,p),w+v);else{for(var A=b.length,k=[],j=0;j<A;j+=1)k[j]=b[j](S,f,p);var O=Qae(k.concat());y.set(k[O],w+v)}p=S}return y})(t,e,Math.ceil(r*n/8),o);var s=V_(t,{level:a});return Ct.API.__addimage__.arrayBufferToBinaryString(s)}function Jae(t){var e=Array.apply([],t);return e.unshift(0),e}function qT(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function zT(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var o=r&&r[a]||0;i[a+1]=t[a]-o+256&255}return i}function WT(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var o=t[a-e]||0,s=r&&r[a]||0;i[a+1]=t[a]+256-(o+s>>>1)&255}return i}function HT(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var o=Zae(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function Zae(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function Qae(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Yx(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),o=(1<<r)-1;return WM(t,i)>>a&o}function VT(t,e,r,n){var i=r*n,a=Math.floor(i/8),o=16-(i-8*a+n),s=(1<<n)-1,l=(e&s)<<o;(function(u,f,h){if(f+1<u.byteLength)u.setUint16(f,h,!1);else{var p=h>>8&255;u.setUint8(f,p)}})(t,a,WM(t,a)&~(s<<o)&65535|l)}function WM(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function eoe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var s=null,l=null;a&&(s=e,l=o,e+=3*o);var u=!0,f=[],h=0,p=null,g=0,y=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];h=t[e++]|t[e++]<<8,p=t[e++],1&b||(p=null),g=b>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,k=t[e++],j=k>>6&1,O=1<<1+(7&k),M=s,N=l,C=!1;k>>7&&(C=!0,M=e,N=O,e+=3*O);var H=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}f.push({x:v,y:w,width:S,height:A,has_local_palette:C,palette_offset:M,palette_size:N,data_offset:H,data_length:e-H,transparent_index:p,interlaced:!!j,delay:h,disposal:g});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return y},this.frameInfo=function(L){if(L<0||L>=f.length)throw new Error("Frame index out of range.");return f[L]},this.decodeAndBlitFrameBGRA=function(L,$){var F=this.frameInfo(L),U=F.width*F.height,z=new Uint8Array(U);GT(t,F.data_offset,z,U);var q=F.palette_offset,G=F.transparent_index;G===null&&(G=256);var K=F.width,te=r-K,X=K,D=4*(F.y*r+F.x),Y=4*((F.y+F.height)*r+F.x),J=D,ee=4*te;F.interlaced===!0&&(ee+=4*r*7);for(var ue=8,me=0,fe=z.length;me<fe;++me){var le=z[me];if(X===0&&(X=K,(J+=ee)>=Y&&(ee=4*te+4*r*(ue-1),J=D+(K+te)*(ue<<1),ue>>=1)),le===G)J+=4;else{var ve=t[q+3*le],Ae=t[q+3*le+1],be=t[q+3*le+2];$[J++]=be,$[J++]=Ae,$[J++]=ve,$[J++]=255}--X}},this.decodeAndBlitFrameRGBA=function(L,$){var F=this.frameInfo(L),U=F.width*F.height,z=new Uint8Array(U);GT(t,F.data_offset,z,U);var q=F.palette_offset,G=F.transparent_index;G===null&&(G=256);var K=F.width,te=r-K,X=K,D=4*(F.y*r+F.x),Y=4*((F.y+F.height)*r+F.x),J=D,ee=4*te;F.interlaced===!0&&(ee+=4*r*7);for(var ue=8,me=0,fe=z.length;me<fe;++me){var le=z[me];if(X===0&&(X=K,(J+=ee)>=Y&&(ee=4*te+4*r*(ue-1),J=D+(K+te)*(ue<<1),ue>>=1)),le===G)J+=4;else{var ve=t[q+3*le],Ae=t[q+3*le+1],be=t[q+3*le+2];$[J++]=ve,$[J++]=Ae,$[J++]=be,$[J++]=255}--X}}}function GT(t,e,r,n){for(var i=t[e++],a=1<<i,o=a+1,s=o+1,l=i+1,u=(1<<l)-1,f=0,h=0,p=0,g=t[e++],y=new Int32Array(4096),b=null;;){for(;f<16&&g!==0;)h|=t[e++]<<f,f+=8,g===1?g=t[e++]:--g;if(f<l)break;var v=h&u;if(h>>=l,f-=l,v!==a){if(v===o)break;for(var w=v<s?v:b,S=0,A=w;A>a;)A=y[A]>>8,++S;var k=A;if(p+S+(w!==v?1:0)>n)return void Gr.log("Warning, gif stream longer than expected.");r[p++]=k;var j=p+=S;for(w!==v&&(r[p++]=k),A=w;S--;)A=y[A],r[--j]=255&A,A>>=8;b!==null&&s<4096&&(y[s++]=b<<8|k,s>=u+1&&l<12&&(++l,u=u<<1|1)),b=v}else s=o+1,u=(1<<(l=i+1))-1,b=null}return p!==n&&Gr.log("Warning, gif stream shorter than expected."),r}function Xx(t){var e,r,n,i,a,o=Math.floor,s=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),h=new Array(65535),p=new Array(65535),g=new Array(64),y=new Array(64),b=[],v=0,w=7,S=new Array(64),A=new Array(64),k=new Array(64),j=new Array(256),O=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],L=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(D,Y){for(var J=0,ee=0,ue=new Array,me=1;me<=16;me++){for(var fe=1;fe<=D[me];fe++)ue[Y[ee]]=[],ue[Y[ee]][0]=J,ue[Y[ee]][1]=me,ee++,J++;J*=2}return ue}function q(D){for(var Y=D[0],J=D[1]-1;J>=0;)Y&1<<J&&(v|=1<<w),J--,--w<0&&(v==255?(G(255),G(0)):G(v),w=7,v=0)}function G(D){b.push(D)}function K(D){G(D>>8&255),G(255&D)}function te(D,Y,J,ee,ue){for(var me,fe=ue[0],le=ue[240],ve=(function(Be,tt){var Ve,ut,rt,ft,ct,kt,nr,pt,ke,qe,ze=0;for(ke=0;ke<8;++ke){Ve=Be[ze],ut=Be[ze+1],rt=Be[ze+2],ft=Be[ze+3],ct=Be[ze+4],kt=Be[ze+5],nr=Be[ze+6];var st=Ve+(pt=Be[ze+7]),Nt=Ve-pt,lt=ut+nr,Mt=ut-nr,lr=rt+kt,It=rt-kt,tr=ft+ct,Ut=ft-ct,Sr=st+tr,$r=st-tr,rr=lt+lr,Tt=lt-lr;Be[ze]=Sr+rr,Be[ze+4]=Sr-rr;var ar=.707106781*(Tt+$r);Be[ze+2]=$r+ar,Be[ze+6]=$r-ar;var $i=.382683433*((Sr=Ut+It)-(Tt=Mt+Nt)),Nn=.5411961*Sr+$i,Jn=1.306562965*Tt+$i,Tn=.707106781*(rr=It+Mt),Dt=Nt+Tn,la=Nt-Tn;Be[ze+5]=la+Nn,Be[ze+3]=la-Nn,Be[ze+1]=Dt+Jn,Be[ze+7]=Dt-Jn,ze+=8}for(ze=0,ke=0;ke<8;++ke){Ve=Be[ze],ut=Be[ze+8],rt=Be[ze+16],ft=Be[ze+24],ct=Be[ze+32],kt=Be[ze+40],nr=Be[ze+48];var Wa=Ve+(pt=Be[ze+56]),yi=Ve-pt,_a=ut+nr,Ur=ut-nr,wn=rt+kt,Ln=rt-kt,Ko=ft+ct,Ns=ft-ct,Ha=Wa+Ko,mo=Wa-Ko,oi=_a+wn,Sa=_a-wn;Be[ze]=Ha+oi,Be[ze+32]=Ha-oi;var ua=.707106781*(Sa+mo);Be[ze+16]=mo+ua,Be[ze+48]=mo-ua;var cl=.382683433*((Ha=Ns+Ln)-(Sa=Ur+yi)),Va=.5411961*Ha+cl,Ts=1.306562965*Sa+cl,fl=.707106781*(oi=Ln+Ur),dl=yi+fl,fu=yi-fl;Be[ze+40]=fu+Va,Be[ze+24]=fu-Va,Be[ze+8]=dl+Ts,Be[ze+56]=dl-Ts,ze++}for(ke=0;ke<64;++ke)qe=Be[ke]*tt[ke],g[ke]=qe>0?qe+.5|0:qe-.5|0;return g})(D,Y),Ae=0;Ae<64;++Ae)y[M[Ae]]=ve[Ae];var be=y[0]-J;J=y[0],be==0?q(ee[0]):(q(ee[p[me=32767+be]]),q(h[me]));for(var De=63;De>0&&y[De]==0;)De--;if(De==0)return q(fe),J;for(var Ee,ce=1;ce<=De;){for(var at=ce;y[ce]==0&&ce<=De;)++ce;var Ze=ce-at;if(Ze>=16){Ee=Ze>>4;for(var Ye=1;Ye<=Ee;++Ye)q(le);Ze&=15}me=32767+y[ce],q(ue[(Ze<<4)+p[me]]),q(h[me]),ce++}return De!=63&&q(fe),J}function X(D){D=Math.min(Math.max(D,1),100),a!=D&&((function(Y){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var ue=o((J[ee]*Y+50)/100);ue=Math.min(Math.max(ue,1),255),s[M[ee]]=ue}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var le=o((me[fe]*Y+50)/100);le=Math.min(Math.max(le,1),255),l[M[fe]]=le}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,be=0;be<8;be++)for(var De=0;De<8;De++)u[Ae]=1/(s[M[Ae]]*ve[be]*ve[De]*8),f[Ae]=1/(l[M[Ae]]*ve[be]*ve[De]*8),Ae++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),a=D)}this.encode=function(D,Y){Y&&X(Y),b=new Array,v=0,w=7,K(65496),K(65504),K(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),K(1),K(1),G(0),G(0),(function(){K(65499),K(132),G(0);for(var ut=0;ut<64;ut++)G(s[ut]);G(1);for(var rt=0;rt<64;rt++)G(l[rt])})(),(function(ut,rt){K(65472),K(17),G(8),K(rt),K(ut),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)})(D.width,D.height),(function(){K(65476),K(418),G(0);for(var ut=0;ut<16;ut++)G(N[ut+1]);for(var rt=0;rt<=11;rt++)G(C[rt]);G(16);for(var ft=0;ft<16;ft++)G(H[ft+1]);for(var ct=0;ct<=161;ct++)G(T[ct]);G(1);for(var kt=0;kt<16;kt++)G(L[kt+1]);for(var nr=0;nr<=11;nr++)G($[nr]);G(17);for(var pt=0;pt<16;pt++)G(F[pt+1]);for(var ke=0;ke<=161;ke++)G(U[ke])})(),K(65498),K(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var J=0,ee=0,ue=0;v=0,w=7,this.encode.displayName="_encode_";for(var me,fe,le,ve,Ae,be,De,Ee,ce,at=D.data,Ze=D.width,Ye=D.height,Be=4*Ze,tt=0;tt<Ye;){for(me=0;me<Be;){for(Ae=Be*tt+me,De=-1,Ee=0,ce=0;ce<64;ce++)be=Ae+(Ee=ce>>3)*Be+(De=4*(7&ce)),tt+Ee>=Ye&&(be-=Be*(tt+1+Ee-Ye)),me+De>=Be&&(be-=me+De-Be+4),fe=at[be++],le=at[be++],ve=at[be++],S[ce]=(O[fe]+O[le+256|0]+O[ve+512|0]>>16)-128,A[ce]=(O[fe+768|0]+O[le+1024|0]+O[ve+1280|0]>>16)-128,k[ce]=(O[fe+1280|0]+O[le+1536|0]+O[ve+1792|0]>>16)-128;J=te(S,u,J,e,n),ee=te(A,f,ee,r,i),ue=te(k,f,ue,r,i),me+=32}tt+=8}if(w>=0){var Ve=[];Ve[1]=w+1,Ve[0]=(1<<w+1)-1,q(Ve)}return K(65497),new Uint8Array(b)},t=t||50,(function(){for(var D=String.fromCharCode,Y=0;Y<256;Y++)j[Y]=D(Y)})(),e=z(N,C),r=z(L,$),n=z(H,T),i=z(F,U),(function(){for(var D=1,Y=2,J=1;J<=15;J++){for(var ee=D;ee<Y;ee++)p[32767+ee]=J,h[32767+ee]=[],h[32767+ee][1]=J,h[32767+ee][0]=ee;for(var ue=-(Y-1);ue<=-D;ue++)p[32767+ue]=J,h[32767+ue]=[],h[32767+ue][1]=J,h[32767+ue][0]=Y-1+ue;D<<=1,Y<<=1}})(),(function(){for(var D=0;D<256;D++)O[D]=19595*D,O[D+256|0]=38470*D,O[D+512|0]=7471*D+32768,O[D+768|0]=-11059*D,O[D+1024|0]=-21709*D,O[D+1280|0]=32768*D+8421375,O[D+1536|0]=-27439*D,O[D+1792|0]=-5329*D})(),X(t)}function gs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function KT(t){function e(C){if(!C)throw Error("assert :P")}function r(C,H,T){for(var L=0;4>L;L++)if(C[H+L]!=T.charCodeAt(L))return!0;return!1}function n(C,H,T,L,$){for(var F=0;F<$;F++)C[H+F]=T[L+F]}function i(C,H,T,L){for(var $=0;$<L;$++)C[H+$]=T}function a(C){return new Int32Array(C)}function o(C,H){for(var T=[],L=0;L<C;L++)T.push(new H);return T}function s(C,H){var T=[];return(function L($,F,U){for(var z=U[F],q=0;q<z&&($.push(U.length>F+1?[]:new H),!(U.length<F+1));q++)L($[q],F+1,U)})(T,0,C),T}var l=function(){var C=this;function H(x,E){for(var B=1<<E-1>>>0;x&B;)B>>>=1;return B?(x&B-1)+B:x}function T(x,E,B,V,Z){e(!(V%B));do x[E+(V-=B)]=Z;while(0<V)}function L(x,E,B,V,Z){if(e(2328>=Z),512>=Z)var ne=a(512);else if((ne=a(Z))==null)return 0;return(function(ie,ae,oe,de,xe,Ce){var he,Se,je=ae,Fe=1<<oe,Te=a(16),Re=a(16);for(e(xe!=0),e(de!=null),e(ie!=null),e(0<oe),Se=0;Se<xe;++Se){if(15<de[Se])return 0;++Te[de[Se]]}if(Te[0]==xe)return 0;for(Re[1]=0,he=1;15>he;++he){if(Te[he]>1<<he)return 0;Re[he+1]=Re[he]+Te[he]}for(Se=0;Se<xe;++Se)he=de[Se],0<de[Se]&&(Ce[Re[he]++]=Se);if(Re[15]==1)return(de=new $).g=0,de.value=Ce[0],T(ie,je,1,Fe,de),Fe;var Me,We=-1,He=Fe-1,Et=0,gt=1,Jt=1,xt=1<<oe;for(Se=0,he=1,xe=2;he<=oe;++he,xe<<=1){if(gt+=Jt<<=1,0>(Jt-=Te[he]))return 0;for(;0<Te[he];--Te[he])(de=new $).g=he,de.value=Ce[Se++],T(ie,je+Et,xe,xt,de),Et=H(Et,he)}for(he=oe+1,xe=2;15>=he;++he,xe<<=1){if(gt+=Jt<<=1,0>(Jt-=Te[he]))return 0;for(;0<Te[he];--Te[he]){if(de=new $,(Et&He)!=We){for(je+=xt,Me=1<<(We=he)-oe;15>We&&!(0>=(Me-=Te[We]));)++We,Me<<=1;Fe+=xt=1<<(Me=We-oe),ie[ae+(We=Et&He)].g=Me+oe,ie[ae+We].value=je-ae-We}de.g=he-oe,de.value=Ce[Se++],T(ie,je+(Et>>oe),xe,xt,de),Et=H(Et,he)}}return gt!=2*Re[15]-1?0:Fe})(x,E,B,V,Z,ne)}function $(){this.value=this.g=0}function F(){this.value=this.g=0}function U(){this.G=o(5,$),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Na,F)}function z(x,E,B,V){e(x!=null),e(E!=null),e(2147483648>V),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=E,x.pa=B,x.Jd=E,x.Yc=B+V,x.Zc=4<=V?B+V-4+1:B,fe(x)}function q(x,E){for(var B=0;0<E--;)B|=ve(x,128)<<E;return B}function G(x,E){var B=q(x,E);return le(x)?-B:B}function K(x,E,B,V){var Z,ne=0;for(e(x!=null),e(E!=null),e(4294967288>V),x.Sb=V,x.Ra=0,x.u=0,x.h=0,4<V&&(V=4),Z=0;Z<V;++Z)ne+=E[B+Z]<<8*Z;x.Ra=ne,x.bb=V,x.oa=E,x.pa=B}function te(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Fs-8>>>0,++x.bb,x.u-=8;ee(x)&&(x.h=1,x.u=0)}function X(x,E){if(e(0<=E),!x.h&&E<=ga){var B=J(x)&pa[E];return x.u+=E,te(x),B}return x.h=1,x.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(x){return x.Ra>>>(x.u&Fs-1)>>>0}function ee(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Fs}function ue(x,E){x.u=E,x.h=ee(x)}function me(x){x.u>=So&&(e(x.u>=So),te(x))}function fe(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function le(x){return q(x,1)}function ve(x,E){var B=x.Ca;0>x.b&&fe(x);var V=x.b,Z=B*E>>>8,ne=(x.I>>>V>Z)+0;for(ne?(B-=Z,x.I-=Z+1<<V>>>0):B=Z+1,V=B,Z=0;256<=V;)Z+=8,V>>=8;return V=7^Z+ts[V],x.b-=V,x.Ca=(B<<V)-1,ne}function Ae(x,E,B){x[E+0]=B>>24&255,x[E+1]=B>>16&255,x[E+2]=B>>8&255,x[E+3]=255&B}function be(x,E){return x[E+0]|x[E+1]<<8}function De(x,E){return be(x,E)|x[E+2]<<16}function Ee(x,E){return be(x,E)|be(x,E+2)<<16}function ce(x,E){var B=1<<E;return e(x!=null),e(0<E),x.X=a(B),x.X==null?0:(x.Mb=32-E,x.Xa=E,1)}function at(x,E){e(x!=null),e(E!=null),e(x.Xa==E.Xa),n(E.X,0,x.X,0,1<<E.Xa)}function Ze(){this.X=[],this.Xa=this.Mb=0}function Ye(x,E,B,V){e(B!=null),e(V!=null);var Z=B[0],ne=V[0];return Z==0&&(Z=(x*ne+E/2)/E),ne==0&&(ne=(E*Z+x/2)/x),0>=Z||0>=ne?0:(B[0]=Z,V[0]=ne,1)}function Be(x,E){return x+(1<<E)-1>>>E}function tt(x,E){return((4278255360&x)+(4278255360&E)>>>0&4278255360)+((16711935&x)+(16711935&E)>>>0&16711935)>>>0}function Ve(x,E){C[E]=function(B,V,Z,ne,ie,ae,oe){var de;for(de=0;de<ie;++de){var xe=C[x](ae[oe+de-1],Z,ne+de);ae[oe+de]=tt(B[V+de],xe)}}}function ut(){this.ud=this.hd=this.jd=0}function rt(x,E){return((4278124286&(x^E))>>>1)+(x&E)>>>0}function ft(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function ct(x,E){return ft(x+(x-E+.5>>1))}function kt(x,E,B){return Math.abs(E-B)-Math.abs(x-B)}function nr(x,E,B,V,Z,ne,ie){for(V=ne[ie-1],B=0;B<Z;++B)ne[ie+B]=V=tt(x[E+B],V)}function pt(x,E,B,V,Z){var ne;for(ne=0;ne<B;++ne){var ie=x[E+ne],ae=ie>>8&255,oe=16711935&(oe=(oe=16711935&ie)+((ae<<16)+ae));V[Z+ne]=(4278255360&ie)+oe>>>0}}function ke(x,E){E.jd=255&x,E.hd=x>>8&255,E.ud=x>>16&255}function qe(x,E,B,V,Z,ne){var ie;for(ie=0;ie<V;++ie){var ae=E[B+ie],oe=ae>>>8,de=ae,xe=255&(xe=(xe=ae>>>16)+((x.jd<<24>>24)*(oe<<24>>24)>>>5));de=255&(de=(de+=(x.hd<<24>>24)*(oe<<24>>24)>>>5)+((x.ud<<24>>24)*(xe<<24>>24)>>>5)),Z[ne+ie]=(4278255360&ae)+(xe<<16)+de}}function ze(x,E,B,V,Z){C[E]=function(ne,ie,ae,oe,de,xe,Ce,he,Se){for(oe=Ce;oe<he;++oe)for(Ce=0;Ce<Se;++Ce)de[xe++]=Z(ae[V(ne[ie++])])},C[x]=function(ne,ie,ae,oe,de,xe,Ce){var he=8>>ne.b,Se=ne.Ea,je=ne.K[0],Fe=ne.w;if(8>he)for(ne=(1<<ne.b)-1,Fe=(1<<he)-1;ie<ae;++ie){var Te,Re=0;for(Te=0;Te<Se;++Te)Te&ne||(Re=V(oe[de++])),xe[Ce++]=Z(je[Re&Fe]),Re>>=he}else C["VP8LMapColor"+B](oe,de,je,Fe,xe,Ce,ie,ae,Se)}}function st(x,E,B,V,Z){for(B=E+B;E<B;){var ne=x[E++];V[Z++]=ne>>16&255,V[Z++]=ne>>8&255,V[Z++]=255&ne}}function Nt(x,E,B,V,Z){for(B=E+B;E<B;){var ne=x[E++];V[Z++]=ne>>16&255,V[Z++]=ne>>8&255,V[Z++]=255&ne,V[Z++]=ne>>24&255}}function lt(x,E,B,V,Z){for(B=E+B;E<B;){var ne=(ie=x[E++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;V[Z++]=ne,V[Z++]=ie}}function Mt(x,E,B,V,Z){for(B=E+B;E<B;){var ne=(ie=x[E++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;V[Z++]=ne,V[Z++]=ie}}function lr(x,E,B,V,Z){for(B=E+B;E<B;){var ne=x[E++];V[Z++]=255&ne,V[Z++]=ne>>8&255,V[Z++]=ne>>16&255}}function It(x,E,B,V,Z,ne){if(ne==0)for(B=E+B;E<B;)Ae(V,((ne=x[E++])[0]>>24|ne[1]>>8&65280|ne[2]<<8&16711680|ne[3]<<24)>>>0),Z+=32;else n(V,Z,x,E,B)}function tr(x,E){C[E][0]=C[x+"0"],C[E][1]=C[x+"1"],C[E][2]=C[x+"2"],C[E][3]=C[x+"3"],C[E][4]=C[x+"4"],C[E][5]=C[x+"5"],C[E][6]=C[x+"6"],C[E][7]=C[x+"7"],C[E][8]=C[x+"8"],C[E][9]=C[x+"9"],C[E][10]=C[x+"10"],C[E][11]=C[x+"11"],C[E][12]=C[x+"12"],C[E][13]=C[x+"13"],C[E][14]=C[x+"0"],C[E][15]=C[x+"0"]}function Ut(x){return x==ku||x==Rl||x==Nc||x==Tc}function Sr(){this.eb=[],this.size=this.A=this.fb=0}function $r(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Sr,this.f.kb=new $r,this.sd=null}function Tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ar(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $i(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Nn(x,E){var B=x.T,V=E.ba.f.RGBA,Z=V.eb,ne=V.fb+x.ka*V.A,ie=Vi[E.ba.S],ae=x.y,oe=x.O,de=x.f,xe=x.N,Ce=x.ea,he=x.W,Se=E.cc,je=E.dc,Fe=E.Mc,Te=E.Nc,Re=x.ka,Me=x.ka+x.T,We=x.U,He=We+1>>1;for(Re==0?ie(ae,oe,null,null,de,xe,Ce,he,de,xe,Ce,he,Z,ne,null,null,We):(ie(E.ec,E.fc,ae,oe,Se,je,Fe,Te,de,xe,Ce,he,Z,ne-V.A,Z,ne,We),++B);Re+2<Me;Re+=2)Se=de,je=xe,Fe=Ce,Te=he,xe+=x.Rc,he+=x.Rc,ne+=2*V.A,ie(ae,(oe+=2*x.fa)-x.fa,ae,oe,Se,je,Fe,Te,de,xe,Ce,he,Z,ne-V.A,Z,ne,We);return oe+=x.fa,x.j+Me<x.o?(n(E.ec,E.fc,ae,oe,We),n(E.cc,E.dc,de,xe,He),n(E.Mc,E.Nc,Ce,he,He),B--):1&Me||ie(ae,oe,null,null,de,xe,Ce,he,de,xe,Ce,he,Z,ne+V.A,null,null,We),B}function Jn(x,E,B){var V=x.F,Z=[x.J];if(V!=null){var ne=x.U,ie=E.ba.S,ae=ie==Cc||ie==Nc;E=E.ba.f.RGBA;var oe=[0],de=x.ka;oe[0]=x.T,x.Kb&&(de==0?--oe[0]:(--de,Z[0]-=x.width),x.j+x.ka+x.T==x.o&&(oe[0]=x.o-x.j-de));var xe=E.eb;de=E.fb+de*E.A,x=Oc(V,Z[0],x.width,ne,oe,xe,de+(ae?0:3),E.A),e(B==oe),x&&Ut(ie)&&Il(xe,de,ae,ne,oe,E.A)}return 0}function Tn(x){var E=x.ma,B=E.ba.S,V=11>B,Z=B==qs||B==jc||B==Cc||B==Ir||B==12||Ut(B);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!wu(E.Oa,x,Z?11:12))return 0;if(Z&&Ut(B)&&Hf(),x.da)alert("todo:use_scaling");else{if(V){if(E.Ib=$i,x.Kb){if(B=x.U+1>>1,E.memory=a(x.U+2*B),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+x.U,E.Mc=E.cc,E.Nc=E.dc+B,E.Ib=Nn,Hf()}}else alert("todo:EmitYUV");Z&&(E.Jb=Jn,V&&Ca())}if(V&&!li){for(x=0;256>x;++x)Gi[x]=89858*(x-128)+eo>>as,Ki[x]=-22014*(x-128)+eo,Nu[x]=-45773*(x-128),Bl[x]=113618*(x-128)+eo>>as;for(x=Ar;x<Or;++x)E=76283*(x-16)+eo>>as,Qf[x-Ar]=un(E,255),Vg[x-Ar]=un(E+8>>4,15);li=1}return 1}function Dt(x){var E=x.ma,B=x.U,V=x.T;return e(!(1&x.ka)),0>=B||0>=V?0:(B=E.Ib(x,E),E.Jb!=null&&E.Jb(x,E,B),E.Dc+=B,1)}function la(x){x.ma.memory=null}function Wa(x,E,B,V){return X(x,8)!=47?0:(E[0]=X(x,14)+1,B[0]=X(x,14)+1,V[0]=X(x,1),X(x,3)!=0?0:!x.h)}function yi(x,E){if(4>x)return x+1;var B=x-2>>1;return(2+(1&x)<<B)+X(E,B)+1}function _a(x,E){return 120<E?E-120:1<=(B=((B=Ny[E-1])>>4)*x+(8-(15&B)))?B:1;var B}function Ur(x,E,B){var V=J(B),Z=x[E+=255&V].g-8;return 0<Z&&(ue(B,B.u+8),V=J(B),E+=x[E].value,E+=V&(1<<Z)-1),ue(B,B.u+x[E].g),x[E].value}function wn(x,E,B){return B.g+=x.g,B.value+=x.value<<E>>>0,e(8>=B.g),x.g}function Ln(x,E,B){var V=x.xc;return e((E=V==0?0:x.vc[x.md*(B>>V)+(E>>V)])<x.Wb),x.Ya[E]}function Ko(x,E,B,V){var Z=x.ab,ne=x.c*E,ie=x.C;E=ie+E;var ae=B,oe=V;for(V=x.Ta,B=x.Ua;0<Z--;){var de=x.gc[Z],xe=ie,Ce=E,he=ae,Se=oe,je=(oe=V,ae=B,de.Ea);switch(e(xe<Ce),e(Ce<=de.nc),de.hc){case 2:Sn(he,Se,(Ce-xe)*je,oe,ae);break;case 0:var Fe=xe,Te=Ce,Re=oe,Me=ae,We=(xt=de).Ea;Fe==0&&(rs(he,Se,null,null,1,Re,Me),nr(he,Se+1,0,0,We-1,Re,Me+1),Se+=We,Me+=We,++Fe);for(var He=1<<xt.b,Et=He-1,gt=Be(We,xt.b),Jt=xt.K,xt=xt.w+(Fe>>xt.b)*gt;Fe<Te;){var ur=Jt,dn=xt,Zt=1;for(Ao(he,Se,Re,Me-We,1,Re,Me);Zt<We;){var mt=(Zt&~Et)+He;mt>We&&(mt=We),(0,Cl[ur[dn++]>>8&15])(he,Se+ +Zt,Re,Me+Zt-We,mt-Zt,Re,Me+Zt),Zt=mt}Se+=We,Me+=We,++Fe&Et||(xt+=gt)}Ce!=de.nc&&n(oe,ae-je,oe,ae+(Ce-xe-1)*je,je);break;case 1:for(je=he,Te=Se,We=(he=de.Ea)-(Me=he&~(Re=(Se=1<<de.b)-1)),Fe=Be(he,de.b),He=de.K,de=de.w+(xe>>de.b)*Fe;xe<Ce;){for(Et=He,gt=de,Jt=new ut,xt=Te+Me,ur=Te+he;Te<xt;)ke(Et[gt++],Jt),_u(Jt,je,Te,Se,oe,ae),Te+=Se,ae+=Se;Te<ur&&(ke(Et[gt++],Jt),_u(Jt,je,Te,We,oe,ae),Te+=We,ae+=We),++xe&Re||(de+=Fe)}break;case 3:if(he==oe&&Se==ae&&0<de.b){for(Te=oe,he=je=ae+(Ce-xe)*je-(Me=(Ce-xe)*Be(de.Ea,de.b)),Se=oe,Re=ae,Fe=[],Me=(We=Me)-1;0<=Me;--Me)Fe[Me]=Se[Re+Me];for(Me=We-1;0<=Me;--Me)Te[he+Me]=Fe[Me];Ol(de,xe,Ce,oe,je,oe,ae)}else Ol(de,xe,Ce,he,Se,oe,ae)}ae=V,oe=B}oe!=B&&n(V,B,ae,oe,ne)}function Ns(x,E){var B=x.V,V=x.Ba+x.c*x.C,Z=E-x.C;if(e(E<=x.l.o),e(16>=Z),0<Z){var ne=x.l,ie=x.Ta,ae=x.Ua,oe=ne.width;if(Ko(x,Z,B,V),Z=ae=[ae],e((B=x.C)<(V=E)),e(ne.v<ne.va),V>ne.o&&(V=ne.o),B<ne.j){var de=ne.j-B;B=ne.j,Z[0]+=de*oe}if(B>=V?B=0:(Z[0]+=4*ne.v,ne.ka=B-ne.j,ne.U=ne.va-ne.v,ne.T=V-B,B=1),B){if(ae=ae[0],11>(B=x.ca).S){var xe=B.f.RGBA,Ce=(V=B.S,Z=ne.U,ne=ne.T,de=xe.eb,xe.A),he=ne;for(xe=xe.fb+x.Ma*xe.A;0<he--;){var Se=ie,je=ae,Fe=Z,Te=de,Re=xe;switch(V){case Yf:Su(Se,je,Fe,Te,Re);break;case qs:ns(Se,je,Fe,Te,Re);break;case ku:ns(Se,je,Fe,Te,Re),Il(Te,Re,0,Fe,1,0);break;case Ug:Nl(Se,je,Fe,Te,Re);break;case jc:It(Se,je,Fe,Te,Re,1);break;case Rl:It(Se,je,Fe,Te,Re,1),Il(Te,Re,0,Fe,1,0);break;case Cc:It(Se,je,Fe,Te,Re,0);break;case Nc:It(Se,je,Fe,Te,Re,0),Il(Te,Re,1,Fe,1,0);break;case Ir:Bs(Se,je,Fe,Te,Re);break;case Tc:Bs(Se,je,Fe,Te,Re),Lh(Te,Re,Fe,1,0);break;case Xf:$s(Se,je,Fe,Te,Re);break;default:e(0)}ae+=oe,xe+=Ce}x.Ma+=ne}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=B.height)}}x.C=E,e(x.C<=x.i)}function Ha(x){var E;if(0<x.ua)return 0;for(E=0;E<x.Wb;++E){var B=x.Ya[E].G,V=x.Ya[E].H;if(0<B[1][V[1]+0].g||0<B[2][V[2]+0].g||0<B[3][V[3]+0].g)return 0}return 1}function mo(x,E,B,V,Z,ne){if(x.Z!=0){var ie=x.qd,ae=x.rd;for(e(_i[x.Z]!=null);E<B;++E)_i[x.Z](ie,ae,V,Z,V,Z,ne),ie=V,ae=Z,Z+=ne;x.qd=ie,x.rd=ae}}function oi(x,E){var B=x.l.ma,V=B.Z==0||B.Z==1?x.l.j:x.C;if(V=x.C<V?V:x.C,e(E<=x.l.o),E>V){var Z=x.l.width,ne=B.ca,ie=B.tb+Z*V,ae=x.V,oe=x.Ba+x.c*V,de=x.gc;e(x.ab==1),e(de[0].hc==3),Za(de[0],V,E,ae,oe,ne,ie),mo(B,V,E,ne,ie,Z)}x.C=x.Ma=E}function Sa(x,E,B,V,Z,ne,ie){var ae=x.$/V,oe=x.$%V,de=x.m,xe=x.s,Ce=B+x.$,he=Ce;Z=B+V*Z;var Se=B+V*ne,je=280+xe.ua,Fe=x.Pb?ae:16777216,Te=0<xe.ua?xe.Wa:null,Re=xe.wc,Me=Ce<Se?Ln(xe,oe,ae):null;e(x.C<ne),e(Se<=Z);var We=!1;e:for(;;){for(;We||Ce<Se;){var He=0;if(ae>=Fe){var Et=Ce-B;e((Fe=x).Pb),Fe.wd=Fe.m,Fe.xd=Et,0<Fe.s.ua&&at(Fe.s.Wa,Fe.s.vb),Fe=ae+Zf}if(oe&Re||(Me=Ln(xe,oe,ae)),e(Me!=null),Me.Qb&&(E[Ce]=Me.qb,We=!0),!We)if(me(de),Me.jc){He=de,Et=E;var gt=Ce,Jt=Me.pd[J(He)&Na-1];e(Me.jc),256>Jt.g?(ue(He,He.u+Jt.g),Et[gt]=Jt.value,He=0):(ue(He,He.u+Jt.g-256),e(256<=Jt.value),He=Jt.value),He==0&&(We=!0)}else He=Ur(Me.G[0],Me.H[0],de);if(de.h)break;if(We||256>He){if(!We)if(Me.nd)E[Ce]=(Me.qb|He<<8)>>>0;else{if(me(de),We=Ur(Me.G[1],Me.H[1],de),me(de),Et=Ur(Me.G[2],Me.H[2],de),gt=Ur(Me.G[3],Me.H[3],de),de.h)break;E[Ce]=(gt<<24|We<<16|He<<8|Et)>>>0}if(We=!1,++Ce,++oe>=V&&(oe=0,++ae,ie!=null&&ae<=ne&&!(ae%16)&&ie(x,ae),Te!=null))for(;he<Ce;)He=E[he++],Te.X[(506832829*He&4294967295)>>>Te.Mb]=He}else if(280>He){if(He=yi(He-256,de),Et=Ur(Me.G[4],Me.H[4],de),me(de),Et=_a(V,Et=yi(Et,de)),de.h)break;if(Ce-B<Et||Z-Ce<He)break e;for(gt=0;gt<He;++gt)E[Ce+gt]=E[Ce+gt-Et];for(Ce+=He,oe+=He;oe>=V;)oe-=V,++ae,ie!=null&&ae<=ne&&!(ae%16)&&ie(x,ae);if(e(Ce<=Z),oe&Re&&(Me=Ln(xe,oe,ae)),Te!=null)for(;he<Ce;)He=E[he++],Te.X[(506832829*He&4294967295)>>>Te.Mb]=He}else{if(!(He<je))break e;for(We=He-280,e(Te!=null);he<Ce;)He=E[he++],Te.X[(506832829*He&4294967295)>>>Te.Mb]=He;He=Ce,e(!(We>>>(Et=Te).Xa)),E[He]=Et.X[We],We=!0}We||e(de.h==ee(de))}if(x.Pb&&de.h&&Ce<Z)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&at(x.s.vb,x.s.Wa);else{if(de.h)break e;ie?.(x,ae>ne?ne:ae),x.a=0,x.$=Ce-B}return 1}return x.a=3,0}function ua(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var E=x.Wa;E!=null&&(E.X=null),x.vb=null,e(x!=null)}function cl(){var x=new Pt;return x==null?null:(x.a=0,x.xb=ju,tr("Predictor","VP8LPredictors"),tr("Predictor","VP8LPredictors_C"),tr("PredictorAdd","VP8LPredictorsAdd"),tr("PredictorAdd","VP8LPredictorsAdd_C"),Sn=pt,_u=qe,Su=st,ns=Nt,Bs=lt,$s=Mt,Nl=lr,C.VP8LMapColor32b=Po,C.VP8LMapColor8b=jl,x)}function Va(x,E,B,V,Z){var ne=1,ie=[x],ae=[E],oe=V.m,de=V.s,xe=null,Ce=0;e:for(;;){if(B)for(;ne&&X(oe,1);){var he=ie,Se=ae,je=V,Fe=1,Te=je.m,Re=je.gc[je.ab],Me=X(Te,2);if(je.Oc&1<<Me)ne=0;else{switch(je.Oc|=1<<Me,Re.hc=Me,Re.Ea=he[0],Re.nc=Se[0],Re.K=[null],++je.ab,e(4>=je.ab),Me){case 0:case 1:Re.b=X(Te,3)+2,Fe=Va(Be(Re.Ea,Re.b),Be(Re.nc,Re.b),0,je,Re.K),Re.K=Re.K[0];break;case 3:var We,He=X(Te,8)+1,Et=16<He?0:4<He?1:2<He?2:3;if(he[0]=Be(Re.Ea,Et),Re.b=Et,We=Fe=Va(He,1,0,je,Re.K)){var gt,Jt=He,xt=Re,ur=1<<(8>>xt.b),dn=a(ur);if(dn==null)We=0;else{var Zt=xt.K[0],mt=xt.w;for(dn[0]=xt.K[0][0],gt=1;gt<1*Jt;++gt)dn[gt]=tt(Zt[mt+gt],dn[gt-1]);for(;gt<4*ur;++gt)dn[gt]=0;xt.K[0]=null,xt.K[0]=dn,We=1}}Fe=We;break;case 2:break;default:e(0)}ne=Fe}}if(ie=ie[0],ae=ae[0],ne&&X(oe,1)&&!(ne=1<=(Ce=X(oe,4))&&11>=Ce)){V.a=3;break e}var ot;if(ot=ne)t:{var An,zt,or,zr=V,Zn=ie,Dn=ae,nn=Ce,Wn=B,Qn=zr.m,Xr=zr.s,fr=[null],vr=1,Jr=0,yr=zg[nn];r:for(;;){if(Wn&&X(Qn,1)){var hn=X(Qn,3)+2,pn=Be(Zn,hn),Rr=Be(Dn,hn),Si=pn*Rr;if(!Va(pn,Rr,0,zr,fr))break r;for(fr=fr[0],Xr.xc=hn,An=0;An<Si;++An){var jr=fr[An]>>8&65535;fr[An]=jr,jr>=vr&&(vr=jr+1)}}if(Qn.h)break r;for(zt=0;5>zt;++zt){var Mr=Ml[zt];!zt&&0<nn&&(Mr+=1<<nn),Jr<Mr&&(Jr=Mr)}var Fn=o(vr*yr,$),ui=vr,Yi=o(ui,U);if(Yi==null)var Pn=null;else e(65536>=ui),Pn=Yi;var En=a(Jr);if(Pn==null||En==null||Fn==null){zr.a=1;break r}var Ai=Fn;for(An=or=0;An<vr;++An){var Dr=Pn[An],Pi=Dr.G,Ia=Dr.H,to=0,ei=1,kn=0;for(zt=0;5>zt;++zt){Mr=Ml[zt],Pi[zt]=Ai,Ia[zt]=or,!zt&&0<nn&&(Mr+=1<<nn);i:{var Hs,ss=Mr,Tu=zr,Oo=En,Kg=Ai,Hh=or,Vr=0,ro=Tu.m,Vh=X(ro,1);if(i(Oo,0,0,ss),Vh){var Gh=X(ro,1)+1,ed=X(ro,1),td=X(ro,ed==0?1:8);Oo[td]=1,Gh==2&&(Oo[td=X(ro,8)]=1);var jo=1}else{var Zr=a(19),Bn=X(ro,4)+4;if(19<Bn){Tu.a=3;var On=0;break i}for(Hs=0;Hs<Bn;++Hs)Zr[Cy[Hs]]=X(ro,3);var Lu=void 0,ls=void 0,Iu=Tu,My=Zr,Hn=ss,rd=Oo,Dc=0,Co=Iu.m,no=8,ma=o(128,$);n:for(;L(ma,0,7,My,19);){if(X(Co,1)){var Fc=2+2*X(Co,3);if((Lu=2+X(Co,Fc))>Hn)break n}else Lu=Hn;for(ls=0;ls<Hn&&Lu--;){me(Co);var nd=ma[0+(127&J(Co))];ue(Co,Co.u+nd.g);var Vs=nd.value;if(16>Vs)rd[ls++]=Vs,Vs!=0&&(no=Vs);else{var Yg=Vs==16,Kh=Vs-16,Xg=Jf[Kh],Yh=X(Co,Lc[Kh])+Xg;if(ls+Yh>Hn)break n;for(var Jg=Yg?no:0;0<Yh--;)rd[ls++]=Jg}}Dc=1;break n}Dc||(Iu.a=3),jo=Dc}(jo=jo&&!ro.h)&&(Vr=L(Kg,Hh,8,Oo,ss)),jo&&Vr!=0?On=Vr:(Tu.a=3,On=0)}if(On==0)break r;if(ei&&qg[zt]==1&&(ei=Ai[or].g==0),to+=Ai[or].g,or+=On,3>=zt){var Ru,id=En[0];for(Ru=1;Ru<Mr;++Ru)En[Ru]>id&&(id=En[Ru]);kn+=id}}if(Dr.nd=ei,Dr.Qb=0,ei&&(Dr.qb=(Pi[3][Ia[3]+0].value<<24|Pi[1][Ia[1]+0].value<<16|Pi[2][Ia[2]+0].value)>>>0,to==0&&256>Pi[0][Ia[0]+0].value&&(Dr.Qb=1,Dr.qb+=Pi[0][Ia[0]+0].value<<8)),Dr.jc=!Dr.Qb&&6>kn,Dr.jc){var Bc,va=Dr;for(Bc=0;Bc<Na;++Bc){var us=Bc,io=va.pd[us],Ul=va.G[0][va.H[0]+us];256<=Ul.value?(io.g=Ul.g+256,io.value=Ul.value):(io.g=0,io.value=0,us>>=wn(Ul,8,io),us>>=wn(va.G[1][va.H[1]+us],16,io),us>>=wn(va.G[2][va.H[2]+us],0,io),wn(va.G[3][va.H[3]+us],24,io))}}}Xr.vc=fr,Xr.Wb=vr,Xr.Ya=Pn,Xr.yc=Fn,ot=1;break t}ot=0}if(!(ne=ot)){V.a=3;break e}if(0<Ce){if(de.ua=1<<Ce,!ce(de.Wa,Ce)){V.a=1,ne=0;break e}}else de.ua=0;var ad=V,od=ie,Zg=ae,sd=ad.s,ld=sd.xc;if(ad.c=od,ad.i=Zg,sd.md=Be(od,ld),sd.wc=ld==0?-1:(1<<ld)-1,B){V.xb=ko;break e}if((xe=a(ie*ae))==null){V.a=1,ne=0;break e}ne=(ne=Sa(V,xe,0,ie,ae,ae,null))&&!oe.h;break e}return ne?(Z!=null?Z[0]=xe:(e(xe==null),e(B)),V.$=0,B||ua(de)):ua(de),ne}function Ts(x,E){var B=x.c*x.i,V=B+E+16*E;return e(x.c<=E),x.V=a(V),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+B+E,1)}function fl(x,E){var B=x.C,V=E-B,Z=x.V,ne=x.Ba+x.c*B;for(e(E<=x.l.o);0<V;){var ie=16<V?16:V,ae=x.l.ma,oe=x.l.width,de=oe*ie,xe=ae.ca,Ce=ae.tb+oe*B,he=x.Ta,Se=x.Ua;Ko(x,ie,Z,ne),Ih(he,Se,xe,Ce,de),mo(ae,B,B+ie,xe,Ce,oe),V-=ie,Z+=ie*x.c,B+=ie}e(B==E),x.C=x.Ma=E}function dl(){this.ub=this.yd=this.td=this.Rb=0}function fu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jh(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Hr(){this.Yb=(function(){var x=[];return(function E(B,V,Z){for(var ne=Z[V],ie=0;ie<ne&&(B.push(Z.length>V+1?[]:0),!(Z.length<V+1));ie++)E(B[ie],V+1,Z)})(x,0,[3,11]),x})()}function Mf(){this.jb=a(3),this.Wc=s([4,8],Hr),this.Xc=s([4,17],Hr)}function du(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ca(){this.ld=this.La=this.dd=this.tc=0}function Ls(){this.Na=this.la=0}function Df(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function hu(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hl(){this.uc=this.M=this.Nb=0,this.wa=Array(new ca),this.Y=0,this.ya=Array(new hu),this.aa=0,this.l=new bi}function fa(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ff(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new dl,this.Kc=new fu,this.ed=new du,this.Qa=new jh,this.Ic=this.$c=this.Aa=0,this.D=new hl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,D),this.ia=0,this.pb=o(4,Df),this.Pa=new Mf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fa),this.Hd=0,this.rb=Array(new Ls),this.sb=0,this.wa=Array(new ca),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new hu),this.L=this.aa=0,this.gd=s([4,2],ca),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ch(){var x=new Ff;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Dl||(Dl=Aa)),x}function In(x,E,B){return x.a==0&&(x.a=E,x.sc=B,x.cb=0),0}function Bf(x,E,B){return 3<=B&&x[E+0]==157&&x[E+1]==1&&x[E+2]==42}function pl(x,E){if(x==null)return 0;if(x.a=0,x.sc="OK",E==null)return In(x,2,"null VP8Io passed to VP8GetHeaders()");var B=E.data,V=E.w,Z=E.ha;if(4>Z)return In(x,7,"Truncated header.");var ne=B[V+0]|B[V+1]<<8|B[V+2]<<16,ie=x.Od;if(ie.Rb=!(1&ne),ie.td=ne>>1&7,ie.yd=ne>>4&1,ie.ub=ne>>5,3<ie.td)return In(x,3,"Incorrect keyframe parameters.");if(!ie.yd)return In(x,4,"Frame not displayable.");V+=3,Z-=3;var ae=x.Kc;if(ie.Rb){if(7>Z)return In(x,7,"cannot parse picture header");if(!Bf(B,V,Z))return In(x,3,"Bad code word");ae.c=16383&(B[V+4]<<8|B[V+3]),ae.Td=B[V+4]>>6,ae.i=16383&(B[V+6]<<8|B[V+5]),ae.Ud=B[V+6]>>6,V+=7,Z-=7,x.za=ae.c+15>>4,x.Ub=ae.i+15>>4,E.width=ae.c,E.height=ae.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,i((ne=x.Pa).jb,0,255,ne.jb.length),e((ne=x.Qa)!=null),ne.Cb=0,ne.Bb=0,ne.Fb=1,i(ne.Zb,0,0,ne.Zb.length),i(ne.Lb,0,0,ne.Lb)}if(ie.ub>Z)return In(x,7,"bad partition length");z(ne=x.m,B,V,ie.ub),V+=ie.ub,Z-=ie.ub,ie.Rb&&(ae.Ld=le(ne),ae.Kd=le(ne)),ae=x.Qa;var oe,de=x.Pa;if(e(ne!=null),e(ae!=null),ae.Cb=le(ne),ae.Cb){if(ae.Bb=le(ne),le(ne)){for(ae.Fb=le(ne),oe=0;4>oe;++oe)ae.Zb[oe]=le(ne)?G(ne,7):0;for(oe=0;4>oe;++oe)ae.Lb[oe]=le(ne)?G(ne,6):0}if(ae.Bb)for(oe=0;3>oe;++oe)de.jb[oe]=le(ne)?q(ne,8):255}else ae.Bb=0;if(ne.Ka)return In(x,3,"cannot parse segment header");if((ae=x.ed).zd=le(ne),ae.Tb=q(ne,6),ae.wb=q(ne,3),ae.Pc=le(ne),ae.Pc&&le(ne)){for(de=0;4>de;++de)le(ne)&&(ae.vd[de]=G(ne,6));for(de=0;4>de;++de)le(ne)&&(ae.od[de]=G(ne,6))}if(x.L=ae.Tb==0?0:ae.zd?1:2,ne.Ka)return In(x,3,"cannot parse filter header");var xe=Z;if(Z=oe=V,V=oe+xe,ae=xe,x.Xb=(1<<q(x.m,2))-1,xe<3*(de=x.Xb))B=7;else{for(oe+=3*de,ae-=3*de,xe=0;xe<de;++xe){var Ce=B[Z+0]|B[Z+1]<<8|B[Z+2]<<16;Ce>ae&&(Ce=ae),z(x.Jc[+xe],B,oe,Ce),oe+=Ce,ae-=Ce,Z+=3}z(x.Jc[+de],B,oe,ae),B=oe<V?0:5}if(B!=0)return In(x,B,"cannot parse partitions");for(B=q(oe=x.m,7),Z=le(oe)?G(oe,4):0,V=le(oe)?G(oe,4):0,ae=le(oe)?G(oe,4):0,de=le(oe)?G(oe,4):0,oe=le(oe)?G(oe,4):0,xe=x.Qa,Ce=0;4>Ce;++Ce){if(xe.Cb){var he=xe.Zb[Ce];xe.Fb||(he+=B)}else{if(0<Ce){x.pb[Ce]=x.pb[0];continue}he=B}var Se=x.pb[Ce];Se.Sc[0]=Ou[un(he+Z,127)],Se.Sc[1]=Ic[un(he+0,127)],Se.Eb[0]=2*Ou[un(he+V,127)],Se.Eb[1]=101581*Ic[un(he+ae,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Ou[un(he+de,117)],Se.Qc[1]=Ic[un(he+oe,127)],Se.lc=he+oe}if(!ie.Rb)return In(x,4,"Not a key frame.");for(le(ne),ie=x.Pa,B=0;4>B;++B){for(Z=0;8>Z;++Z)for(V=0;3>V;++V)for(ae=0;11>ae;++ae)de=ve(ne,Ly[B][Z][V][ae])?q(ne,8):Hg[B][Z][V][ae],ie.Wc[B][Z].Yb[V][ae]=de;for(Z=0;17>Z;++Z)ie.Xc[B][Z]=ie.Wc[B][qh[Z]]}return x.kc=le(ne),x.kc&&(x.Bd=q(ne,8)),x.cb=1}function Aa(x,E,B,V,Z,ne,ie){var ae=E[Z].Yb[B];for(B=0;16>Z;++Z){if(!ve(x,ae[B+0]))return Z;for(;!ve(x,ae[B+1]);)if(ae=E[++Z].Yb[0],B=0,Z==16)return 16;var oe=E[Z+1].Yb;if(ve(x,ae[B+2])){var de=x,xe=0;if(ve(de,(he=ae)[(Ce=B)+3]))if(ve(de,he[Ce+6])){for(ae=0,Ce=2*(xe=ve(de,he[Ce+8]))+(he=ve(de,he[Ce+9+xe])),xe=0,he=$h[Ce];he[ae];++ae)xe+=xe+ve(de,he[ae]);xe+=3+(8<<Ce)}else ve(de,he[Ce+7])?(xe=7+2*ve(de,165),xe+=ve(de,145)):xe=5+ve(de,159);else xe=ve(de,he[Ce+4])?3+ve(de,he[Ce+5]):2;ae=oe[2]}else xe=1,ae=oe[1];oe=ie+Uh[Z],0>(de=x).b&&fe(de);var Ce,he=de.b,Se=(Ce=de.Ca>>1)-(de.I>>he)>>31;--de.b,de.Ca+=Se,de.Ca|=1,de.I-=(Ce+1&Se)<<he,ne[oe]=((xe^Se)-Se)*V[(0<Z)+0]}return 16}function Ga(x){var E=x.rb[x.sb-1];E.la=0,E.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function Ui(x,E,B,V,Z){Z=x[E+B+32*V]+(Z>>3),x[E+B+32*V]=-256&Z?0>Z?0:255:Z}function gl(x,E,B,V,Z,ne){Ui(x,E,0,B,V+Z),Ui(x,E,1,B,V+ne),Ui(x,E,2,B,V-ne),Ui(x,E,3,B,V-Z)}function xn(x){return(20091*x>>16)+x}function ml(x,E,B,V){var Z,ne=0,ie=a(16);for(Z=0;4>Z;++Z){var ae=x[E+0]+x[E+8],oe=x[E+0]-x[E+8],de=(35468*x[E+4]>>16)-xn(x[E+12]),xe=xn(x[E+4])+(35468*x[E+12]>>16);ie[ne+0]=ae+xe,ie[ne+1]=oe+de,ie[ne+2]=oe-de,ie[ne+3]=ae-xe,ne+=4,E++}for(Z=ne=0;4>Z;++Z)ae=(x=ie[ne+0]+4)+ie[ne+8],oe=x-ie[ne+8],de=(35468*ie[ne+4]>>16)-xn(ie[ne+12]),Ui(B,V,0,0,ae+(xe=xn(ie[ne+4])+(35468*ie[ne+12]>>16))),Ui(B,V,1,0,oe+de),Ui(B,V,2,0,oe-de),Ui(B,V,3,0,ae-xe),ne++,V+=32}function $f(x,E,B,V){var Z=x[E+0]+4,ne=35468*x[E+4]>>16,ie=xn(x[E+4]),ae=35468*x[E+1]>>16;gl(B,V,0,Z+ie,x=xn(x[E+1]),ae),gl(B,V,1,Z+ne,x,ae),gl(B,V,2,Z-ne,x,ae),gl(B,V,3,Z-ie,x,ae)}function vc(x,E,B,V,Z){ml(x,E,B,V),Z&&ml(x,E+16,B,V+4)}function vl(x,E,B,V){Tl(x,E+0,B,V,1),Tl(x,E+32,B,V+128,1)}function vo(x,E,B,V){var Z;for(x=x[E+0]+4,Z=0;4>Z;++Z)for(E=0;4>E;++E)Ui(B,V,E,Z,x)}function pu(x,E,B,V){x[E+0]&&mr(x,E+0,B,V),x[E+16]&&mr(x,E+16,B,V+4),x[E+32]&&mr(x,E+32,B,V+128),x[E+48]&&mr(x,E+48,B,V+128+4)}function pr(x,E,B,V){var Z,ne=a(16);for(Z=0;4>Z;++Z){var ie=x[E+0+Z]+x[E+12+Z],ae=x[E+4+Z]+x[E+8+Z],oe=x[E+4+Z]-x[E+8+Z],de=x[E+0+Z]-x[E+12+Z];ne[0+Z]=ie+ae,ne[8+Z]=ie-ae,ne[4+Z]=de+oe,ne[12+Z]=de-oe}for(Z=0;4>Z;++Z)ie=(x=ne[0+4*Z]+3)+ne[3+4*Z],ae=ne[1+4*Z]+ne[2+4*Z],oe=ne[1+4*Z]-ne[2+4*Z],de=x-ne[3+4*Z],B[V+0]=ie+ae>>3,B[V+16]=de+oe>>3,B[V+32]=ie-ae>>3,B[V+48]=de-oe>>3,V+=64}function Yo(x,E,B){var V,Z=E-32,ne=Li,ie=255-x[Z-1];for(V=0;V<B;++V){var ae,oe=ne,de=ie+x[E-1];for(ae=0;ae<B;++ae)x[E+ae]=oe[de+x[Z+ae]];E+=32}}function gu(x,E){Yo(x,E,4)}function yc(x,E){Yo(x,E,8)}function Uf(x,E){Yo(x,E,16)}function qf(x,E){var B;for(B=0;16>B;++B)n(x,E+32*B,x,E-32,16)}function mu(x,E){var B;for(B=16;0<B;--B)i(x,E,x[E-1],16),E+=32}function Xo(x,E,B){var V;for(V=0;16>V;++V)i(E,B+32*V,x,16)}function Ka(x,E){var B,V=16;for(B=0;16>B;++B)V+=x[E-1+32*B]+x[E+B-32];Xo(V>>5,x,E)}function yo(x,E){var B,V=8;for(B=0;16>B;++B)V+=x[E-1+32*B];Xo(V>>4,x,E)}function qi(x,E){var B,V=8;for(B=0;16>B;++B)V+=x[E+B-32];Xo(V>>4,x,E)}function Pa(x,E){Xo(128,x,E)}function $t(x,E,B){return x+2*E+B+2>>2}function yl(x,E){var B,V=E-32;for(V=new Uint8Array([$t(x[V-1],x[V+0],x[V+1]),$t(x[V+0],x[V+1],x[V+2]),$t(x[V+1],x[V+2],x[V+3]),$t(x[V+2],x[V+3],x[V+4])]),B=0;4>B;++B)n(x,E+32*B,V,0,V.length)}function bo(x,E){var B=x[E-1],V=x[E-1+32],Z=x[E-1+64],ne=x[E-1+96];Ae(x,E+0,16843009*$t(x[E-1-32],B,V)),Ae(x,E+32,16843009*$t(B,V,Z)),Ae(x,E+64,16843009*$t(V,Z,ne)),Ae(x,E+96,16843009*$t(Z,ne,ne))}function Nh(x,E){var B,V=4;for(B=0;4>B;++B)V+=x[E+B-32]+x[E-1+32*B];for(V>>=3,B=0;4>B;++B)i(x,E+32*B,V,4)}function zf(x,E){var B=x[E-1+0],V=x[E-1+32],Z=x[E-1+64],ne=x[E-1-32],ie=x[E+0-32],ae=x[E+1-32],oe=x[E+2-32],de=x[E+3-32];x[E+0+96]=$t(V,Z,x[E-1+96]),x[E+1+96]=x[E+0+64]=$t(B,V,Z),x[E+2+96]=x[E+1+64]=x[E+0+32]=$t(ne,B,V),x[E+3+96]=x[E+2+64]=x[E+1+32]=x[E+0+0]=$t(ie,ne,B),x[E+3+64]=x[E+2+32]=x[E+1+0]=$t(ae,ie,ne),x[E+3+32]=x[E+2+0]=$t(oe,ae,ie),x[E+3+0]=$t(de,oe,ae)}function da(x,E){var B=x[E+1-32],V=x[E+2-32],Z=x[E+3-32],ne=x[E+4-32],ie=x[E+5-32],ae=x[E+6-32],oe=x[E+7-32];x[E+0+0]=$t(x[E+0-32],B,V),x[E+1+0]=x[E+0+32]=$t(B,V,Z),x[E+2+0]=x[E+1+32]=x[E+0+64]=$t(V,Z,ne),x[E+3+0]=x[E+2+32]=x[E+1+64]=x[E+0+96]=$t(Z,ne,ie),x[E+3+32]=x[E+2+64]=x[E+1+96]=$t(ne,ie,ae),x[E+3+64]=x[E+2+96]=$t(ie,ae,oe),x[E+3+96]=$t(ae,oe,oe)}function Jo(x,E){var B=x[E-1+0],V=x[E-1+32],Z=x[E-1+64],ne=x[E-1-32],ie=x[E+0-32],ae=x[E+1-32],oe=x[E+2-32],de=x[E+3-32];x[E+0+0]=x[E+1+64]=ne+ie+1>>1,x[E+1+0]=x[E+2+64]=ie+ae+1>>1,x[E+2+0]=x[E+3+64]=ae+oe+1>>1,x[E+3+0]=oe+de+1>>1,x[E+0+96]=$t(Z,V,B),x[E+0+64]=$t(V,B,ne),x[E+0+32]=x[E+1+96]=$t(B,ne,ie),x[E+1+32]=x[E+2+96]=$t(ne,ie,ae),x[E+2+32]=x[E+3+96]=$t(ie,ae,oe),x[E+3+32]=$t(ae,oe,de)}function Wf(x,E){var B=x[E+0-32],V=x[E+1-32],Z=x[E+2-32],ne=x[E+3-32],ie=x[E+4-32],ae=x[E+5-32],oe=x[E+6-32],de=x[E+7-32];x[E+0+0]=B+V+1>>1,x[E+1+0]=x[E+0+64]=V+Z+1>>1,x[E+2+0]=x[E+1+64]=Z+ne+1>>1,x[E+3+0]=x[E+2+64]=ne+ie+1>>1,x[E+0+32]=$t(B,V,Z),x[E+1+32]=x[E+0+96]=$t(V,Z,ne),x[E+2+32]=x[E+1+96]=$t(Z,ne,ie),x[E+3+32]=x[E+2+96]=$t(ne,ie,ae),x[E+3+64]=$t(ie,ae,oe),x[E+3+96]=$t(ae,oe,de)}function vu(x,E){var B=x[E-1+0],V=x[E-1+32],Z=x[E-1+64],ne=x[E-1+96];x[E+0+0]=B+V+1>>1,x[E+2+0]=x[E+0+32]=V+Z+1>>1,x[E+2+32]=x[E+0+64]=Z+ne+1>>1,x[E+1+0]=$t(B,V,Z),x[E+3+0]=x[E+1+32]=$t(V,Z,ne),x[E+3+32]=x[E+1+64]=$t(Z,ne,ne),x[E+3+64]=x[E+2+64]=x[E+0+96]=x[E+1+96]=x[E+2+96]=x[E+3+96]=ne}function bl(x,E){var B=x[E-1+0],V=x[E-1+32],Z=x[E-1+64],ne=x[E-1+96],ie=x[E-1-32],ae=x[E+0-32],oe=x[E+1-32],de=x[E+2-32];x[E+0+0]=x[E+2+32]=B+ie+1>>1,x[E+0+32]=x[E+2+64]=V+B+1>>1,x[E+0+64]=x[E+2+96]=Z+V+1>>1,x[E+0+96]=ne+Z+1>>1,x[E+3+0]=$t(ae,oe,de),x[E+2+0]=$t(ie,ae,oe),x[E+1+0]=x[E+3+32]=$t(B,ie,ae),x[E+1+32]=x[E+3+64]=$t(V,B,ie),x[E+1+64]=x[E+3+96]=$t(Z,V,B),x[E+1+96]=$t(ne,Z,V)}function bc(x,E){var B;for(B=0;8>B;++B)n(x,E+32*B,x,E-32,8)}function Ya(x,E){var B;for(B=0;8>B;++B)i(x,E,x[E-1],8),E+=32}function wo(x,E,B){var V;for(V=0;8>V;++V)i(E,B+32*V,x,8)}function Xa(x,E){var B,V=8;for(B=0;8>B;++B)V+=x[E+B-32]+x[E-1+32*B];wo(V>>4,x,E)}function yu(x,E){var B,V=4;for(B=0;8>B;++B)V+=x[E+B-32];wo(V>>3,x,E)}function wc(x,E){var B,V=4;for(B=0;8>B;++B)V+=x[E-1+32*B];wo(V>>3,x,E)}function xc(x,E){wo(128,x,E)}function Zo(x,E,B){var V=x[E-B],Z=x[E+0],ne=3*(Z-V)+Eo[1020+x[E-2*B]-x[E+B]],ie=Eu[112+(ne+4>>3)];x[E-B]=Li[255+V+Eu[112+(ne+3>>3)]],x[E+0]=Li[255+Z-ie]}function xo(x,E,B,V){var Z=x[E+0],ne=x[E+B];return Ta[255+x[E-2*B]-x[E-B]]>V||Ta[255+ne-Z]>V}function wl(x,E,B,V){return 4*Ta[255+x[E-B]-x[E+0]]+Ta[255+x[E-2*B]-x[E+B]]<=V}function xl(x,E,B,V,Z){var ne=x[E-3*B],ie=x[E-2*B],ae=x[E-B],oe=x[E+0],de=x[E+B],xe=x[E+2*B],Ce=x[E+3*B];return 4*Ta[255+ae-oe]+Ta[255+ie-de]>V?0:Ta[255+x[E-4*B]-ne]<=Z&&Ta[255+ne-ie]<=Z&&Ta[255+ie-ae]<=Z&&Ta[255+Ce-xe]<=Z&&Ta[255+xe-de]<=Z&&Ta[255+de-oe]<=Z}function Ea(x,E,B,V){var Z=2*V+1;for(V=0;16>V;++V)wl(x,E+V,B,Z)&&Zo(x,E+V,B)}function Qo(x,E,B,V){var Z=2*V+1;for(V=0;16>V;++V)wl(x,E+V*B,1,Z)&&Zo(x,E+V*B,1)}function _l(x,E,B,V){var Z;for(Z=3;0<Z;--Z)Ea(x,E+=4*B,B,V)}function _c(x,E,B,V){var Z;for(Z=3;0<Z;--Z)Qo(x,E+=4,B,V)}function ka(x,E,B,V,Z,ne,ie,ae){for(ne=2*ne+1;0<Z--;){if(xl(x,E,B,ne,ie))if(xo(x,E,B,ae))Zo(x,E,B);else{var oe=x,de=E,xe=B,Ce=oe[de-2*xe],he=oe[de-xe],Se=oe[de+0],je=oe[de+xe],Fe=oe[de+2*xe],Te=27*(Me=Eo[1020+3*(Se-he)+Eo[1020+Ce-je]])+63>>7,Re=18*Me+63>>7,Me=9*Me+63>>7;oe[de-3*xe]=Li[255+oe[de-3*xe]+Me],oe[de-2*xe]=Li[255+Ce+Re],oe[de-xe]=Li[255+he+Te],oe[de+0]=Li[255+Se-Te],oe[de+xe]=Li[255+je-Re],oe[de+2*xe]=Li[255+Fe-Me]}E+=V}}function Oa(x,E,B,V,Z,ne,ie,ae){for(ne=2*ne+1;0<Z--;){if(xl(x,E,B,ne,ie))if(xo(x,E,B,ae))Zo(x,E,B);else{var oe=x,de=E,xe=B,Ce=oe[de-xe],he=oe[de+0],Se=oe[de+xe],je=Eu[112+(4+(Fe=3*(he-Ce))>>3)],Fe=Eu[112+(Fe+3>>3)],Te=je+1>>1;oe[de-2*xe]=Li[255+oe[de-2*xe]+Te],oe[de-xe]=Li[255+Ce+Fe],oe[de+0]=Li[255+he-je],oe[de+xe]=Li[255+Se-Te]}E+=V}}function Sc(x,E,B,V,Z,ne){ka(x,E,B,1,16,V,Z,ne)}function wi(x,E,B,V,Z,ne){ka(x,E,1,B,16,V,Z,ne)}function ja(x,E,B,V,Z,ne){var ie;for(ie=3;0<ie;--ie)Oa(x,E+=4*B,B,1,16,V,Z,ne)}function bu(x,E,B,V,Z,ne){var ie;for(ie=3;0<ie;--ie)Oa(x,E+=4,1,B,16,V,Z,ne)}function I(x,E,B,V,Z,ne,ie,ae){ka(x,E,Z,1,8,ne,ie,ae),ka(B,V,Z,1,8,ne,ie,ae)}function Q(x,E,B,V,Z,ne,ie,ae){ka(x,E,1,Z,8,ne,ie,ae),ka(B,V,1,Z,8,ne,ie,ae)}function pe(x,E,B,V,Z,ne,ie,ae){Oa(x,E+4*Z,Z,1,8,ne,ie,ae),Oa(B,V+4*Z,Z,1,8,ne,ie,ae)}function we(x,E,B,V,Z,ne,ie,ae){Oa(x,E+4,1,Z,8,ne,ie,ae),Oa(B,V+4,1,Z,8,ne,ie,ae)}function Oe(){this.ba=new rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ar,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ge(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wt(){this.ua=0,this.Wa=new Ze,this.vb=new Ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new $}function Pt(){this.xb=this.a=0,this.l=new bi,this.ca=new rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wt,this.ab=0,this.gc=o(4,Ge),this.Oc=0}function Wt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ht(x,E,B,V,Z,ne,ie){for(x=x==null?0:x[E+0],E=0;E<ie;++E)Z[ne+E]=x+B[V+E]&255,x=Z[ne+E]}function gr(x,E,B,V,Z,ne,ie){var ae;if(x==null)Ht(null,null,B,V,Z,ne,ie);else for(ae=0;ae<ie;++ae)Z[ne+ae]=x[E+ae]+B[V+ae]&255}function rn(x,E,B,V,Z,ne,ie){if(x==null)Ht(null,null,B,V,Z,ne,ie);else{var ae,oe=x[E+0],de=oe,xe=oe;for(ae=0;ae<ie;++ae)de=xe+(oe=x[E+ae])-de,xe=B[V+ae]+(-256&de?0>de?0:255:de)&255,de=oe,Z[ne+ae]=xe}}function Rn(x,E,B,V){var Z=E.width,ne=E.o;if(e(x!=null&&E!=null),0>B||0>=V||B+V>ne)return null;if(!x.Cc){if(x.ga==null){var ie;if(x.ga=new Wt,(ie=x.ga==null)||(ie=E.width*E.o,e(x.Gb.length==0),x.Gb=a(ie),x.Uc=0,x.Gb==null?ie=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ie=1),ie=!ie),!ie){ie=x.ga;var ae=x.Fa,oe=x.P,de=x.qc,xe=x.mb,Ce=x.nb,he=oe+1,Se=de-1,je=ie.l;if(e(ae!=null&&xe!=null&&E!=null),_i[0]=null,_i[1]=Ht,_i[2]=gr,_i[3]=rn,ie.ca=xe,ie.tb=Ce,ie.c=E.width,ie.i=E.height,e(0<ie.c&&0<ie.i),1>=de)E=0;else if(ie.$a=3&ae[oe+0],ie.Z=ae[oe+0]>>2&3,ie.Lc=ae[oe+0]>>4&3,oe=ae[oe+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||oe)E=0;else if(je.put=Dt,je.ac=Tn,je.bc=la,je.ma=ie,je.width=E.width,je.height=E.height,je.Da=E.Da,je.v=E.v,je.va=E.va,je.j=E.j,je.o=E.o,ie.$a)e:{e(ie.$a==1),E=cl();t:for(;;){if(E==null){E=0;break e}if(e(ie!=null),ie.mc=E,E.c=ie.c,E.i=ie.i,E.l=ie.l,E.l.ma=ie,E.l.width=ie.c,E.l.height=ie.i,E.a=0,K(E.m,ae,he,Se),!Va(ie.c,ie.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&Ha(E.s)?(ie.ic=1,ae=E.c*E.i,E.Ta=null,E.Ua=0,E.V=a(ae),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(ie.ic=0,E=Ts(E,ie.c)),!E))break t;E=1;break e}ie.mc=null,E=0}else E=Se>=ie.c*ie.i;ie=!E}if(ie)return null;x.ga.Lc!=1?x.Ga=0:V=ne-B}e(x.ga!=null),e(B+V<=ne);e:{if(E=(ae=x.ga).c,ne=ae.l.o,ae.$a==0){if(he=x.rc,Se=x.Vc,je=x.Fa,oe=x.P+1+B*E,de=x.mb,xe=x.nb+B*E,e(oe<=x.P+x.qc),ae.Z!=0)for(e(_i[ae.Z]!=null),ie=0;ie<V;++ie)_i[ae.Z](he,Se,je,oe,de,xe,E),he=de,Se=xe,xe+=E,oe+=E;else for(ie=0;ie<V;++ie)n(de,xe,je,oe,E),he=de,Se=xe,xe+=E,oe+=E;x.rc=he,x.Vc=Se}else{if(e(ae.mc!=null),E=B+V,e((ie=ae.mc)!=null),e(E<=ie.i),ie.C>=E)E=1;else if(ae.ic||Ca(),ae.ic){ae=ie.V,he=ie.Ba,Se=ie.c;var Fe=ie.i,Te=(je=1,oe=ie.$/Se,de=ie.$%Se,xe=ie.m,Ce=ie.s,ie.$),Re=Se*Fe,Me=Se*E,We=Ce.wc,He=Te<Me?Ln(Ce,de,oe):null;e(Te<=Re),e(E<=Fe),e(Ha(Ce));t:for(;;){for(;!xe.h&&Te<Me;){if(de&We||(He=Ln(Ce,de,oe)),e(He!=null),me(xe),256>(Fe=Ur(He.G[0],He.H[0],xe)))ae[he+Te]=Fe,++Te,++de>=Se&&(de=0,++oe<=E&&!(oe%16)&&oi(ie,oe));else{if(!(280>Fe)){je=0;break t}Fe=yi(Fe-256,xe);var Et,gt=Ur(He.G[4],He.H[4],xe);if(me(xe),!(Te>=(gt=_a(Se,gt=yi(gt,xe)))&&Re-Te>=Fe)){je=0;break t}for(Et=0;Et<Fe;++Et)ae[he+Te+Et]=ae[he+Te+Et-gt];for(Te+=Fe,de+=Fe;de>=Se;)de-=Se,++oe<=E&&!(oe%16)&&oi(ie,oe);Te<Me&&de&We&&(He=Ln(Ce,de,oe))}e(xe.h==ee(xe))}oi(ie,oe>E?E:oe);break t}!je||xe.h&&Te<Re?(je=0,ie.a=xe.h?5:3):ie.$=Te,E=je}else E=Sa(ie,ie.V,ie.Ba,ie.c,ie.i,E,fl);if(!E){V=0;break e}}B+V>=ne&&(x.Cc=1),V=1}if(!V)return null;if(x.Cc&&((V=x.ga)!=null&&(V.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+B*Z}function qr(x,E,B,V,Z,ne){for(;0<Z--;){var ie,ae=x,oe=E+(B?1:0),de=x,xe=E+(B?0:3);for(ie=0;ie<V;++ie){var Ce=de[xe+4*ie];Ce!=255&&(Ce*=32897,ae[oe+4*ie+0]=ae[oe+4*ie+0]*Ce>>23,ae[oe+4*ie+1]=ae[oe+4*ie+1]*Ce>>23,ae[oe+4*ie+2]=ae[oe+4*ie+2]*Ce>>23)}E+=ne}}function zn(x,E,B,V,Z){for(;0<V--;){var ne;for(ne=0;ne<B;++ne){var ie=x[E+2*ne+0],ae=15&(de=x[E+2*ne+1]),oe=4369*ae,de=(240&de|de>>4)*oe>>16;x[E+2*ne+0]=(240&ie|ie>>4)*oe>>16&240|(15&ie|ie<<4)*oe>>16>>4&15,x[E+2*ne+1]=240&de|ae}E+=Z}}function _n(x,E,B,V,Z,ne,ie,ae){var oe,de,xe=255;for(de=0;de<Z;++de){for(oe=0;oe<V;++oe){var Ce=x[E+oe];ne[ie+4*oe]=Ce,xe&=Ce}E+=B,ie+=ae}return xe!=255}function si(x,E,B,V,Z){var ne;for(ne=0;ne<Z;++ne)B[V+ne]=x[E+ne]>>8}function Ca(){Il=qr,Lh=zn,Oc=_n,Ih=si}function zi(x,E,B){C[x]=function(V,Z,ne,ie,ae,oe,de,xe,Ce,he,Se,je,Fe,Te,Re,Me,We){var He,Et=We-1>>1,gt=ae[oe+0]|de[xe+0]<<16,Jt=Ce[he+0]|Se[je+0]<<16;e(V!=null);var xt=3*gt+Jt+131074>>2;for(E(V[Z+0],255&xt,xt>>16,Fe,Te),ne!=null&&(xt=3*Jt+gt+131074>>2,E(ne[ie+0],255&xt,xt>>16,Re,Me)),He=1;He<=Et;++He){var ur=ae[oe+He]|de[xe+He]<<16,dn=Ce[he+He]|Se[je+He]<<16,Zt=gt+ur+Jt+dn+524296,mt=Zt+2*(ur+Jt)>>3;xt=mt+gt>>1,gt=(Zt=Zt+2*(gt+dn)>>3)+ur>>1,E(V[Z+2*He-1],255&xt,xt>>16,Fe,Te+(2*He-1)*B),E(V[Z+2*He-0],255&gt,gt>>16,Fe,Te+(2*He-0)*B),ne!=null&&(xt=Zt+Jt>>1,gt=mt+dn>>1,E(ne[ie+2*He-1],255&xt,xt>>16,Re,Me+(2*He-1)*B),E(ne[ie+2*He+0],255&gt,gt>>16,Re,Me+(2*He+0)*B)),gt=ur,Jt=dn}1&We||(xt=3*gt+Jt+131074>>2,E(V[Z+We-1],255&xt,xt>>16,Fe,Te+(We-1)*B),ne!=null&&(xt=3*Jt+gt+131074>>2,E(ne[ie+We-1],255&xt,xt>>16,Re,Me+(We-1)*B)))}}function Hf(){Vi[Yf]=Iy,Vi[qs]=zs,Vi[Ug]=Ry,Vi[jc]=Cu,Vi[Cc]=Fl,Vi[Ir]=Rc,Vi[Xf]=zh,Vi[ku]=zs,Vi[Rl]=Cu,Vi[Nc]=Fl,Vi[Tc]=Rc}function Is(x){return x&-16384?0>x?0:255:x>>Ws}function Sl(x,E){return Is((19077*x>>8)+(26149*E>>8)-14234)}function Rs(x,E,B){return Is((19077*x>>8)-(6419*E>>8)-(13320*B>>8)+8708)}function Al(x,E){return Is((19077*x>>8)+(33050*E>>8)-17685)}function Ms(x,E,B,V,Z){V[Z+0]=Sl(x,B),V[Z+1]=Rs(x,E,B),V[Z+2]=Al(x,E)}function Pl(x,E,B,V,Z){V[Z+0]=Al(x,E),V[Z+1]=Rs(x,E,B),V[Z+2]=Sl(x,B)}function xi(x,E,B,V,Z){var ne=Rs(x,E,B);E=ne<<3&224|Al(x,E)>>3,V[Z+0]=248&Sl(x,B)|ne>>5,V[Z+1]=E}function El(x,E,B,V,Z){var ne=240&Al(x,E)|15;V[Z+0]=240&Sl(x,B)|Rs(x,E,B)>>4,V[Z+1]=ne}function kl(x,E,B,V,Z){V[Z+0]=255,Ms(x,E,B,V,Z+1)}function Ac(x,E,B,V,Z){Pl(x,E,B,V,Z),V[Z+3]=255}function Pc(x,E,B,V,Z){Ms(x,E,B,V,Z),V[Z+3]=255}function un(x,E){return 0>x?0:x>E?E:x}function Ja(x,E,B){C[x]=function(V,Z,ne,ie,ae,oe,de,xe,Ce){for(var he=xe+(-2&Ce)*B;xe!=he;)E(V[Z+0],ne[ie+0],ae[oe+0],de,xe),E(V[Z+1],ne[ie+0],ae[oe+0],de,xe+B),Z+=2,++ie,++oe,xe+=2*B;1&Ce&&E(V[Z+0],ne[ie+0],ae[oe+0],de,xe)}}function _o(x,E,B){return B==0?x==0?E==0?6:5:E==0?4:0:B}function Vf(x,E,B,V,Z){switch(x>>>30){case 3:Tl(E,B,V,Z,0);break;case 2:cn(E,B,V,Z);break;case 1:mr(E,B,V,Z)}}function ha(x,E){var B,V,Z=E.M,ne=E.Nb,ie=x.oc,ae=x.pc+40,oe=x.oc,de=x.pc+584,xe=x.oc,Ce=x.pc+600;for(B=0;16>B;++B)ie[ae+32*B-1]=129;for(B=0;8>B;++B)oe[de+32*B-1]=129,xe[Ce+32*B-1]=129;for(0<Z?ie[ae-1-32]=oe[de-1-32]=xe[Ce-1-32]=129:(i(ie,ae-32-1,127,21),i(oe,de-32-1,127,9),i(xe,Ce-32-1,127,9)),V=0;V<x.za;++V){var he=E.ya[E.aa+V];if(0<V){for(B=-1;16>B;++B)n(ie,ae+32*B-4,ie,ae+32*B+12,4);for(B=-1;8>B;++B)n(oe,de+32*B-4,oe,de+32*B+4,4),n(xe,Ce+32*B-4,xe,Ce+32*B+4,4)}var Se=x.Gd,je=x.Hd+V,Fe=he.ad,Te=he.Hc;if(0<Z&&(n(ie,ae-32,Se[je].y,0,16),n(oe,de-32,Se[je].f,0,8),n(xe,Ce-32,Se[je].ea,0,8)),he.Za){var Re=ie,Me=ae-32+16;for(0<Z&&(V>=x.za-1?i(Re,Me,Se[je].y[15],4):n(Re,Me,Se[je+1].y,0,4)),B=0;4>B;B++)Re[Me+128+B]=Re[Me+256+B]=Re[Me+384+B]=Re[Me+0+B];for(B=0;16>B;++B,Te<<=2)Re=ie,Me=ae+Wh[B],La[he.Ob[B]](Re,Me),Vf(Te,Fe,16*+B,Re,Me)}else if(Re=_o(V,Z,he.Ob[0]),Ii[Re](ie,ae),Te!=0)for(B=0;16>B;++B,Te<<=2)Vf(Te,Fe,16*+B,ie,ae+Wh[B]);for(B=he.Gc,Re=_o(V,Z,he.Dd),Hi[Re](oe,de),Hi[Re](xe,Ce),Te=Fe,Re=oe,Me=de,255&(he=0|B)&&(170&he?Wi(Te,256,Re,Me):kr(Te,256,Re,Me)),he=xe,Te=Ce,255&(B>>=8)&&(170&B?Wi(Fe,320,he,Te):kr(Fe,320,he,Te)),Z<x.Ub-1&&(n(Se[je].y,0,ie,ae+480,16),n(Se[je].f,0,oe,de+224,8),n(Se[je].ea,0,xe,Ce+224,8)),B=8*ne*x.B,Se=x.sa,je=x.ta+16*V+16*ne*x.R,Fe=x.qa,he=x.ra+8*V+B,Te=x.Ha,Re=x.Ia+8*V+B,B=0;16>B;++B)n(Se,je+B*x.R,ie,ae+32*B,16);for(B=0;8>B;++B)n(Fe,he+B*x.B,oe,de+32*B,8),n(Te,Re+B*x.B,xe,Ce+32*B,8)}}function Ds(x,E,B,V,Z,ne,ie,ae,oe){var de=[0],xe=[0],Ce=0,he=oe!=null?oe.kd:0,Se=oe??new $e;if(x==null||12>B)return 7;Se.data=x,Se.w=E,Se.ha=B,E=[E],B=[B],Se.gb=[Se.gb];e:{var je=E,Fe=B,Te=Se.gb;if(e(x!=null),e(Fe!=null),e(Te!=null),Te[0]=0,12<=Fe[0]&&!r(x,je[0],"RIFF")){if(r(x,je[0]+8,"WEBP")){Te=3;break e}var Re=Ee(x,je[0]+4);if(12>Re||4294967286<Re){Te=3;break e}if(he&&Re>Fe[0]-8){Te=7;break e}Te[0]=Re,je[0]+=12,Fe[0]-=12}Te=0}if(Te!=0)return Te;for(Re=0<Se.gb[0],B=B[0];;){e:{var Me=x;Fe=E,Te=B;var We=de,He=xe,Et=je=[0];if((xt=Ce=[Ce])[0]=0,8>Te[0])Te=7;else{if(!r(Me,Fe[0],"VP8X")){if(Ee(Me,Fe[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var gt=Ee(Me,Fe[0]+8),Jt=1+De(Me,Fe[0]+12);if(2147483648<=Jt*(Me=1+De(Me,Fe[0]+15))){Te=3;break e}Et!=null&&(Et[0]=gt),We!=null&&(We[0]=Jt),He!=null&&(He[0]=Me),Fe[0]+=18,Te[0]-=18,xt[0]=1}Te=0}}if(Ce=Ce[0],je=je[0],Te!=0)return Te;if(Fe=!!(2&je),!Re&&Ce)return 3;if(ne!=null&&(ne[0]=!!(16&je)),ie!=null&&(ie[0]=Fe),ae!=null&&(ae[0]=0),ie=de[0],je=xe[0],Ce&&Fe&&oe==null){Te=0;break}if(4>B){Te=7;break}if(Re&&Ce||!Re&&!Ce&&!r(x,E[0],"ALPH")){B=[B],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{gt=x,Te=E,Re=B;var xt=Se.gb;We=Se.na,He=Se.P,Et=Se.Sa,Jt=22,e(gt!=null),e(Re!=null),Me=Te[0];var ur=Re[0];for(e(We!=null),e(Et!=null),We[0]=null,He[0]=null,Et[0]=0;;){if(Te[0]=Me,Re[0]=ur,8>ur){Te=7;break e}var dn=Ee(gt,Me+4);if(4294967286<dn){Te=3;break e}var Zt=8+dn+1&-2;if(Jt+=Zt,0<xt&&Jt>xt){Te=3;break e}if(!r(gt,Me,"VP8 ")||!r(gt,Me,"VP8L")){Te=0;break e}if(ur[0]<Zt){Te=7;break e}r(gt,Me,"ALPH")||(We[0]=gt,He[0]=Me+8,Et[0]=dn),Me+=Zt,ur-=Zt}}if(B=B[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],Te!=0)break}B=[B],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(xt=x,Te=E,Re=B,We=Se.gb[0],He=Se.Ja,Et=Se.xa,gt=Te[0],Me=!r(xt,gt,"VP8 "),Jt=!r(xt,gt,"VP8L"),e(xt!=null),e(Re!=null),e(He!=null),e(Et!=null),8>Re[0])Te=7;else{if(Me||Jt){if(xt=Ee(xt,gt+4),12<=We&&xt>We-12){Te=3;break e}if(he&&xt>Re[0]-8){Te=7;break e}He[0]=xt,Te[0]+=8,Re[0]-=8,Et[0]=Jt}else Et[0]=5<=Re[0]&&xt[gt+0]==47&&!(xt[gt+4]>>5),He[0]=Re[0];Te=0}if(B=B[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],E=E[0],Te!=0)break;if(4294967286<Se.Ja)return 3;if(ae==null||Fe||(ae[0]=Se.xa?2:1),ie=[ie],je=[je],Se.xa){if(5>B){Te=7;break}ae=ie,he=je,Fe=ne,x==null||5>B?x=0:5<=B&&x[E+0]==47&&!(x[E+4]>>5)?(Re=[0],xt=[0],We=[0],K(He=new Y,x,E,B),Wa(He,Re,xt,We)?(ae!=null&&(ae[0]=Re[0]),he!=null&&(he[0]=xt[0]),Fe!=null&&(Fe[0]=We[0]),x=1):x=0):x=0}else{if(10>B){Te=7;break}ae=je,x==null||10>B||!Bf(x,E+3,B-3)?x=0:(he=x[E+0]|x[E+1]<<8|x[E+2]<<16,Fe=16383&(x[E+7]<<8|x[E+6]),x=16383&(x[E+9]<<8|x[E+8]),1&he||3<(he>>1&7)||!(he>>4&1)||he>>5>=Se.Ja||!Fe||!x?x=0:(ie&&(ie[0]=Fe),ae&&(ae[0]=x),x=1))}if(!x||(ie=ie[0],je=je[0],Ce&&(de[0]!=ie||xe[0]!=je)))return 3;oe!=null&&(oe[0]=Se,oe.offset=E-oe.w,e(4294967286>E-oe.w),e(oe.offset==oe.ha-B));break}return Te==0||Te==7&&Ce&&oe==null?(ne!=null&&(ne[0]|=Se.na!=null&&0<Se.na.length),V!=null&&(V[0]=ie),Z!=null&&(Z[0]=je),0):Te}function wu(x,E,B){var V=E.width,Z=E.height,ne=0,ie=0,ae=V,oe=Z;if(E.Da=x!=null&&0<x.Da,E.Da&&(ae=x.cd,oe=x.bd,ne=x.v,ie=x.j,11>B||(ne&=-2,ie&=-2),0>ne||0>ie||0>=ae||0>=oe||ne+ae>V||ie+oe>Z))return 0;if(E.v=ne,E.j=ie,E.va=ne+ae,E.o=ie+oe,E.U=ae,E.T=oe,E.da=x!=null&&0<x.da,E.da){if(!Ye(ae,oe,B=[x.ib],ne=[x.hb]))return 0;E.ib=B[0],E.hb=ne[0]}return E.ob=x!=null&&x.ob,E.Kb=x==null||!x.Sd,E.da&&(E.ob=E.ib<3*V/4&&E.hb<3*Z/4,E.Kb=0),1}function xu(x){if(x==null)return 2;if(11>x.S){var E=x.f.RGBA;E.fb+=(x.height-1)*E.A,E.A=-E.A}else E=x.f.kb,x=x.height,E.O+=(x-1)*E.fa,E.fa=-E.fa,E.N+=(x-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(x-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(x-1)*E.lb,E.lb=-E.lb);return 0}function es(x,E,B,V){if(V==null||0>=x||0>=E)return 2;if(B!=null){if(B.Da){var Z=B.cd,ne=B.bd,ie=-2&B.v,ae=-2&B.j;if(0>ie||0>ae||0>=Z||0>=ne||ie+Z>x||ae+ne>E)return 2;x=Z,E=ne}if(B.da){if(!Ye(x,E,Z=[B.ib],ne=[B.hb]))return 2;x=Z[0],E=ne[0]}}V.width=x,V.height=E;e:{var oe=V.width,de=V.height;if(x=V.S,0>=oe||0>=de||!(x>=Yf&&13>x))x=2;else{if(0>=V.Rd&&V.sd==null){ie=ne=Z=E=0;var xe=(ae=oe*Mc[x])*de;if(11>x||(ne=(de+1)/2*(E=(oe+1)/2),x==12&&(ie=(Z=oe)*de)),(de=a(xe+2*ne+ie))==null){x=1;break e}V.sd=de,11>x?((oe=V.f.RGBA).eb=de,oe.fb=0,oe.A=ae,oe.size=xe):((oe=V.f.kb).y=de,oe.O=0,oe.fa=ae,oe.Fd=xe,oe.f=de,oe.N=0+xe,oe.Ab=E,oe.Cd=ne,oe.ea=de,oe.W=0+xe+ne,oe.Db=E,oe.Ed=ne,x==12&&(oe.F=de,oe.J=0+xe+2*ne),oe.Tc=ie,oe.lb=Z)}if(E=1,Z=V.S,ne=V.width,ie=V.height,Z>=Yf&&13>Z)if(11>Z)x=V.f.RGBA,E&=(ae=Math.abs(x.A))*(ie-1)+ne<=x.size,E&=ae>=ne*Mc[Z],E&=x.eb!=null;else{x=V.f.kb,ae=(ne+1)/2,xe=(ie+1)/2,oe=Math.abs(x.fa),de=Math.abs(x.Ab);var Ce=Math.abs(x.Db),he=Math.abs(x.lb),Se=he*(ie-1)+ne;E&=oe*(ie-1)+ne<=x.Fd,E&=de*(xe-1)+ae<=x.Cd,E=(E&=Ce*(xe-1)+ae<=x.Ed)&oe>=ne&de>=ae&Ce>=ae,E&=x.y!=null,E&=x.f!=null,E&=x.ea!=null,Z==12&&(E&=he>=ne,E&=Se<=x.Tc,E&=x.F!=null)}else E=0;x=E?0:2}}return x!=0||B!=null&&B.fd&&(x=xu(V)),x}var Na=64,pa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ga=24,Fs=32,So=8,ts=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(x){return x},C.Predictor2=function(x,E,B){return E[B+0]},C.Predictor3=function(x,E,B){return E[B+1]},C.Predictor4=function(x,E,B){return E[B-1]},C.Predictor5=function(x,E,B){return rt(rt(x,E[B+1]),E[B+0])},C.Predictor6=function(x,E,B){return rt(x,E[B-1])},C.Predictor7=function(x,E,B){return rt(x,E[B+0])},C.Predictor8=function(x,E,B){return rt(E[B-1],E[B+0])},C.Predictor9=function(x,E,B){return rt(E[B+0],E[B+1])},C.Predictor10=function(x,E,B){return rt(rt(x,E[B-1]),rt(E[B+0],E[B+1]))},C.Predictor11=function(x,E,B){var V=E[B+0];return 0>=kt(V>>24&255,x>>24&255,(E=E[B-1])>>24&255)+kt(V>>16&255,x>>16&255,E>>16&255)+kt(V>>8&255,x>>8&255,E>>8&255)+kt(255&V,255&x,255&E)?V:x},C.Predictor12=function(x,E,B){var V=E[B+0];return(ft((x>>24&255)+(V>>24&255)-((E=E[B-1])>>24&255))<<24|ft((x>>16&255)+(V>>16&255)-(E>>16&255))<<16|ft((x>>8&255)+(V>>8&255)-(E>>8&255))<<8|ft((255&x)+(255&V)-(255&E)))>>>0},C.Predictor13=function(x,E,B){var V=E[B-1];return(ct((x=rt(x,E[B+0]))>>24&255,V>>24&255)<<24|ct(x>>16&255,V>>16&255)<<16|ct(x>>8&255,V>>8&255)<<8|ct(255&x,255&V))>>>0};var rs=C.PredictorAdd0;C.PredictorAdd1=nr,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var Ao=C.PredictorAdd2;ze("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Sn,Ol=C.ColorIndexInverseTransform,Po=C.MapARGB,Za=C.VP8LColorIndexInverseTransformAlpha,jl=C.MapAlpha,Cl=C.VP8LPredictorsAdd=[];Cl.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var _u,Su,ns,Bs,$s,Nl,Us,Tl,cn,Wi,mr,kr,fn,Mn,Qa,Ec,Au,is,Gf,Pu,Kf,Th,kc,Ll,Il,Lh,Oc,Ih,Rh=a(511),Mh=a(2041),Dh=a(225),Fh=a(767),Bh=0,Eo=Mh,Eu=Dh,Li=Fh,Ta=Rh,Yf=0,qs=1,Ug=2,jc=3,Cc=4,Ir=5,Xf=6,ku=7,Rl=8,Nc=9,Tc=10,Lc=[2,3,7],Jf=[3,3,11],Ml=[280,256,256,256,40],qg=[0,1,1,1,0],Cy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ny=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zf=8,Ou=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ic=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dl=null,$h=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Uh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Hg=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ty=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ly=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],qh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ii=[],La=[],Hi=[],ko=1,ju=2,_i=[],Vi=[];zi("UpsampleRgbLinePair",Ms,3),zi("UpsampleBgrLinePair",Pl,3),zi("UpsampleRgbaLinePair",Pc,4),zi("UpsampleBgraLinePair",Ac,4),zi("UpsampleArgbLinePair",kl,4),zi("UpsampleRgba4444LinePair",El,2),zi("UpsampleRgb565LinePair",xi,2);var Iy=C.UpsampleRgbLinePair,Ry=C.UpsampleBgrLinePair,zs=C.UpsampleRgbaLinePair,Cu=C.UpsampleBgraLinePair,Fl=C.UpsampleArgbLinePair,Rc=C.UpsampleRgba4444LinePair,zh=C.UpsampleRgb565LinePair,as=16,eo=1<<as-1,Ar=-227,Or=482,Ws=6,li=0,Gi=a(256),Bl=a(256),Nu=a(256),Ki=a(256),Qf=a(Or-Ar),Vg=a(Or-Ar);Ja("YuvToRgbRow",Ms,3),Ja("YuvToBgrRow",Pl,3),Ja("YuvToRgbaRow",Pc,4),Ja("YuvToBgraRow",Ac,4),Ja("YuvToArgbRow",kl,4),Ja("YuvToRgba4444Row",El,2),Ja("YuvToRgb565Row",xi,2);var Wh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],$l=[0,2,8],Gg=[8,7,6,4,4,2,2,2,1,1,1,1],os=1;this.WebPDecodeRGBA=function(x,E,B,V,Z){var ne=qs,ie=new Oe,ae=new rr;ie.ba=ae,ae.S=ne,ae.width=[ae.width],ae.height=[ae.height];var oe=ae.width,de=ae.height,xe=new Tt;if(xe==null||x==null)var Ce=2;else e(xe!=null),Ce=Ds(x,E,B,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Ce!=0?oe=0:(oe!=null&&(oe[0]=xe.width[0]),de!=null&&(de[0]=xe.height[0]),oe=1),oe){ae.width=ae.width[0],ae.height=ae.height[0],V!=null&&(V[0]=ae.width),Z!=null&&(Z[0]=ae.height);e:{if(V=new bi,(Z=new $e).data=x,Z.w=E,Z.ha=B,Z.kd=1,E=[0],e(Z!=null),((x=Ds(Z.data,Z.w,Z.ha,null,null,null,E,null,Z))==0||x==7)&&E[0]&&(x=4),(E=x)==0){if(e(ie!=null),V.data=Z.data,V.w=Z.w+Z.offset,V.ha=Z.ha-Z.offset,V.put=Dt,V.ac=Tn,V.bc=la,V.ma=ie,Z.xa){if((x=cl())==null){ie=1;break e}if((function(he,Se){var je=[0],Fe=[0],Te=[0];t:for(;;){if(he==null)return 0;if(Se==null)return he.a=2,0;if(he.l=Se,he.a=0,K(he.m,Se.data,Se.w,Se.ha),!Wa(he.m,je,Fe,Te)){he.a=3;break t}if(he.xb=ju,Se.width=je[0],Se.height=Fe[0],!Va(je[0],Fe[0],1,he,null))break t;return 1}return e(he.a!=0),0})(x,V)){if(V=(E=es(V.width,V.height,ie.Oa,ie.ba))==0){t:{V=x;r:for(;;){if(V==null){V=0;break t}if(e(V.s.yc!=null),e(V.s.Ya!=null),e(0<V.s.Wb),e((B=V.l)!=null),e((Z=B.ma)!=null),V.xb!=0){if(V.ca=Z.ba,V.tb=Z.tb,e(V.ca!=null),!wu(Z.Oa,B,jc)){V.a=2;break r}if(!Ts(V,B.width)||B.da)break r;if((B.da||Ut(V.ca.S))&&Ca(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&Ca()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!ce(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!Sa(V,V.V,V.Ba,V.c,V.i,B.o,Ns))break r;Z.Dc=V.Ma,V=1;break t}e(V.a!=0),V=0}V=!V}V&&(E=x.a)}else E=x.a}else{if((x=new Ch)==null){ie=1;break e}if(x.Fa=Z.na,x.P=Z.P,x.qc=Z.Sa,pl(x,V)){if((E=es(V.width,V.height,ie.Oa,ie.ba))==0){if(x.Aa=0,B=ie.Oa,e((Z=x)!=null),B!=null){if(0<(oe=0>(oe=B.Md)?0:100<oe?255:255*oe/100)){for(de=xe=0;4>de;++de)12>(Ce=Z.pb[de]).lc&&(Ce.ia=oe*Gg[0>Ce.lc?0:Ce.lc]>>3),xe|=Ce.ia;xe&&(alert("todo:VP8InitRandom"),Z.ia=1)}Z.Ga=B.Id,100<Z.Ga?Z.Ga=100:0>Z.Ga&&(Z.Ga=0)}(function(he,Se){if(he==null)return 0;if(Se==null)return In(he,2,"NULL VP8Io parameter in VP8Decode().");if(!he.cb&&!pl(he,Se))return 0;if(e(he.cb),Se.ac==null||Se.ac(Se)){Se.ob&&(he.L=0);var je=$l[he.L];if(he.L==2?(he.yb=0,he.zb=0):(he.yb=Se.v-je>>4,he.zb=Se.j-je>>4,0>he.yb&&(he.yb=0),0>he.zb&&(he.zb=0)),he.Va=Se.o+15+je>>4,he.Hb=Se.va+15+je>>4,he.Hb>he.za&&(he.Hb=he.za),he.Va>he.Ub&&(he.Va=he.Ub),0<he.L){var Fe=he.ed;for(je=0;4>je;++je){var Te;if(he.Qa.Cb){var Re=he.Qa.Lb[je];he.Qa.Fb||(Re+=Fe.Tb)}else Re=Fe.Tb;for(Te=0;1>=Te;++Te){var Me=he.gd[je][Te],We=Re;if(Fe.Pc&&(We+=Fe.vd[0],Te&&(We+=Fe.od[0])),0<(We=0>We?0:63<We?63:We)){var He=We;0<Fe.wb&&(He=4<Fe.wb?He>>2:He>>1)>9-Fe.wb&&(He=9-Fe.wb),1>He&&(He=1),Me.dd=He,Me.tc=2*We+He,Me.ld=40<=We?2:15<=We?1:0}else Me.tc=0;Me.La=Te}}}je=0}else In(he,6,"Frame setup failed"),je=he.a;if(je=je==0){if(je){he.$c=0,0<he.Aa||(he.Ic=os);t:{je=he.Ic,Fe=4*(He=he.za);var Et=32*He,gt=He+1,Jt=0<he.L?He*(0<he.Aa?2:1):0,xt=(he.Aa==2?2:1)*He;if((Me=Fe+832+(Te=3*(16*je+$l[he.L])/2*Et)+(Re=he.Fa!=null&&0<he.Fa.length?he.Kc.c*he.Kc.i:0))!=Me)je=0;else{if(Me>he.Vb){if(he.Vb=0,he.Ec=a(Me),he.Fc=0,he.Ec==null){je=In(he,1,"no memory during frame initialization.");break t}he.Vb=Me}Me=he.Ec,We=he.Fc,he.Ac=Me,he.Bc=We,We+=Fe,he.Gd=o(Et,fa),he.Hd=0,he.rb=o(gt+1,Ls),he.sb=1,he.wa=Jt?o(Jt,ca):null,he.Y=0,he.D.Nb=0,he.D.wa=he.wa,he.D.Y=he.Y,0<he.Aa&&(he.D.Y+=He),e(!0),he.oc=Me,he.pc=We,We+=832,he.ya=o(xt,hu),he.aa=0,he.D.ya=he.ya,he.D.aa=he.aa,he.Aa==2&&(he.D.aa+=He),he.R=16*He,he.B=8*He,He=(Et=$l[he.L])*he.R,Et=Et/2*he.B,he.sa=Me,he.ta=We+He,he.qa=he.sa,he.ra=he.ta+16*je*he.R+Et,he.Ha=he.qa,he.Ia=he.ra+8*je*he.B+Et,he.$c=0,We+=Te,he.mb=Re?Me:null,he.nb=Re?We:null,e(We+Re<=he.Fc+he.Vb),Ga(he),i(he.Ac,he.Bc,0,Fe),je=1}}if(je){if(Se.ka=0,Se.y=he.sa,Se.O=he.ta,Se.f=he.qa,Se.N=he.ra,Se.ea=he.Ha,Se.Vd=he.Ia,Se.fa=he.R,Se.Rc=he.B,Se.F=null,Se.J=0,!Bh){for(je=-255;255>=je;++je)Rh[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)Mh[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)Dh[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)Fh[255+je]=0>je?0:255<je?255:je;Bh=1}Us=pr,Tl=vc,Wi=vl,mr=vo,kr=pu,cn=$f,fn=Sc,Mn=wi,Qa=I,Ec=Q,Au=ja,is=bu,Gf=pe,Pu=we,Kf=Ea,Th=Qo,kc=_l,Ll=_c,La[0]=Nh,La[1]=gu,La[2]=yl,La[3]=bo,La[4]=zf,La[5]=Jo,La[6]=da,La[7]=Wf,La[8]=bl,La[9]=vu,Ii[0]=Ka,Ii[1]=Uf,Ii[2]=qf,Ii[3]=mu,Ii[4]=yo,Ii[5]=qi,Ii[6]=Pa,Hi[0]=Xa,Hi[1]=yc,Hi[2]=bc,Hi[3]=Ya,Hi[4]=wc,Hi[5]=yu,Hi[6]=xc,je=1}else je=0}je&&(je=(function(ur,dn){for(ur.M=0;ur.M<ur.Va;++ur.M){var Zt,mt=ur.Jc[ur.M&ur.Xb],ot=ur.m,An=ur;for(Zt=0;Zt<An.za;++Zt){var zt=ot,or=An,zr=or.Ac,Zn=or.Bc+4*Zt,Dn=or.zc,nn=or.ya[or.aa+Zt];if(or.Qa.Bb?nn.$b=ve(zt,or.Pa.jb[0])?2+ve(zt,or.Pa.jb[2]):ve(zt,or.Pa.jb[1]):nn.$b=0,or.kc&&(nn.Ad=ve(zt,or.Bd)),nn.Za=!ve(zt,145)+0,nn.Za){var Wn=nn.Ob,Qn=0;for(or=0;4>or;++or){var Xr,fr=Dn[0+or];for(Xr=0;4>Xr;++Xr){fr=Ty[zr[Zn+Xr]][fr];for(var vr=Wg[ve(zt,fr[0])];0<vr;)vr=Wg[2*vr+ve(zt,fr[vr])];fr=-vr,zr[Zn+Xr]=fr}n(Wn,Qn,zr,Zn,4),Qn+=4,Dn[0+or]=fr}}else fr=ve(zt,156)?ve(zt,128)?1:3:ve(zt,163)?2:0,nn.Ob[0]=fr,i(zr,Zn,fr,4),i(Dn,0,fr,4);nn.Dd=ve(zt,142)?ve(zt,114)?ve(zt,183)?1:3:2:0}if(An.m.Ka)return In(ur,7,"Premature end-of-partition0 encountered.");for(;ur.ja<ur.za;++ur.ja){if(An=mt,zt=(ot=ur).rb[ot.sb-1],zr=ot.rb[ot.sb+ot.ja],Zt=ot.ya[ot.aa+ot.ja],Zn=ot.kc?Zt.Ad:0)zt.la=zr.la=0,Zt.Za||(zt.Na=zr.Na=0),Zt.Hc=0,Zt.Gc=0,Zt.ia=0;else{var Jr,yr;if(zt=zr,zr=An,Zn=ot.Pa.Xc,Dn=ot.ya[ot.aa+ot.ja],nn=ot.pb[Dn.$b],or=Dn.ad,Wn=0,Qn=ot.rb[ot.sb-1],fr=Xr=0,i(or,Wn,0,384),Dn.Za)var hn=0,pn=Zn[3];else{vr=a(16);var Rr=zt.Na+Qn.Na;if(Rr=Dl(zr,Zn[1],Rr,nn.Eb,0,vr,0),zt.Na=Qn.Na=(0<Rr)+0,1<Rr)Us(vr,0,or,Wn);else{var Si=vr[0]+3>>3;for(vr=0;256>vr;vr+=16)or[Wn+vr]=Si}hn=1,pn=Zn[0]}var jr=15&zt.la,Mr=15&Qn.la;for(vr=0;4>vr;++vr){var Fn=1&Mr;for(Si=yr=0;4>Si;++Si)jr=jr>>1|(Fn=(Rr=Dl(zr,pn,Rr=Fn+(1&jr),nn.Sc,hn,or,Wn))>hn)<<7,yr=yr<<2|(3<Rr?3:1<Rr?2:or[Wn+0]!=0),Wn+=16;jr>>=4,Mr=Mr>>1|Fn<<7,Xr=(Xr<<8|yr)>>>0}for(pn=jr,hn=Mr>>4,Jr=0;4>Jr;Jr+=2){for(yr=0,jr=zt.la>>4+Jr,Mr=Qn.la>>4+Jr,vr=0;2>vr;++vr){for(Fn=1&Mr,Si=0;2>Si;++Si)Rr=Fn+(1&jr),jr=jr>>1|(Fn=0<(Rr=Dl(zr,Zn[2],Rr,nn.Qc,0,or,Wn)))<<3,yr=yr<<2|(3<Rr?3:1<Rr?2:or[Wn+0]!=0),Wn+=16;jr>>=2,Mr=Mr>>1|Fn<<5}fr|=yr<<4*Jr,pn|=jr<<4<<Jr,hn|=(240&Mr)<<Jr}zt.la=pn,Qn.la=hn,Dn.Hc=Xr,Dn.Gc=fr,Dn.ia=43690&fr?0:nn.ia,Zn=!(Xr|fr)}if(0<ot.L&&(ot.wa[ot.Y+ot.ja]=ot.gd[Zt.$b][Zt.Za],ot.wa[ot.Y+ot.ja].La|=!Zn),An.Ka)return In(ur,7,"Premature end-of-file encountered.")}if(Ga(ur),ot=dn,An=1,Zt=(mt=ur).D,zt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(Zt.M=mt.M,Zt.uc=zt,ha(mt,Zt),An=1,Zt=(yr=mt.D).Nb,zt=(fr=$l[mt.L])*mt.R,zr=fr/2*mt.B,vr=16*Zt*mt.R,Si=8*Zt*mt.B,Zn=mt.sa,Dn=mt.ta-zt+vr,nn=mt.qa,or=mt.ra-zr+Si,Wn=mt.Ha,Qn=mt.Ia-zr+Si,Mr=(jr=yr.M)==0,Xr=jr>=mt.Va-1,mt.Aa==2&&ha(mt,yr),yr.uc)for(Fn=(Rr=mt).D.M,e(Rr.D.uc),yr=Rr.yb;yr<Rr.Hb;++yr){hn=yr,pn=Fn;var ui=(Yi=(kn=Rr).D).Nb;Jr=kn.R;var Yi=Yi.wa[Yi.Y+hn],Pn=kn.sa,En=kn.ta+16*ui*Jr+16*hn,Ai=Yi.dd,Dr=Yi.tc;if(Dr!=0)if(e(3<=Dr),kn.L==1)0<hn&&Th(Pn,En,Jr,Dr+4),Yi.La&&Ll(Pn,En,Jr,Dr),0<pn&&Kf(Pn,En,Jr,Dr+4),Yi.La&&kc(Pn,En,Jr,Dr);else{var Pi=kn.B,Ia=kn.qa,to=kn.ra+8*ui*Pi+8*hn,ei=kn.Ha,kn=kn.Ia+8*ui*Pi+8*hn;ui=Yi.ld,0<hn&&(Mn(Pn,En,Jr,Dr+4,Ai,ui),Ec(Ia,to,ei,kn,Pi,Dr+4,Ai,ui)),Yi.La&&(is(Pn,En,Jr,Dr,Ai,ui),Pu(Ia,to,ei,kn,Pi,Dr,Ai,ui)),0<pn&&(fn(Pn,En,Jr,Dr+4,Ai,ui),Qa(Ia,to,ei,kn,Pi,Dr+4,Ai,ui)),Yi.La&&(Au(Pn,En,Jr,Dr,Ai,ui),Gf(Ia,to,ei,kn,Pi,Dr,Ai,ui))}}if(mt.ia&&alert("todo:DitherRow"),ot.put!=null){if(yr=16*jr,jr=16*(jr+1),Mr?(ot.y=mt.sa,ot.O=mt.ta+vr,ot.f=mt.qa,ot.N=mt.ra+Si,ot.ea=mt.Ha,ot.W=mt.Ia+Si):(yr-=fr,ot.y=Zn,ot.O=Dn,ot.f=nn,ot.N=or,ot.ea=Wn,ot.W=Qn),Xr||(jr-=fr),jr>ot.o&&(jr=ot.o),ot.F=null,ot.J=null,mt.Fa!=null&&0<mt.Fa.length&&yr<jr&&(ot.J=Rn(mt,ot,yr,jr-yr),ot.F=mt.mb,ot.F==null&&ot.F.length==0)){An=In(mt,3,"Could not decode alpha data.");break t}yr<ot.j&&(fr=ot.j-yr,yr=ot.j,e(!(1&fr)),ot.O+=mt.R*fr,ot.N+=mt.B*(fr>>1),ot.W+=mt.B*(fr>>1),ot.F!=null&&(ot.J+=ot.width*fr)),yr<jr&&(ot.O+=ot.v,ot.N+=ot.v>>1,ot.W+=ot.v>>1,ot.F!=null&&(ot.J+=ot.v),ot.ka=yr-ot.j,ot.U=ot.va-ot.v,ot.T=jr-yr,An=ot.put(ot))}Zt+1!=mt.Ic||Xr||(n(mt.sa,mt.ta-zt,Zn,Dn+16*mt.R,zt),n(mt.qa,mt.ra-zr,nn,or+8*mt.B,zr),n(mt.Ha,mt.Ia-zr,Wn,Qn+8*mt.B,zr))}if(!An)return In(ur,6,"Output aborted.")}return 1})(he,Se)),Se.bc!=null&&Se.bc(Se),je&=1}return je?(he.cb=0,je):0})(x,V)||(E=x.a)}}else E=x.a}E==0&&ie.Oa!=null&&ie.Oa.fd&&(E=xu(ie.ba))}ie=E}ne=ie!=0?null:11>ne?ae.f.RGBA.eb:ae.f.kb.y}else ne=null;return ne};var Mc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(C,H){for(var T="",L=0;L<4;L++)T+=String.fromCharCode(C[H++]);return T}function f(C,H){return C[H+0]|C[H+1]<<8}function h(C,H){return(C[H+0]|C[H+1]<<8|C[H+2]<<16)>>>0}function p(C,H){return(C[H+0]|C[H+1]<<8|C[H+2]<<16|C[H+3]<<24)>>>0}new l;var g=[0],y=[0],b=[],v=new l,w=t,S=(function(C,H){var T={},L=0,$=!1,F=0,U=0;if(T.frames=[],!(function(D,Y){for(var J=0;J<4;J++)if(D[Y+J]!="RIFF".charCodeAt(J))return!0;return!1})(C,H)){for(p(C,H+=4),H+=8;H<C.length;){var z=u(C,H),q=p(C,H+=4);H+=4;var G=q+(1&q);switch(z){case"VP8 ":case"VP8L":T.frames[L]===void 0&&(T.frames[L]={}),(X=T.frames[L]).src_off=$?U:H-8,X.src_size=F+q+8,L++,$&&($=!1,F=0,U=0);break;case"VP8X":(X=T.header={}).feature_flags=C[H];var K=H+4;X.canvas_width=1+h(C,K),K+=3,X.canvas_height=1+h(C,K),K+=3;break;case"ALPH":$=!0,F=G+8,U=H-8;break;case"ANIM":(X=T.header).bgcolor=p(C,H),K=H+4,X.loop_count=f(C,K),K+=2;break;case"ANMF":var te,X;(X=T.frames[L]={}).offset_x=2*h(C,H),H+=3,X.offset_y=2*h(C,H),H+=3,X.width=1+h(C,H),H+=3,X.height=1+h(C,H),H+=3,X.duration=h(C,H),H+=3,te=C[H++],X.dispose=1&te,X.blend=te>>1&1}z!="ANMF"&&(H+=G)}return T}})(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var A=S.header?S.header:null,k=S.frames?S.frames:null;if(A){A.loop_counter=A.loop_count,g=[A.canvas_height],y=[A.canvas_width];for(var j=0;j<k.length&&k[j].blend!=0;j++);}var O=k[0],M=v.WebPDecodeRGBA(w,O.src_off,O.src_size,y,g);O.rgba=M,O.imgwidth=y[0],O.imgheight=g[0];for(var N=0;N<y[0]*g[0]*4;N++)b[N]=M[N];return this.width=y,this.height=g,this.data=b,this}(function(t){var e,r,n,i,a,o,s,l,u,f=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new l,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new o,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new o,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,s=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var h=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=D;Object.defineProperty(this,"pdf",{get:function(){return Y}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ee){J=!!Ee}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Ee){ee=!!Ee}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Ee){isNaN(Ee)||(ue=Ee)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Ee){isNaN(Ee)||(me=Ee)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ee){var ce;typeof Ee=="number"?ce=[Ee,Ee,Ee,Ee]:((ce=new Array(4))[0]=Ee[0],ce[1]=Ee.length>=2?Ee[1]:ce[0],ce[2]=Ee.length>=3?Ee[2]:ce[0],ce[3]=Ee.length>=4?Ee[3]:ce[1]),u.margin=ce}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(Ee){fe=Ee}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(Ee){le=Ee}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(Ee){ve=Ee}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ee){Ee instanceof f&&(u=Ee)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ee){u.path=Ee}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(Ee){Ae=Ee}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ee){var ce;ce=p(Ee),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ee){var ce=p(Ee);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ee){["butt","round","square"].indexOf(Ee)!==-1&&(this.ctx.lineCap=Ee,this.pdf.setLineCap(Ee))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ee){isNaN(Ee)||(this.ctx.lineWidth=Ee,this.pdf.setLineWidth(Ee))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ee){["bevel","round","miter"].indexOf(Ee)!==-1&&(this.ctx.lineJoin=Ee,this.pdf.setLineJoin(Ee))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ee){isNaN(Ee)||(this.ctx.miterLimit=Ee,this.pdf.setMiterLimit(Ee))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ee){this.ctx.textBaseline=Ee}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ee){["right","end","center","left","start"].indexOf(Ee)!==-1&&(this.ctx.textAlign=Ee)}});var be=null,De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(Ee){be=null,De=Ee}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ee){var ce;if(this.ctx.font=Ee,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ee))!==null){var at=ce[1];ce[2];var Ze=ce[3],Ye=ce[4];ce[5];var Be=ce[6],tt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(tt==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:tt==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var Ve=(function(qe){var ze,st,Nt=[],lt=qe.trim();if(lt==="")return Kx;if(lt in LT)return[LT[lt]];for(;lt!=="";){switch(st=null,ze=(lt=RT(lt)).charAt(0)){case'"':case"'":st=Yae(lt.substring(1),ze);break;default:st=Xae(lt)}if(st===null||(Nt.push(st[0]),(lt=RT(st[1]))!==""&&lt.charAt(0)!==","))return Kx;lt=lt.replace(/^,/,"")}return Nt})(Be);if(this.fontFaces){var ut=(function(qe,ze){if(be===null){var st=(function(Nt){var lt=[];return Object.keys(Nt).forEach(function(Mt){Nt[Mt].forEach(function(lr){var It=null;switch(lr){case"bold":It={family:Mt,weight:"bold"};break;case"italic":It={family:Mt,style:"italic"};break;case"bolditalic":It={family:Mt,weight:"bold",style:"italic"};break;case"":case"normal":It={family:Mt}}It!==null&&(It.ref={name:Mt,style:lr},lt.push(It))})}),lt})(qe.getFontList());be=(function(Nt){for(var lt={},Mt=0;Mt<Nt.length;++Mt){var lr=Gx(Nt[Mt]),It=lr.family,tr=lr.stretch,Ut=lr.style,Sr=lr.weight;lt[It]=lt[It]||{},lt[It][tr]=lt[It][tr]||{},lt[It][tr][Ut]=lt[It][tr][Ut]||{},lt[It][tr][Ut][Sr]=lr}return lt})(st.concat(ze))}return be})(this.pdf,this.fontFaces),rt=Ve.map(function(qe){return{family:qe,stretch:"normal",weight:Ze,style:at}}),ft=(function(qe,ze,st){for(var Nt=(st=st||{}).defaultFontFamily||"times",lt=Object.assign({},Kae,st.genericFontFamilies||{}),Mt=null,lr=null,It=0;It<ze.length;++It)if(lt[(Mt=Gx(ze[It])).family]&&(Mt.family=lt[Mt.family]),qe.hasOwnProperty(Mt.family)){lr=qe[Mt.family];break}if(!(lr=lr||qe[Nt]))throw new Error("Could not find a font-family for the rule '"+IT(Mt)+"' and default family '"+Nt+"'.");if(lr=(function(tr,Ut){if(Ut[tr])return Ut[tr];var Sr=Q_[tr],$r=Sr<=Q_.normal?-1:1,rr=TT(Ut,qM,Sr,$r);if(!rr)throw new Error("Could not find a matching font-stretch value for "+tr);return rr})(Mt.stretch,lr),lr=(function(tr,Ut){if(Ut[tr])return Ut[tr];for(var Sr=UM[tr],$r=0;$r<Sr.length;++$r)if(Ut[Sr[$r]])return Ut[Sr[$r]];throw new Error("Could not find a matching font-style for "+tr)})(Mt.style,lr),!(lr=(function(tr,Ut){if(Ut[tr])return Ut[tr];if(tr===400&&Ut[500])return Ut[500];if(tr===500&&Ut[400])return Ut[400];var Sr=Gae[tr],$r=TT(Ut,zM,Sr,tr<400?-1:1);if(!$r)throw new Error("Could not find a matching font-weight for value "+tr);return $r})(Mt.weight,lr)))throw new Error("Failed to resolve a font for the rule '"+IT(Mt)+"'.");return lr})(ut,rt);this.pdf.setFont(ft.ref.name,ft.ref.style)}else{var ct="";(Ze==="bold"||parseInt(Ze,10)>=700||at==="bold")&&(ct="bold"),at==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var kt="",nr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<Ve.length;pt++){if(this.pdf.internal.getFont(Ve[pt],ct,{noFallback:!0,disableWarning:!0})!==void 0){kt=Ve[pt];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(Ve[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)kt=Ve[pt],ct="bold";else if(this.pdf.internal.getFont(Ve[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){kt=Ve[pt],ct="normal";break}}if(kt===""){for(var ke=0;ke<Ve.length;ke++)if(nr[Ve[ke]]){kt=nr[Ve[ke]];break}}kt=kt===""?"Times":kt,this.pdf.setFont(kt,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ee){this.ctx.globalCompositeOperation=Ee}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ee){this.ctx.globalAlpha=Ee}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ee){this.ctx.lineDashOffset=Ee,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ee){this.ctx.lineDash=Ee,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ee){this.ctx.ignoreClearRect=!!Ee}})};h.prototype.setLineDash=function(D){this.lineDash=D},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(D,Y){if(isNaN(D)||isNaN(Y))throw Gr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(D,Y));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(D,Y)},h.prototype.closePath=function(){var D=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Fr(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){D=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(D.x,D.y)},h.prototype.lineTo=function(D,Y){if(isNaN(D)||isNaN(Y))throw Gr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(D,Y));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function(D,Y,J,ee){if(isNaN(J)||isNaN(ee)||isNaN(D)||isNaN(Y))throw Gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o(J,ee)),me=this.ctx.transform.applyToPoint(new o(D,Y));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},h.prototype.bezierCurveTo=function(D,Y,J,ee,ue,me){if(isNaN(ue)||isNaN(me)||isNaN(D)||isNaN(Y)||isNaN(J)||isNaN(ee))throw Gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new o(ue,me)),le=this.ctx.transform.applyToPoint(new o(D,Y)),ve=this.ctx.transform.applyToPoint(new o(J,ee));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:ve.x,y2:ve.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},h.prototype.arc=function(D,Y,J,ee,ue,me){if(isNaN(D)||isNaN(Y)||isNaN(J)||isNaN(ee)||isNaN(ue))throw Gr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new o(D,Y));D=fe.x,Y=fe.y;var le=this.ctx.transform.applyToPoint(new o(0,J)),ve=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(le.x-ve.x,2)+Math.pow(le.y-ve.y,2))}Math.abs(ue-ee)>=2*Math.PI&&(ee=0,ue=2*Math.PI),this.path.push({type:"arc",x:D,y:Y,radius:J,startAngle:ee,endAngle:ue,counterclockwise:me})},h.prototype.arcTo=function(D,Y,J,ee,ue){throw new Error("arcTo not implemented.")},h.prototype.rect=function(D,Y,J,ee){if(isNaN(D)||isNaN(Y)||isNaN(J)||isNaN(ee))throw Gr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,Y),this.lineTo(D+J,Y),this.lineTo(D+J,Y+ee),this.lineTo(D,Y+ee),this.lineTo(D,Y),this.lineTo(D+J,Y),this.lineTo(D,Y)},h.prototype.fillRect=function(D,Y,J,ee){if(isNaN(D)||isNaN(Y)||isNaN(J)||isNaN(ee))throw Gr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,Y,J,ee),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},h.prototype.strokeRect=function(D,Y,J,ee){if(isNaN(D)||isNaN(Y)||isNaN(J)||isNaN(ee))throw Gr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(D,Y,J,ee),this.stroke())},h.prototype.clearRect=function(D,Y,J,ee){if(isNaN(D)||isNaN(Y)||isNaN(J)||isNaN(ee))throw Gr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,Y,J,ee))},h.prototype.save=function(D){D=typeof D!="boolean"||D;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},h.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(D){var Y,J,ee,ue;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))Y=0,J=0,ee=0,ue=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(me!==null)Y=parseInt(me[1]),J=parseInt(me[2]),ee=parseInt(me[3]),ue=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)Y=parseInt(me[1]),J=parseInt(me[2]),ee=parseInt(me[3]),ue=parseFloat(me[4]);else{if(ue=1,typeof D=="string"&&D.charAt(0)!=="#"){var fe=new IM(D);D=fe.ok?fe.toHex():"#000000"}D.length===4?(Y=D.substring(1,2),Y+=Y,J=D.substring(2,3),J+=J,ee=D.substring(3,4),ee+=ee):(Y=D.substring(1,3),J=D.substring(3,5),ee=D.substring(5,7)),Y=parseInt(Y,16),J=parseInt(J,16),ee=parseInt(ee,16)}}return{r:Y,g:J,b:ee,a:ue,style:D}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(D,Y,J,ee){if(isNaN(Y)||isNaN(J)||typeof D!="string")throw Gr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!g.call(this)){var ue=G(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;L.call(this,{text:D,x:Y,y:J,scale:me,angle:ue,align:this.textAlign,maxWidth:ee})}},h.prototype.strokeText=function(D,Y,J,ee){if(isNaN(Y)||isNaN(J)||typeof D!="string")throw Gr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ee=isNaN(ee)?void 0:ee;var ue=G(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;L.call(this,{text:D,x:Y,y:J,scale:me,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ee})}},h.prototype.measureText=function(D){if(typeof D!="string")throw Gr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,J=this.pdf.internal.scaleFactor,ee=Y.internal.getFontSize(),ue=Y.getStringUnitWidth(D)*ee/Y.internal.scaleFactor;return new function(me){var fe=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this}({width:ue*=Math.round(96*J/72*1e4)/1e4})},h.prototype.scale=function(D,Y){if(isNaN(D)||isNaN(Y))throw Gr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(D,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.rotate=function(D){if(isNaN(D))throw Gr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.translate=function(D,Y){if(isNaN(D)||isNaN(Y))throw Gr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,D,Y);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.transform=function(D,Y,J,ee,ue,me){if(isNaN(D)||isNaN(Y)||isNaN(J)||isNaN(ee)||isNaN(ue)||isNaN(me))throw Gr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(D,Y,J,ee,ue,me);this.ctx.transform=this.ctx.transform.multiply(fe)},h.prototype.setTransform=function(D,Y,J,ee,ue,me){D=isNaN(D)?1:D,Y=isNaN(Y)?0:Y,J=isNaN(J)?0:J,ee=isNaN(ee)?1:ee,ue=isNaN(ue)?0:ue,me=isNaN(me)?0:me,this.ctx.transform=new l(D,Y,J,ee,ue,me)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(D,Y,J,ee,ue,me,fe,le,ve){var Ae=this.pdf.getImageProperties(D),be=1,De=1,Ee=1,ce=1;ee!==void 0&&le!==void 0&&(Ee=le/ee,ce=ve/ue,be=Ae.width/ee*le/ee,De=Ae.height/ue*ve/ue),me===void 0&&(me=Y,fe=J,Y=0,J=0),ee!==void 0&&le===void 0&&(le=ee,ve=ue),ee===void 0&&le===void 0&&(le=Ae.width,ve=Ae.height);for(var at,Ze=this.ctx.transform.decompose(),Ye=G(Ze.rotate.shx),Be=new l,tt=(Be=(Be=(Be=Be.multiply(Ze.translate)).multiply(Ze.skew)).multiply(Ze.scale)).applyToRectangle(new s(me-Y*Ee,fe-J*ce,ee*be,ue*De)),Ve=v.call(this,tt),ut=[],rt=0;rt<Ve.length;rt+=1)ut.indexOf(Ve[rt])===-1&&ut.push(Ve[rt]);if(A(ut),this.autoPaging)for(var ft=ut[0],ct=ut[ut.length-1],kt=ft;kt<ct+1;kt++){this.pdf.setPage(kt);var nr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=kt===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=kt===1?0:ke+(kt-2)*qe;if(this.ctx.clip_path.length!==0){var st=this.path;at=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(at,this.posX+this.margin[3],-ze+pt+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=st}var Nt=JSON.parse(JSON.stringify(tt));Nt=S([Nt],this.posX+this.margin[3],-ze+pt+this.ctx.prevPageLastElemOffset)[0];var lt=(kt>ft||kt<ct)&&b.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nr,qe,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",Nt.x,Nt.y,Nt.w,Nt.h,null,null,Ye),lt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,Ye)};var v=function(D,Y,J){var ee=[];Y=Y||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":ee.push(Math.floor((D.y+ue)/J)+1);break;case"arc":ee.push(Math.floor((D.y+ue-D.radius)/J)+1),ee.push(Math.floor((D.y+ue+D.radius)/J)+1);break;case"qct":var me=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);ee.push(Math.floor((me.y+ue)/J)+1),ee.push(Math.floor((me.y+me.h+ue)/J)+1);break;case"bct":var fe=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);ee.push(Math.floor((fe.y+ue)/J)+1),ee.push(Math.floor((fe.y+fe.h+ue)/J)+1);break;case"rect":ee.push(Math.floor((D.y+ue)/J)+1),ee.push(Math.floor((D.y+D.h+ue)/J)+1)}for(var le=0;le<ee.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<ee[le];)w.call(this);return ee},w=function(){var D=this.fillStyle,Y=this.strokeStyle,J=this.font,ee=this.lineCap,ue=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=Y,this.font=J,this.lineCap=ee,this.lineWidth=ue,this.lineJoin=me},S=function(D,Y,J){for(var ee=0;ee<D.length;ee++)switch(D[ee].type){case"bct":D[ee].x2+=Y,D[ee].y2+=J;case"qct":D[ee].x1+=Y,D[ee].y1+=J;default:D[ee].x+=Y,D[ee].y+=J}return D},A=function(D){return D.sort(function(Y,J){return Y-J})},k=function(D,Y){for(var J,ee,ue=this.fillStyle,me=this.strokeStyle,fe=this.lineCap,le=this.lineWidth,ve=Math.abs(le*this.ctx.transform.scaleX),Ae=this.lineJoin,be=JSON.parse(JSON.stringify(this.path)),De=JSON.parse(JSON.stringify(this.path)),Ee=[],ce=0;ce<De.length;ce++)if(De[ce].x!==void 0)for(var at=v.call(this,De[ce]),Ze=0;Ze<at.length;Ze+=1)Ee.indexOf(at[Ze])===-1&&Ee.push(at[Ze]);for(var Ye=0;Ye<Ee.length;Ye++)for(;this.pdf.internal.getNumberOfPages()<Ee[Ye];)w.call(this);if(A(Ee),this.autoPaging)for(var Be=Ee[0],tt=Ee[Ee.length-1],Ve=Be;Ve<tt+1;Ve++){this.pdf.setPage(Ve),this.fillStyle=ue,this.strokeStyle=me,this.lineCap=fe,this.lineWidth=ve,this.lineJoin=Ae;var ut=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],rt=Ve===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=Ve===1?0:ft+(Ve-2)*ct;if(this.ctx.clip_path.length!==0){var nr=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(J,this.posX+this.margin[3],-kt+rt+this.ctx.prevPageLastElemOffset),j.call(this,D,!0),this.path=nr}if(ee=JSON.parse(JSON.stringify(be)),this.path=S(ee,this.posX+this.margin[3],-kt+rt+this.ctx.prevPageLastElemOffset),Y===!1||Ve===0){var pt=(Ve>Be||Ve<tt)&&b.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,ct,null).clip().discardPath()),j.call(this,D,Y),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=ve,j.call(this,D,Y),this.lineWidth=le;this.path=be},j=function(D,Y){if((D!=="stroke"||Y||!y.call(this))&&(D==="stroke"||Y||!g.call(this))){for(var J,ee,ue=[],me=this.path,fe=0;fe<me.length;fe++){var le=me[fe];switch(le.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:le,deltas:[],abs:[]});break;case"lt":var ve=ue.length;if(me[fe-1]&&!isNaN(me[fe-1].x)&&(J=[le.x-me[fe-1].x,le.y-me[fe-1].y],ve>0)){for(;ve>=0;ve--)if(ue[ve-1].close!==!0&&ue[ve-1].begin!==!0){ue[ve-1].deltas.push(J),ue[ve-1].abs.push(le);break}}break;case"bct":J=[le.x1-me[fe-1].x,le.y1-me[fe-1].y,le.x2-me[fe-1].x,le.y2-me[fe-1].y,le.x-me[fe-1].x,le.y-me[fe-1].y],ue[ue.length-1].deltas.push(J);break;case"qct":var Ae=me[fe-1].x+2/3*(le.x1-me[fe-1].x),be=me[fe-1].y+2/3*(le.y1-me[fe-1].y),De=le.x+2/3*(le.x1-le.x),Ee=le.y+2/3*(le.y1-le.y),ce=le.x,at=le.y;J=[Ae-me[fe-1].x,be-me[fe-1].y,De-me[fe-1].x,Ee-me[fe-1].y,ce-me[fe-1].x,at-me[fe-1].y],ue[ue.length-1].deltas.push(J);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(le)}}ee=Y?null:D==="stroke"?"stroke":"fill";for(var Ze=!1,Ye=0;Ye<ue.length;Ye++)if(ue[Ye].arc)for(var Be=ue[Ye].abs,tt=0;tt<Be.length;tt++){var Ve=Be[tt];Ve.type==="arc"?N.call(this,Ve.x,Ve.y,Ve.radius,Ve.startAngle,Ve.endAngle,Ve.counterclockwise,void 0,Y,!Ze):$.call(this,Ve.x,Ve.y),Ze=!0}else if(ue[Ye].close===!0)this.pdf.internal.out("h"),Ze=!1;else if(ue[Ye].begin!==!0){var ut=ue[Ye].start.x,rt=ue[Ye].start.y;F.call(this,ue[Ye].deltas,ut,rt),Ze=!0}ee&&C.call(this,ee),Y&&H.call(this)}},O=function(D){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-J;case"top":return D+Y-J;case"hanging":return D+Y-2*J;case"middle":return D+Y/2-J;default:return D}},M=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(Y,J){this.colorStops.push([Y,J])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(D,Y,J,ee,ue,me,fe,le,ve){for(var Ae=z.call(this,J,ee,ue,me),be=0;be<Ae.length;be++){var De=Ae[be];be===0&&(ve?T.call(this,De.x1+D,De.y1+Y):$.call(this,De.x1+D,De.y1+Y)),U.call(this,D,Y,De.x2,De.y2,De.x3,De.y3,De.x4,De.y4)}le?H.call(this):C.call(this,fe)},C=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(D,Y){this.pdf.internal.out(r(D)+" "+n(Y)+" m")},L=function(D){var Y;switch(D.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var J=this.pdf.getTextDimensions(D.text),ee=O.call(this,D.y),ue=M.call(this,ee)-J.h,me=this.ctx.transform.applyToPoint(new o(D.x,ee)),fe=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var ve,Ae,be,De=this.ctx.transform.applyToRectangle(new s(D.x,ee,J.w,J.h)),Ee=le.applyToRectangle(new s(D.x,ue,J.w,J.h)),ce=v.call(this,Ee),at=[],Ze=0;Ze<ce.length;Ze+=1)at.indexOf(ce[Ze])===-1&&at.push(ce[Ze]);if(A(at),this.autoPaging)for(var Ye=at[0],Be=at[at.length-1],tt=Ye;tt<Be+1;tt++){this.pdf.setPage(tt);var Ve=tt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rt=this.pdf.internal.pageSize.height-this.margin[2],ft=rt-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],kt=ct-this.margin[3],nr=tt===1?0:ut+(tt-2)*ft;if(this.ctx.clip_path.length!==0){var pt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ve,this.posX+this.margin[3],-1*nr+Ve),j.call(this,"fill",!0),this.path=pt}var ke=S([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-nr+Ve+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*D.scale),be=this.lineWidth,this.lineWidth=be*D.scale);var qe=this.autoPaging!=="text";if(qe||ke.y+ke.h<=rt){if(qe||ke.y>=Ve&&ke.x<=ct){var ze=qe?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||ct-ke.x)[0],st=S([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-nr+Ve+this.ctx.prevPageLastElemOffset)[0],Nt=qe&&(tt>Ye||tt<Be)&&b.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,ft,null).clip().discardPath()),this.pdf.text(ze,st.x,st.y,{angle:D.angle,align:Y,renderingMode:D.renderingMode}),Nt&&this.pdf.restoreGraphicsState()}}else ke.y<rt&&(this.ctx.prevPageLastElemOffset+=rt-ke.y);D.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=be)}else D.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*D.scale),be=this.lineWidth,this.lineWidth=be*D.scale),this.pdf.text(D.text,me.x+this.posX,me.y+this.posY,{angle:D.angle,align:Y,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=be)},$=function(D,Y,J,ee){J=J||0,ee=ee||0,this.pdf.internal.out(r(D+J)+" "+n(Y+ee)+" l")},F=function(D,Y,J){return this.pdf.lines(D,Y,J,null,null)},U=function(D,Y,J,ee,ue,me,fe,le){this.pdf.internal.out([e(i(J+D)),e(a(ee+Y)),e(i(ue+D)),e(a(me+Y)),e(i(fe+D)),e(a(le+Y)),"c"].join(" "))},z=function(D,Y,J,ee){for(var ue=2*Math.PI,me=Math.PI/2;Y>J;)Y-=ue;var fe=Math.abs(J-Y);fe<ue&&ee&&(fe=ue-fe);for(var le=[],ve=ee?-1:1,Ae=Y;fe>1e-5;){var be=Ae+ve*Math.min(fe,me);le.push(q.call(this,D,Ae,be)),fe-=Math.abs(be-Ae),Ae=be}return le},q=function(D,Y,J){var ee=(J-Y)/2,ue=D*Math.cos(ee),me=D*Math.sin(ee),fe=ue,le=-me,ve=fe*fe+le*le,Ae=ve+fe*ue+le*me,be=4/3*(Math.sqrt(2*ve*Ae)-Ae)/(fe*me-le*ue),De=fe-be*le,Ee=le+be*fe,ce=De,at=-Ee,Ze=ee+Y,Ye=Math.cos(Ze),Be=Math.sin(Ze);return{x1:D*Math.cos(Y),y1:D*Math.sin(Y),x2:De*Ye-Ee*Be,y2:De*Be+Ee*Ye,x3:ce*Ye-at*Be,y3:ce*Be+at*Ye,x4:D*Math.cos(J),y4:D*Math.sin(J)}},G=function(D){return 180*D/Math.PI},K=function(D,Y,J,ee,ue,me){var fe=D+.5*(J-D),le=Y+.5*(ee-Y),ve=ue+.5*(J-ue),Ae=me+.5*(ee-me),be=Math.min(D,ue,fe,ve),De=Math.max(D,ue,fe,ve),Ee=Math.min(Y,me,le,Ae),ce=Math.max(Y,me,le,Ae);return new s(be,Ee,De-be,ce-Ee)},te=function(D,Y,J,ee,ue,me,fe,le){var ve,Ae,be,De,Ee,ce,at,Ze,Ye,Be,tt,Ve,ut,rt,ft=J-D,ct=ee-Y,kt=ue-J,nr=me-ee,pt=fe-ue,ke=le-me;for(Ae=0;Ae<41;Ae++)Ye=(at=(be=D+(ve=Ae/40)*ft)+ve*((Ee=J+ve*kt)-be))+ve*(Ee+ve*(ue+ve*pt-Ee)-at),Be=(Ze=(De=Y+ve*ct)+ve*((ce=ee+ve*nr)-De))+ve*(ce+ve*(me+ve*ke-ce)-Ze),Ae==0?(tt=Ye,Ve=Be,ut=Ye,rt=Be):(tt=Math.min(tt,Ye),Ve=Math.min(Ve,Be),ut=Math.max(ut,Ye),rt=Math.max(rt,Be));return new s(Math.round(tt),Math.round(Ve),Math.round(ut-tt),Math.round(rt-Ve))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,Y,J=(D=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:Y}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ct.API),(function(t){var e=function(o){var s,l,u,f,h,p,g,y,b,v;for(l=[],u=0,f=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(v=h%85))/85)-(b=h%85))/85)-(y=h%85))/85)-(g=h%85))/85)%85,l.push(p+33,g+33,y+33,b+33,v+33)):l.push(122);return(function(w,S){for(var A=S;A>0;A--)w.pop()})(l,s.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var s,l,u,f,h,p=String,g="length",y=255,b="charCodeAt",v="slice",w="replace";for(o[v](-2),o=o[v](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],f=0,h=(o+=s="uuuuu"[v](o[g]%5||5))[g];h>f;f+=5)l=52200625*(o[b](f)-33)+614125*(o[b](f+1)-33)+7225*(o[b](f+2)-33)+85*(o[b](f+3)-33)+(o[b](f+4)-33),u.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(S,A){for(var k=A;k>0;k--)S.pop()})(u,s[g]),p.fromCharCode.apply(p,u)},n=function(o){return o.split("").map(function(s){return("0"+s.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var l="",u=0;u<o.length;u+=2)l+=String.fromCharCode("0x"+(o[u]+o[u+1]));return l},a=function(o){for(var s=new Uint8Array(o.length),l=o.length;l--;)s[l]=o.charCodeAt(l);return(s=V_(s)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,s){var l=0,u=o||"",f=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}})(Ct.API),(function(t){t.loadFile=function(e,r,n){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var s=void 0;try{s=(function(l,u,f){var h=new XMLHttpRequest,p=0,g=function(y){var b=y.length,v=[],w=String.fromCharCode;for(p=0;p<b;p+=1)v.push(w(255&y.charCodeAt(p)));return v.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?f(g(this.responseText)):f(void 0)}),h.send(null),u&&h.status===200)return g(h.responseText)})(i,a,o)}catch{}return s})(e,r,n)},t.loadImageFile=t.loadFile})(Ct.API),(function(t){function e(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):tu(()=>import("./html2canvas.esm-Ge7aVWlp.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):tu(()=>import("./purify.es-C65SP4u9.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var l=Fr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var u=document.createElement(s);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},a=function s(l,u){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(s(h,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},o=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),f=s.convert(Promise.resolve(),u);return(f=f.setProgress(1,s,1,[s])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,l){return s.__proto__=l||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,l){return this.then(function(){switch(l=l||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(s),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var y=f[g],b=y.src.find(function(v){return v.format==="truetype"});b&&u.addFont(b.url,y.ref.name,y.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},o.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(n(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(s,l){return this.then(function(){var u=s in o.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},o.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(s=s||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,l,u,f){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,l,u,f){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(f,h){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,f),p}).then(f,h).then(function(p){return u.updateProgress(1),p})})},o.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then;var f=this;s&&(s=s.bind(f)),l&&(l=l.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),p=u.call(h,s,l);return o.convert(p,f.__proto__)},o.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},o.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},o.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return o.convert(l,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ct.getPageSize=function(s,l,u){if(Fr(s)==="object"){var f=s;s=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var y,b=0,v=0;if(g.hasOwnProperty(p))b=g[p][1]/h,v=g[p][0]/h;else try{b=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",v>b&&(y=v,v=b,b=y);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",b>v&&(y=v,v=b,b=y)}return{width:v,height:b,unit:l,k:h,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Gx):null;var u=new o(l);return l.worker?u:u.from(s).doCallback()}})(Ct.API),Ct.API.addJS=function(t){return DT=t,this.internal.events.subscribe("postPutResources",function(){Jm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),MT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+DT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jm!==void 0&&MT!==void 0&&this.internal.out("/Names <</JavaScript "+Jm+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],s=n.exec(o);if(s!=null){var l=s[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(a=0;a<u;a++){var h=r.internal.newObject();f.push(h);var p=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<f.length;a++)r.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var s=this.count=this.count_r({count:0},o);if(s>0&&this.line("/Count "+s),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(Ct.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,o,s){var l,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=(function(h){for(var p,g=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,b={width:0,height:0,numcomponents:1},v=4;v<y;v+=2){if(v+=g,e.indexOf(h.charCodeAt(v+1))!==-1){p=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),b={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:p,numcomponents:h.charCodeAt(v+9)};break}g=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return b})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}f={data:r,width:l.width,height:l.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:i}}return f}})(Ct.API),Ct.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=Lae(t,{checkCrc:!0}),o=a.width,s=a.height,l=a.channels,u=a.palette,f=a.depth;i=u&&l===1?(function(N){for(var C=N.width,H=N.height,T=N.data,L=N.palette,$=N.depth,F=!1,U=[],z=[],q=void 0,G=!1,K=0,te=0;te<L.length;te++){var X=UN(L[te],4),D=X[0],Y=X[1],J=X[2],ee=X[3];U.push(D,Y,J),ee!=null&&(ee===0?(K++,z.length<1&&z.push(te)):ee<255&&(G=!0))}if(G||K>1){F=!0,z=void 0;var ue=C*H;q=new Uint8Array(ue);for(var me=new DataView(T.buffer),fe=0;fe<ue;fe++){var le=Yx(me,fe,$),ve=UN(L[le],4)[3];q[fe]=ve}}else K===0&&(z=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:F?8:void 0,colorBytes:T,alphaBytes:q,needSMask:F,palette:U,mask:z}})(a):l===2||l===4?(function(N){for(var C=N.data,H=N.width,T=N.height,L=N.channels,$=N.depth,F=L===2?"DeviceGray":"DeviceRGB",U=L-1,z=H*T,q=U,G=z*q,K=1*z,te=Math.ceil(G*$/8),X=Math.ceil(K*$/8),D=new Uint8Array(te),Y=new Uint8Array(X),J=new DataView(C.buffer),ee=new DataView(D.buffer),ue=new DataView(Y.buffer),me=!1,fe=0;fe<z;fe++){for(var le=fe*L,ve=0;ve<q;ve++)VT(ee,Yx(J,le+ve,$),fe*q+ve,$);var Ae=Yx(J,le+q,$);Ae<(1<<$)-1&&(me=!0),VT(ue,Ae,1*fe,$)}return{colorSpace:F,colorsPerPixel:U,sMaskBitsPerComponent:me?$:void 0,colorBytes:D,alphaBytes:Y,needSMask:me}})(a):(function(N){var C=N.data,H=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?(function(T){for(var L=T.length,$=new Uint8Array(2*L),F=new DataView($.buffer,$.byteOffset,$.byteLength),U=0;U<L;U++)F.setUint16(2*U,T[U],!1);return $})(C):C,needSMask:!1}})(a);var h,p,g,y=i,b=y.colorSpace,v=y.colorsPerPixel,w=y.sMaskBitsPerComponent,S=y.colorBytes,A=y.alphaBytes,k=y.needSMask,j=y.palette,O=y.mask,M=null;return n!==Ct.API.image_compression.NONE&&typeof V_=="function"?(M=(function(N){var C;switch(N){case Ct.API.image_compression.FAST:C=11;break;case Ct.API.image_compression.MEDIUM:C=13;break;case Ct.API.image_compression.SLOW:C=14;break;default:C=12}return C})(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(M," /Colors ").concat(v," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=UT(S,Math.ceil(o*v*f/8),v,f,n),k&&(g=UT(A,Math.ceil(o*w/8),1,w,n))):(h=void 0,p=void 0,t=S,k&&(g=A)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:t,index:e,filter:h,decodeParameters:p,transparency:O,palette:j,sMask:g,predictor:M,width:o,height:s,bitsPerComponent:f,sMaskBitsPerComponent:w,colorSpace:b}}},(function(t){t.processGIF89A=function(e,r,n,i){var a=new eoe(e),o=a.width,s=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:s},f=new Xx(100).encode(u,100);return t.processJPEG.call(this,f,r,n,i)},t.processGIF87A=t.processGIF89A})(Ct.API),gs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Gr.log("bit decode error:"+r)}},gs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,s=0;s<8&&8*i+s<this.width;s++){var l=this.palette[a>>7-s&1];this.data[o+4*s]=l.blue,this.data[o+4*s+1]=l.green,this.data[o+4*s+2]=l.red,this.data[o+4*s+3]=255}r!==0&&(this.pos+=4-r)}},gs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,s=a>>4,l=15&a,u=this.palette[s];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},gs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},gs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,s=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,u=a>>15?255:0,f=n*this.width*4+4*i;this.data[f]=l,this.data[f+1]=s,this.data[f+2]=o,this.data[f+3]=u}this.pos+=t}},gs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,f=i*this.width*4+4*a;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=s,this.data[f+3]=255}this.pos+=t}},gs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},gs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=o}},gs.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var a=new gs(e,!1),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new Xx(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}})(Ct.API),KT.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var a=new KT(e),o=a.width,s=a.height,l={data:a.getData(),width:o,height:s},u=new Xx(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}})(Ct.API),Ct.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),s=0,l=0,u=0;u<i;u+=4){var f=n[u],h=n[u+1],p=n[u+2],g=n[u+3];a[s++]=f,a[s++]=h,a[s++]=p,o[l++]=g}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ad=Ct.API,Zm=Ad.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),s=e.widths?e.widths:i.metadata.Unicode.widths,l=s.fof?s.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,h=e.doKerning!==!1,p=0,g=t.length,y=0,b=s[0]||l,v=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(p=h&&Fr(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/f:0,v.push((s[n]||b)/l+p)),y=n;return v},FT=Ad.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Ad.processArabic&&(t=Ad.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Zm.apply(this,arguments).reduce(function(a,o){return a+o},0)},BT=function(t,e,r,n){for(var i=[],a=0,o=t.length,s=0;a!==o&&s+e[a]<r;)s+=e[a],a++;i.push(t.slice(0,a));var l=a;for(s=0;a!==o;)s+e[a]>n&&(i.push(t.slice(l,a)),s=0,l=a),s+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},$T=function(t,e,r){r||(r={});var n,i,a,o,s,l,u,f=[],h=[f],p=r.textIndent||0,g=0,y=0,b=t.split(" "),v=Zm.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),S=[];b.map(function(k){(k=k.split(/\s*\n/)).length>1?S=S.concat(k.map(function(j,O){return(O&&j.length?`
`:"")+j})):S.push(k[0])}),b=S,l=FT.apply(this,[w,r])}for(a=0,o=b.length;a<o;a++){var A=0;if(n=b[a],l&&n[0]==`
`&&(n=n.substr(1),A=1),p+g+(y=(i=Zm.apply(this,[n,r])).reduce(function(k,j){return k+j},0))>e||A){if(y>e){for(s=BT.apply(this,[n,i,e-(p+g),e]),f.push(s.shift()),f=[s.pop()];s.length;)h.push([s.shift()]);y=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(k,j){return k+j},0)}else f=[n];h.push(f),p=y+l,g=v}else f.push(n),p+=g+y,g=v}return u=l?function(k,j){return(j?w:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(u)},Ad.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var s,l,u=[];for(s=0,l=n.length;s<l;s++)u=u.concat($T.apply(this,[n[s],o,a]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var o=function(p){return"0x"+parseInt(p,10).toString(16)},s=t.__fontmetrics__.compress=function(p){var g,y,b,v,w=["{"];for(var S in p){if(g=p[S],isNaN(parseInt(S,10))?y="'"+S+"'":(S=parseInt(S,10),y=(y=o(S).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof g=="number")g<0?(b=o(g).slice(3),v="-"):(b=o(g).slice(2),v=""),b=v+b.slice(0,-1)+i[b.slice(-1)];else{if(Fr(g)!=="object")throw new Error("Don't know what to do with value type "+Fr(g)+".");b=s(g)}w.push(y+b)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,y,b,v,w={},S=1,A=w,k=[],j="",O="",M=p.length-1,N=1;N<M;N+=1)(v=p[N])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(v):v=="{"?(k.push([A,b]),A={},b=void 0):v=="}"?((y=k.pop())[0][y[1]]=A,b=void 0,A=y[0]):v=="-"?S=-1:b===void 0?n.hasOwnProperty(v)?(j+=n[v],b=parseInt(j,16)*S,S=1,j=""):j+=v:n.hasOwnProperty(v)?(O+=n[v],A[b]=parseInt(O,16)*S,S=1,b=void 0,O=""):O+=v;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var g=p.font,y=h.Unicode[g.postScriptName];y&&(g.metadata.Unicode={},g.metadata.Unicode.widths=y.widths,g.metadata.Unicode.kerning=y.kerning);var b=f.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])})(Ct.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,s){s=/^\x00\x01\x00\x00/.test(s)?e(s):e(o0(s)),o.metadata=t.API.TTFFont.open(s),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])})(Ct),Ct.API.addSvgAsImage=function(t,e,r,n,i,a,o,s){if(isNaN(e)||isNaN(r))throw Gr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Gr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Yt.canvg?Promise.resolve(Yt.canvg):tu(()=>import("./index.es-DYk7XGbh.js"),__vite__mapDeps([0,1]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,o,s)})},Ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},s=Object.keys(o),l=[],u=0,f=0,h=0;function p(y,b){var v,w=!1;for(v=0;v<y.length;v+=1)y[v]===b&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=s.length;for(h=0;h<g;h+=1)r[s[h]].value=r[s[h]].defaultValue,r[s[h]].explicitSet=!1}if(Fr(t)==="object"){for(i in t)if(a=t[i],p(s,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&p(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")l.push(String(a[u]-1));else if(a[u].length>1){for(f=0;f<a[u].length;f+=1)typeof a[u][f]!="number"&&(n=!1);n===!0&&l.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,b=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?b.push("/"+y+" /"+r[y].value):b.push("/"+y+" "+r[y].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+s.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+s+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Ct.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,o){for(var s,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],h=0,p=a.length;h<p;++h){if(s=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(s),o.metadata.toUnicode[s]=a.charCodeAt(h),l.indexOf(s)==-1&&(l.push(s),l.push([parseInt(o.metadata.widthOfGlyph(s),10)])),s=="0")return f.join("");s=s.toString(16),f.push(u[4-s.length],s)}return f.join("")},n=function(a){var o,s,l,u,f,h,p;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(s=Object.keys(a).sort(function(g,y){return g-y})).length;h<p;h++)o=s[h],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,f=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="Identity-H"){for(var h=s.metadata.Unicode.widths,p=s.metadata.subset.encode(s.metadata.glyIdsUsed,1),g="",y=0;y<p.length;y++)g+=String.fromCharCode(p[y]);var b=u();f({data:g,addLength1:!0,objectId:b}),l("endobj");var v=u();f({data:n(s.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+jd(s.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/Flags "+s.metadata.flags),l("/StemV "+s.metadata.stemV),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+jd(s.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+s.encoding+")"),l(">>"),l(">>"),l("endobj"),s.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+jd(s.fontName)),l("/Encoding /"+s.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var s=o.font,l=o.out,u=o.newObject,f=o.putStream;if(s.metadata instanceof t.API.TTFFont&&s.encoding==="WinAnsiEncoding"){for(var h=s.metadata.rawData,p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var y=u();f({data:p,addLength1:!0,objectId:y}),l("endobj");var b=u();f({data:n(s.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var v=u();l("<<"),l("/Descent "+s.metadata.decender),l("/CapHeight "+s.metadata.capHeight),l("/StemV "+s.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(s.metadata.bbox)),l("/FontName /"+jd(s.fontName)),l("/ItalicAngle "+s.metadata.italicAngle),l("/Ascent "+s.metadata.ascender),l(">>"),l("endobj"),s.objectNumber=u();for(var w=0;w<s.metadata.hmtx.widths.length;w++)s.metadata.hmtx.widths[w]=parseInt(s.metadata.hmtx.widths[w]*(1e3/s.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+jd(s.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+s.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(s.metadata.hmtx.widths)+">>"),l("endobj"),s.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,s=a.text||"",l=a.x,u=a.y,f=a.options||{},h=a.mutex||{},p=h.pdfEscape,g=h.activeFontKey,y=h.fonts,b=g,v="",w=0,S="",A=y[b].encoding;if(y[b].encoding!=="Identity-H")return{text:s,x:l,y:u,options:f,mutex:h};for(S=s,b=g,Array.isArray(s)&&(S=s[0]),w=0;w<S.length;w+=1)y[b].metadata.hasOwnProperty("cmap")&&(o=y[b].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),o||S[w].charCodeAt(0)<256&&y[b].metadata.hasOwnProperty("Unicode")?v+=S[w]:v+="";var k="";return parseInt(b.slice(1))<14||A==="WinAnsiEncoding"?k=p(v,b).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(k=r(v,y[b])),h.isHex=!0,{text:k,x:l,y:u,options:f,mutex:h}};e.events.push(["postProcessText",function(a){var o=a.text||"",s=[],l={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?s.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):s.push(i(Object.assign({},l,{text:o[u]})).text);a.text=s}else a.text=i(Object.assign({},l,{text:o})).text}])})(Ct),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ct.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,o,s,l,u,f,h=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,A=0;this.__bidiEngine__={};var k=function(T){var L=T.charCodeAt(),$=L>>8,F=b[$];return F!==void 0?h[256*F+(255&L)]:$===252||$===253?"AL":w.test($)?"L":$===8?"R":"N"},j=function(T){for(var L,$=0;$<T.length;$++){if((L=k(T.charAt($)))==="L")return!1;if(L==="R")return!0}return!1},O=function(T,L,$,F){var U,z,q,G,K=L[F];switch(K){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(K="AN");break;case"AL":S=!0,K="R";break;case"WS":case"BN":K="N";break;case"CS":F<1||F+1>=L.length||(U=$[F-1])!=="EN"&&U!=="AN"||(z=L[F+1])!=="EN"&&z!=="AN"?K="N":S&&(z="AN"),K=z===U?z:"N";break;case"ES":K=(U=F>0?$[F-1]:"B")==="EN"&&F+1<L.length&&L[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&$[F-1]==="EN"){K="EN";break}if(S){K="N";break}for(q=F+1,G=L.length;q<G&&L[q]==="ET";)q++;K=q<G&&L[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!s){for(G=L.length,q=F+1;q<G&&L[q]==="NSM";)q++;if(q<G){var te=T[F],X=te>=1425&&te<=2303||te===64286;if(U=L[q],X&&(U==="R"||U==="AL")){K="R";break}}}K=F<1||(U=L[F-1])==="B"?"N":$[F-1];break;case"B":S=!1,i=!0,K=A;break;case"S":a=!0,K="N"}return K},M=function(T,L,$){var F=T.split("");return $&&N(F,$,{hiLevel:A}),F.reverse(),L&&L.reverse(),F.join("")},N=function(T,L,$){var F,U,z,q,G,K=-1,te=T.length,X=0,D=[],Y=A?g:p,J=[];for(S=!1,i=!1,a=!1,U=0;U<te;U++)J[U]=k(T[U]);for(z=0;z<te;z++){if(G=X,D[z]=O(T,J,D,z),F=240&(X=Y[G][y[D[z]]]),X&=15,L[z]=q=Y[X][5],F>0)if(F===16){for(U=K;U<z;U++)L[U]=1;K=-1}else K=-1;if(Y[X][6])K===-1&&(K=z);else if(K>-1){for(U=K;U<z;U++)L[U]=q;K=-1}J[z]==="B"&&(L[z]=0),$.hiLevel|=q}a&&(function(ee,ue,me){for(var fe=0;fe<me;fe++)if(ee[fe]==="S"){ue[fe]=A;for(var le=fe-1;le>=0&&ee[le]==="WS";le--)ue[le]=A}})(J,L,te)},C=function(T,L,$,F,U){if(!(U.hiLevel<T)){if(T===1&&A===1&&!i)return L.reverse(),void($&&$.reverse());for(var z,q,G,K,te=L.length,X=0;X<te;){if(F[X]>=T){for(G=X+1;G<te&&F[G]>=T;)G++;for(K=X,q=G-1;K<q;K++,q--)z=L[K],L[K]=L[q],L[q]=z,$&&(z=$[K],$[K]=$[q],$[q]=z);X=G}X++}}},H=function(T,L,$){var F=T.split(""),U={hiLevel:A};return $||($=[]),N(F,$,U),(function(z,q,G){if(G.hiLevel!==0&&f)for(var K,te=0;te<z.length;te++)q[te]===1&&(K=v.indexOf(z[te]))>=0&&(z[te]=v[K+1])})(F,$,U),C(2,F,L,$,U),C(1,F,L,$,U),F.join("")};return this.__bidiEngine__.doBidiReorder=function(T,L,$){if((function(U,z){if(z)for(var q=0;q<U.length;q++)z[q]=q;s===void 0&&(s=j(U)),u===void 0&&(u=j(U))})(T,L),o||!l||u)if(o&&l&&s^u)A=s?1:0,T=M(T,L,$);else if(!o&&l&&u)A=s?1:0,T=H(T,L,$),T=M(T,L);else if(!o||s||l||u){if(o&&!l&&s^u)T=M(T,L),s?(A=0,T=H(T,L,$)):(A=1,T=H(T,L,$),T=M(T,L));else if(o&&s&&!l&&u)A=1,T=H(T,L,$),T=M(T,L);else if(!o&&!l&&s^u){var F=f;s?(A=1,T=H(T,L,$),A=0,f=!1,T=H(T,L,$),f=F):(A=0,T=H(T,L,$),T=M(T,L),A=1,f=!1,T=H(T,L,$),f=F,T=M(T,L))}}else A=0,T=H(T,L,$);else A=s?1:0,T=H(T,L,$);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,s=T.isInputRtl,u=T.isOutputRtl,f=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var s=0;for(o=[],s=0;s<i.length;s+=1)Object.prototype.toString.call(i[s])==="[object Array]"?o.push([r.doBidiReorder(i[s][0]),i[s][1],i[s][2]]):o.push([r.doBidiReorder(i[s])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Ct),Ct.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new rc(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new goe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new toe(this.contents),this.head=new noe(this),this.name=new loe(this),this.cmap=new HM(this),this.toUnicode={},this.hhea=new ioe(this),this.maxp=new uoe(this),this.hmtx=new coe(this),this.post=new ooe(this),this.os2=new aoe(this),this.loca=new poe(this),this.glyf=new foe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,s,l,u;for(u=[],o=0,s=(l=this.bbox).length;o<s;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,o,s;for(o=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Cs,rc=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,o,s,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^s)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*s+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t})(),toe=(function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,o,s,l,u,f,h,p,g,y,b;for(b in g=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(g)/l),o=Math.floor(h/l),f=16*g-h,(i=new rc).writeInt(this.scalarType),i.writeShort(g),i.writeShort(h),i.writeShort(o),i.writeShort(f),a=16*g,u=i.pos+a,s=null,y=[],r)for(p=r[b],i.writeString(b),i.writeInt(t(p)),i.writeInt(u),i.writeInt(p.length),y=y.concat(p),b==="head"&&(s=u),u+=p.length;u%4;)y.push(0),u++;return i.write(y),n=2981146554-t(i.data),i.pos=s+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,o;for(r=VM.call(r);r.length%4;)r.push(0);for(a=new rc(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),roe={}.hasOwnProperty,ll=function(t,e){for(var r in e)roe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Cs=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var noe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Cs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new rc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),YT=(function(){function t(e,r){var n,i,a,o,s,l,u,f,h,p,g,y,b,v,w,S,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,a=(function(){var k,j;for(j=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)j.push(e.readUInt16());return j})(),e.pos+=2,b=(function(){var k,j;for(j=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)j.push(e.readUInt16());return j})(),u=(function(){var k,j;for(j=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)j.push(e.readUInt16());return j})(),f=(function(){var k,j;for(j=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)j.push(e.readUInt16());return j})(),i=(this.length-e.pos+this.offset)/2,s=(function(){var k,j;for(j=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)j.push(e.readUInt16());return j})(),l=w=0,A=a.length;w<A;l=++w)for(v=a[l],n=S=y=b[l];y<=v?S<=v:S>=v;n=y<=v?++S:--S)f[l]===0?o=n+u[l]:(o=s[f[l]/2+(n-y)-(p-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}e.pos=h}return t.encode=function(e,r){var n,i,a,o,s,l,u,f,h,p,g,y,b,v,w,S,A,k,j,O,M,N,C,H,T,L,$,F,U,z,q,G,K,te,X,D,Y,J,ee,ue,me,fe,le,ve,Ae,be;switch(F=new rc,o=Object.keys(e).sort(function(De,Ee){return De-Ee}),r){case"macroman":for(b=0,v=(function(){var De=[];for(y=0;y<256;++y)De.push(0);return De})(),S={0:0},a={},U=0,K=o.length;U<K;U++)S[le=e[i=o[U]]]==null&&(S[le]=++b),a[i]={old:e[i],new:S[e[i]]},v[i]=S[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(v),{charMap:a,subtable:F.data,maxGlyphID:b+1};case"unicode":for(L=[],h=[],A=0,S={},n={},w=u=null,z=0,te=o.length;z<te;z++)S[j=e[i=o[z]]]==null&&(S[j]=++A),n[i]={old:j,new:S[j]},s=S[j]-i,w!=null&&s===u||(w&&h.push(w),L.push(i),u=s),w=i;for(w&&h.push(w),h.push(65535),L.push(65535),H=2*(C=L.length),N=2*Math.pow(Math.log(C)/Math.LN2,2),p=Math.log(N/2)/Math.LN2,M=2*C-N,l=[],O=[],g=[],y=q=0,X=L.length;q<X;y=++q){if(T=L[y],f=h[y],T===65535){l.push(0),O.push(0);break}if(T-($=n[T].new)>=32768)for(l.push(0),O.push(2*(g.length+C-y)),i=G=T;T<=f?G<=f:G>=f;i=T<=f?++G:--G)g.push(n[i].new);else l.push($-T),O.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*C+2*g.length),F.writeUInt16(0),F.writeUInt16(H),F.writeUInt16(N),F.writeUInt16(p),F.writeUInt16(M),me=0,D=h.length;me<D;me++)i=h[me],F.writeUInt16(i);for(F.writeUInt16(0),fe=0,Y=L.length;fe<Y;fe++)i=L[fe],F.writeUInt16(i);for(ve=0,J=l.length;ve<J;ve++)s=l[ve],F.writeUInt16(s);for(Ae=0,ee=O.length;Ae<ee;Ae++)k=O[Ae],F.writeUInt16(k);for(be=0,ue=g.length;be<ue;be++)b=g[be],F.writeUInt16(b);return{charMap:n,subtable:F.data,maxGlyphID:A+1}}},t})(),HM=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Cs),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new YT(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=YT.encode(e,r),(i=new rc).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),ioe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Cs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),aoe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Cs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),ooe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Cs),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,s,l;for(l=[],a=o=0,s=this.file.maxp.numGlyphs;0<=s?o<s:o>s;a=0<=s?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t})(),soe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},loe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Cs),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,o,s,l,u,f,h,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),s=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(l={},a=f=0,h=n.length;f<h;a=++f)i=n[a],e.pos=i.offset,u=e.readString(i.length),o=new soe(u,i),l[p=i.nameID]==null&&(l[p]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),uoe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Cs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),coe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Cs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,o,s,l;for(e.pos=this.offset,this.metrics=[],r=0,s=this.file.hhea.numberOfMetrics;0<=s?r<s:r>s;r=0<=s?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,f;for(f=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)f.push(e.readInt16());return f})(),this.widths=(function(){var u,f,h,p;for(p=[],u=0,f=(h=this.metrics).length;u<f;u++)a=h[u],p.push(a.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=i?o<i:o>i;r=0<=i?++o:--o)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),VM=[].slice,foe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Cs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,o,s,l,u,f,h;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(s=new rc(r.read(i))).readShort(),u=s.readShort(),h=s.readShort(),l=s.readShort(),f=s.readShort(),this.cache[e]=o===-1?new hoe(s,u,h,l,f):new doe(s,o,u,h,l,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,o,s,l;for(o=[],a=[],s=0,l=r.length;s<l;s++)i=e[r[s]],a.push(o.length),i&&(o=o.concat(i.encode(n)));return a.push(o.length),{table:o,offsets:a}},t})(),doe=(function(){function t(e,r,n,i,a,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),hoe=(function(){function t(e,r,n,i,a){var o,s;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new rc(VM.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),poe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ll(t,Cs),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<n.length;++o)if(n[o]=i,a<r.length&&r[a]==o){++a,n[o]=i;var s=this.offsets[o],l=this.offsets[o+1]-s;l>0&&(i+=l)}for(var u=new Array(4*n.length),f=0;f<n.length;++f)u[4*f+3]=255&n[f],u[4*f+2]=(65280&n[f])>>8,u[4*f+1]=(16711680&n[f])>>16,u[4*f]=(4278190080&n[f])>>24;return u},t})(),goe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,o,s,l;for(i={},o=0,s=e.length;o<s;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,o,s,l,u,f,h,p,g,y,b,v,w;for(i in n=HM.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},w=n.charMap)g[(l=w[i]).old]=l.new;for(y in p=n.maxGlyphID,o)y in g||(g[y]=p++);return f=(function(S){var A,k;for(A in k={},S)k[S[A]]=A;return k})(g),h=Object.keys(f).sort(function(S,A){return S-A}),b=(function(){var S,A,k;for(k=[],S=0,A=h.length;S<A;S++)s=h[S],k.push(f[s]);return k})(),a=this.font.glyf.encode(o,b,g),u=this.font.loca.encode(a.offsets,b),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t})();Ct.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+(function(){var s,l,u;for(u=[],s=0,l=r.length;s<l;s++)n=r[s],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+r},e})();function GM(t,e,r,n,i){n=n||{};var a=1.15,o=i.internal.scaleFactor,s=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():a,u=s*l,f=/\r\n|\r|\n/g,h="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(h=typeof t=="string"?t.split(f):t,p=h.length||1),r+=s*(2-a),n.valign==="middle"?r-=p/2*u:n.valign==="bottom"&&(r-=p*u),n.halign==="center"||n.halign==="right"){var g=s;if(n.halign==="center"&&(g*=.5),h&&p>=1){for(var y=0;y<h.length;y++)i.text(h[y],e-i.getStringUnitWidth(h[y])*g,r),r+=u;return i}e-=i.getStringUnitWidth(t)*g}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var XT={},Wd=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:XT=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,a;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),s=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){s=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(s)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),s=u[0])}if(this.jsPDFDocument.setFont(l,s),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=t.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(a=this.jsPDFDocument).setDrawColor.apply(a,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,a){return this.jsPDFDocument.rect(e,r,n,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return XT||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),eS=function(t,e){return eS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},eS(t,e)};function KM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");eS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var YM=(function(t){KM(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function moe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function voe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function bv(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function XM(t,e,r,n){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var o=JM(i,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function JM(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function by(t,e){var r,n,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function ZM(t,e){var r=by(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function yoe(t,e,r,n,i){var a={},o=1.3333333333333333,s=Jx(e,function(A){return i.getComputedStyle(A).backgroundColor});s!=null&&(a.fillColor=s);var l=Jx(e,function(A){return i.getComputedStyle(A).color});l!=null&&(a.textColor=l);var u=woe(n,r);u&&(a.cellPadding=u);var f="borderTopColor",h=o*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var g=(parseFloat(p)||0)/h;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/h,right:(parseFloat(n.borderRightWidth)||0)/h,bottom:(parseFloat(n.borderBottomWidth)||0)/h,left:(parseFloat(n.borderLeftWidth)||0)/h},a.lineWidth.top||(a.lineWidth.right?f="borderRightColor":a.lineWidth.bottom?f="borderBottomColor":a.lineWidth.left&&(f="borderLeftColor"));var y=Jx(e,function(A){return i.getComputedStyle(A)[f]});y!=null&&(a.lineColor=y);var b=["left","right","center","justify"];b.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),b=["middle","bottom","top"],b.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(a.fontSize=v/o);var w=boe(n);w&&(a.fontStyle=w);var S=(n.fontFamily||"").toLowerCase();return t.indexOf(S)!==-1&&(a.font=S),a}function boe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Jx(t,e){var r=QM(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function QM(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:QM(t.parentElement,e):r}function woe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=r.map(function(s){return parseInt(s||"0")/n}),o=by(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function e7(t,e,r,n,i){var a,o;n===void 0&&(n=!1),i===void 0&&(i=!1);var s;typeof e=="string"?s=r.document.querySelector(e):s=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],h=[],p=[];if(!s)return console.error("Html table could not be found with input: ",e),{head:f,body:h,foot:p};for(var g=0;g<s.rows.length;g++){var y=s.rows[g],b=(o=(a=y?.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),v=xoe(l,u,r,y,n,i);v&&(b==="thead"?f.push(v):b==="tfoot"?p.push(v):h.push(v))}return{head:f,body:h,foot:p}}function xoe(t,e,r,n,i,a){for(var o=new YM(n),s=0;s<n.cells.length;s++){var l=n.cells[s],u=r.getComputedStyle(l);if(i||u.display!=="none"){var f=void 0;a&&(f=yoe(t,l,e,u,r)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:f,_element:l,content:_oe(l)})}}var h=r.getComputedStyle(n);if(o.length>0&&(i||h.display!=="none"))return o}function _oe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Soe(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Jl(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),o=1;o<arguments.length;o++){var s=arguments[o];if(s!=null)for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=s[l])}return a}function t7(t,e){var r=new Wd(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();Soe(i,n,e);var a=Jl({},i,n,e),o;typeof window<"u"&&(o=window);var s=Aoe(i,n,e),l=Poe(i,n,e),u=Eoe(r,a),f=Ooe(r,a,o);return{id:e.tableId,content:f,hooks:l,styles:s,settings:u}}function Aoe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],f=e[l],h=r[l];n.columnStyles=Jl({},u,f,h)}else{var p=[t,e,r],g=p.map(function(y){return y[l]||{}});n[l]=Jl({},g[0],g[1],g[2])}},a=0,o=Object.keys(n);a<o.length;a++){var s=o[a];i(s)}return n}function Poe(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=n;a<o.length;a++){var s=o[a];s.didParseCell&&i.didParseCell.push(s.didParseCell),s.willDrawCell&&i.willDrawCell.push(s.willDrawCell),s.didDrawCell&&i.didDrawCell.push(s.didDrawCell),s.willDrawPage&&i.willDrawPage.push(s.willDrawPage),s.didDrawPage&&i.didDrawPage.push(s.didDrawPage)}return i}function Eoe(t,e){var r,n,i,a,o,s,l,u,f,h,p,g,y=by(e.margin,40/t.scaleFactor()),b=(r=koe(t,e.startY))!==null&&r!==void 0?r:y.top,v;e.showFoot===!0?v="everyPage":e.showFoot===!1?v="never":v=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var S=(a=e.useCss)!==null&&a!==void 0?a:!1,A=e.theme||(S?"plain":"striped"),k=!!e.horizontalPageBreak,j=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(s=e.includeHiddenHtml)!==null&&s!==void 0?s:!1,useCss:S,theme:A,startY:b,margin:y,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:w,showFoot:v,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:k,horizontalPageBreakRepeat:j,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function koe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),a=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;a=o===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&r?.finalY!=null?r.finalY+20/n:null}function Ooe(t,e,r){var n=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var s=e7(t,e.html,r,o,e.useCss)||{};n=s.head||n,i=s.body||n,a=s.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||joe(n,i,a);return{columns:l,head:n,body:i,foot:a}}function joe(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,s;Array.isArray(n)?s=n[parseInt(a)]:s=n[a],typeof s=="object"&&!Array.isArray(s)&&(o=s?.colSpan||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(n)?u=i.length:u=a+(l>0?"_".concat(l):"");var f={dataKey:u};i.push(f)}}),i}var tS=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),Coe=(function(t){KM(e,t);function e(r,n,i,a,o,s){var l=t.call(this,r,n,s)||this;return l.cell=i,l.row=a,l.column=o,l.section=a.section,l}return e})(tS),Noe=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,a,o){for(var s=0,l=r;s<l.length;s++){var u=l[s],f=new Coe(e,this,n,i,a,o),h=u(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new tS(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new tS(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),r7=(function(){function t(e,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof YM&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,a){var o=n.cells[a.index];if(!o)return 0;var s=r.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+s;return u>i?u:i},0)},t})(),n7=(function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",s=/\r\n|\r|\n/g;this.text=o.split(s)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=by(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),Toe=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var a=i[n],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t})();function Loe(t,e){Ioe(t,e);var r=[],n=0;e.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(e);o?a.width=o:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=rS(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=rS(r,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Moe(e),Doe(e,t),Roe(e)}function Ioe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=ZM(t,e);e.allRows().forEach(function(a){for(var o=0,s=e.columns;o<s.length;o++){var l=s[o],u=a.cells[l.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,a,l,null);var h=u.padding("horizontal");u.contentWidth=bv(u.text,u.styles,t)+h;var p=bv(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var g=10/r;u.minWidth=u.styles.minCellWidth||g,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(a){for(var o=0,s=e.columns;o<s.length;o++){var l=s[o],u=a.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},h=f.cellWidth||f.minCellWidth;h&&typeof h=="number"&&(l.minWidth=h,l.wrappedWidth=h)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function rS(t,e,r){for(var n=e,i=t.reduce(function(g,y){return g+y.wrappedWidth},0),a=0;a<t.length;a++){var o=t[a],s=o.wrappedWidth/i,l=n*s,u=o.width+l,f=r(o),h=u<f?f:u;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var p=t.filter(function(g){return e<0?g.width>r(g):!0});p.length&&(e=rS(p,e,r))}return e}function Roe(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var a=n[i],o=0,s=t.columns;o<s.length;o++){var l=s[o],u=e[l.index];if(r>1)r--,delete a.cells[l.index];else if(u)u.cell.height+=a.height,r=u.cell.colSpan,delete a.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var f=a.cells[l.index];if(!f)continue;if(f.height=a.height,f.rowSpan>1){var h=n.length-i,p=f.rowSpan>h?h:f.rowSpan;e[l.index]={cell:f,left:p,row:a}}}}}function Moe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,a=0,o=0,s=0;s<t.columns.length;s++){var l=t.columns[s];if(o-=1,o>1&&t.columns[s+1])a+=l.width,delete n.cells[l.index];else if(i){var u=i;delete n.cells[l.index],i=null,u.width=l.width+a}else{var u=n.cells[l.index];if(!u)continue;if(o=u.colSpan,a=0,u.colSpan>1){i=u,a+=l.width;continue}u.width=l.width+a}}}function Doe(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var a=i[n],o=0,s=t.columns;o<s.length;o++){var l=s[o],u=a.cells[l.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=JT(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=JT(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var h=u.styles.overflow(u.text,f);typeof h=="string"?u.text=[h]:u.text=h}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<p*u.rowSpan?r={height:p,count:u.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>a.height&&(a.height=p)}}r.count--}}function JT(t,e,r,n,i){return t.map(function(a){return Foe(a,e,r,n,i)})}function Foe(t,e,r,n,i){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=bv(t,r,n))return t;for(;e<bv(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function i7(t,e){var r=new Wd(t),n=Boe(e,r.scaleFactor()),i=new Noe(e,n);return Loe(r,i),r.applyStyles(r.userStyles),i}function Boe(t,e){var r=t.content,n=Uoe(r.columns);if(r.head.length===0){var i=ZT(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=ZT(n,"foot");i&&r.foot.push(i)}var a=t.settings.theme,o=t.styles;return{columns:n,head:Zx("head",r.head,n,o,a,e),body:Zx("body",r.body,n,o,a,e),foot:Zx("foot",r.foot,n,o,a,e)}}function Zx(t,e,r,n,i,a){var o={},s=e.map(function(l,u){for(var f=0,h={},p=0,g=0,y=0,b=r;y<b.length;y++){var v=b[y];if(o[v.index]==null||o[v.index].left===0)if(g===0){var w=void 0;Array.isArray(l)?w=l[v.index-p-f]:w=l[v.dataKey];var S={};typeof w=="object"&&!Array.isArray(w)&&(S=w?.styles||{});var A=qoe(t,v,u,i,n,a,S),k=new n7(w,A,t);h[v.dataKey]=k,h[v.index]=k,g=k.colSpan-1,o[v.index]={left:k.rowSpan-1,times:g}}else g--,p++;else o[v.index].left--,g=o[v.index].times,f++}return new r7(l,u,t,h)});return s}function ZT(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=$oe(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function $oe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Uoe(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new Toe(i,e,r)})}function qoe(t,e,r,n,i,a,o){var s=voe(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=Jl({},s.table,s[t],i.styles,l),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},h=t==="body"?f:{},p=t==="body"&&r%2===0?Jl({},s.alternateRow,i.alternateRowStyles):{},g=moe(a),y=Jl({},g,u,p,h);return Jl(y,o)}function zoe(t,e,r){var n;r===void 0&&(r={});var i=ZM(t,e),a=new Map,o=[],s=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var g=e.columns.find(function(y){return y.dataKey===p||y.index===p});g&&!a.has(g.index)&&(a.set(g.index,!0),o.push(g.index),s.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var u=!0,f=(n=r?.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(a.has(f)){f++;continue}var h=e.columns[f].wrappedWidth;if(u||i>=h)u=!1,o.push(f),s.push(e.columns[f]),i-=h;else break;f++}return{colIndexes:o,columns:s,lastIndex:f-1}}function Woe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=zoe(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function a7(t,e){var r=e.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),s=n+i.bottom+o;if(r.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(p,g){return p+g.height},0);s+=u}var f=new Wd(t);(r.pageBreak==="always"||r.startY!=null&&s>f.pageSize().height)&&(s7(f),a.y=i.top),e.callWillDrawPageHooks(f,a);var h=Jl({},a);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?Hoe(f,e,h,a):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(p){return au(f,e,p,a,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(p,g){var y=g===e.body.length-1;wv(f,e,p,y,h,a,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(p){return au(f,e,p,a,e.columns)})),XM(f,e,h,a),e.callEndPageHooks(f,a),e.finalY=a.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function Hoe(t,e,r,n){var i=Woe(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?jp(t,e,r,n,u.columns,!0):QT(t,e,n,u.columns),Voe(t,e,r,n,u.columns),Qx(t,e,n,u.columns)});else for(var o=-1,s=i[0],l=function(){var u=o;if(s){t.applyStyles(t.userStyles);var f=s.columns;o>=0?jp(t,e,r,n,f,!0):QT(t,e,n,f),u=e6(t,e,o+1,n,f),Qx(t,e,n,f)}var h=u-o;i.slice(1).forEach(function(p){t.applyStyles(t.userStyles),jp(t,e,r,n,p.columns,!0),e6(t,e,o+1,n,p.columns,h),Qx(t,e,n,p.columns)}),o=u};o<e.body.length-1;)l()}function QT(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return au(t,e,a,r,n)})}function Voe(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,o){var s=o===e.body.length-1;wv(t,e,a,s,r,n,i)})}function e6(t,e,r,n,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var o=Math.min(r+a,e.body.length),s=-1;return e.body.slice(r,o).forEach(function(l,u){var f=r+u===e.body.length-1,h=o7(t,e,f,n);l.canEntireRowFit(h,i)&&(au(t,e,l,n,i),s=r+u)}),s}function Qx(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return au(t,e,a,r,n)})}function Goe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/n);return Math.max(0,a)}function Koe(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,o=0,s=r.columns;o<s.length;o++){var l=s[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new n7(u.raw,u.styles,u.section);f=Jl(f,u),f.text=[];var h=Goe(u,e,n);u.text.length>h&&(f.text=u.text.splice(h,u.text.length));var p=n.scaleFactor(),g=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,g),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(p,g),f.contentHeight>a&&(a=f.contentHeight),i[l.index]=f}}var y=new r7(t.raw,-1,t.section,i,!0);y.height=a;for(var b=0,v=r.columns;b<v.length;b++){var l=v[b],f=y.cells[l.index];f&&(f.height=y.height);var u=t.cells[l.index];u&&(u.height=t.height)}return y}function Yoe(t,e,r,n){var i=t.pageSize().height,a=n.settings.margin,o=a.top+a.bottom,s=i-o;e.section==="body"&&(s-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),u=l<r;if(l>s)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(n.columns),h=e.getMaxCellHeight(n.columns)>s;return h?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function wv(t,e,r,n,i,a,o){var s=o7(t,e,n,a);if(r.canEntireRowFit(s,o))au(t,e,r,a,o);else if(Yoe(t,r,s,e)){var l=Koe(r,s,e,t);au(t,e,r,a,o),jp(t,e,i,a,o),wv(t,e,l,n,i,a,o)}else jp(t,e,i,a,o),wv(t,e,r,n,i,a,o)}function au(t,e,r,n,i){n.x=e.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var s=o[a],l=r.cells[s.index];if(!l){n.x+=s.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,r,s,n);if(u===!1){n.x+=s.width;continue}Xoe(t,l,n);var f=l.getTextPos();GM(l.text,f.x,f.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,s,n),n.x+=s.width}n.y+=r.height}function Xoe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=JM(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),Joe(t,e,r,n.lineWidth))}function Joe(t,e,r,n){var i,a,o,s;n.top&&(i=r.x,a=r.y,o=r.x+e.width,s=r.y,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,a,o,s)),n.bottom&&(i=r.x,a=r.y+e.height,o=r.x+e.width,s=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,a,o,s)),n.left&&(i=r.x,a=r.y,o=r.x,s=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(s+=.5*n.bottom),l(n.left,i,a,o,s)),n.right&&(i=r.x+e.width,a=r.y,o=r.x+e.width,s=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(s+=.5*n.bottom),l(n.right,i,a,o,s));function l(u,f,h,p,g){t.getDocument().setLineWidth(u),t.getDocument().line(f,h,p,g,"S")}}function o7(t,e,r,n){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function jp(t,e,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(s){return au(t,e,s,n,i)}),e.callEndPageHooks(t,n);var o=e.settings.margin;XM(t,e,r,n),s7(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(s){return au(t,e,s,n,i)}),t.applyStyles(t.userStyles))}function s7(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function Zoe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=t7(this,n),a=i7(this,i);return a7(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){GM(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return Wd.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Wd.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Wd(this),a=e7(i,e,window,r,!1),o=a.head,s=a.body,l=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:s,data:s}}}var e5;function Qoe(t,e){var r=t7(t,e),n=i7(t,r);a7(t,n)}try{if(typeof window<"u"&&window){var t6=window,r6=t6.jsPDF||((e5=t6.jspdf)===null||e5===void 0?void 0:e5.jsPDF);r6&&Zoe(r6)}}catch(t){console.error("Could not apply autoTable plugin",t)}const xv=async t=>{try{let e;t.startsWith("http")?e=new URL(t):e=new URL(t,window.location.origin),e.searchParams.append("report","true"),e.searchParams.append("t",Date.now().toString());const r=await fetch(e.toString(),{mode:"cors",credentials:"omit",cache:"no-store"});if(!r.ok)return null;const n=await r.blob();return await new Promise(i=>{const a=new FileReader;a.onloadend=()=>i(a.result),a.readAsDataURL(n)})}catch{return null}},l7=t=>{const e=t.name.replace(/[^\w\s-]+/g,"").replace(/\s+/g,"_"),r=new Date,n=a=>`${a}`.padStart(2,"0"),i=`${r.getFullYear()}-${n(r.getMonth()+1)}-${n(r.getDate())}_${n(r.getHours())}-${n(r.getMinutes())}-${n(r.getSeconds())}`;return`${e}_Snag_Report_${i}.pdf`},n6=async(t,e=1600,r=.78)=>new Promise(n=>{const i=new Image;i.onload=()=>{const a=document.createElement("canvas");let{width:o,height:s}=i;const l=Math.min(1,e/Math.max(o,s));o*=l,s*=l,a.width=o,a.height=s;const u=a.getContext("2d");if(!u)return n(t);u.drawImage(i,0,0,o,s),n(a.toDataURL("image/jpeg",r))},i.onerror=()=>n(t),i.src=t}),u7=async(t,e,r)=>{const n=new Map;if(e.forEach(o=>{if(o.plan_x!=null&&o.plan_y!=null){const s=o.plan_id||"legacy",l=o.plan_page??1;n.has(s)||n.set(s,new Set),n.get(s)?.add(l)}}),n.size===0)return[];const{data:i}=await Qe.from("project_plans").select("*").eq("project_id",t.id).order("order",{ascending:!0}),a=[];if(i&&i.length>0){const o=i.map(async l=>{if(!n.has(l.id))return[];const u=n.get(l.id),f=[];if(l.url.toLowerCase().endsWith(".pdf"))try{const h=await tu(()=>import("./pdf-UA8D4yGl.js"),[]);h.GlobalWorkerOptions.workerSrc||(h.GlobalWorkerOptions.workerSrc="https://unpkg.com/pdfjs-dist@4.8.69/build/pdf.worker.min.mjs"),r?.(`Loading PDF plan: ${l.name}...`);const p=new URL(l.url);p.searchParams.append("report","true"),p.searchParams.append("t",Date.now().toString());const g=await fetch(p.toString(),{mode:"cors",credentials:"omit",cache:"no-store"});if(!g.ok)return console.error(`Failed to fetch PDF for plan ${l.name}: ${g.statusText}`),[];const y=await g.arrayBuffer(),b=await h.getDocument({data:y}).promise;for(let v=1;v<=b.numPages;v++){if(!u.has(v))continue;r?.(`Rendering page ${v} of ${l.name}...`);const w=await b.getPage(v),S=w.getViewport({scale:1.5}),A=document.createElement("canvas"),k=A.getContext("2d");if(!k)continue;A.width=S.width,A.height=S.height,await w.render({canvasContext:k,viewport:S}).promise;const j=A.toDataURL("image/jpeg",.85);f.push({planId:l.id,name:l.name,page:v,image:j})}}catch(h){console.error(`Failed to load PDF for plan ${l.name}`,h),r?.(`Error loading plan ${l.name}: ${h instanceof Error?h.message:"Unknown error"}`)}else if(u.has(1)){r?.(`Loading plan image: ${l.name}...`);const h=await xv(l.url);h&&f.push({planId:l.id,name:l.name,page:1,image:h})}return f});(await Promise.all(o)).forEach(l=>a.push(...l))}if(t.plan_image_url&&n.has("legacy")){const o=n.get("legacy"),s=t.plan_image_url;if(s.toLowerCase().endsWith(".pdf"))try{const l=await tu(()=>import("./pdf-UA8D4yGl.js"),[]);l.GlobalWorkerOptions.workerSrc||(l.GlobalWorkerOptions.workerSrc="https://unpkg.com/pdfjs-dist@4.8.69/build/pdf.worker.min.mjs"),r?.("Loading legacy PDF plan...");const u=new URL(s);u.searchParams.append("report","true"),u.searchParams.append("t",Date.now().toString());const f=await fetch(u.toString(),{mode:"cors",credentials:"omit",cache:"no-store"});if(f.ok){const h=await f.arrayBuffer(),p=await l.getDocument({data:h}).promise;for(let g=1;g<=p.numPages;g++){if(!o.has(g))continue;const y=await p.getPage(g),b=y.getViewport({scale:1.5}),v=document.createElement("canvas"),w=v.getContext("2d");if(w){v.width=b.width,v.height=b.height,await y.render({canvasContext:w,viewport:b}).promise;const S=v.toDataURL("image/jpeg",.85);a.push({planId:"legacy",name:"Floor Plan",page:g,image:S})}}}}catch(l){console.error("Failed to load legacy PDF plan",l),r?.("Error loading legacy plan")}else if(o.has(1)){r?.("Loading legacy plan image...");const l=await xv(s);l&&a.push({planId:"legacy",name:"Floor Plan",page:1,image:l})}}return a},ese=t=>new Promise(e=>{const r=new Image;r.onload=()=>e({width:r.width,height:r.height}),r.src=t}),c7=async(t,e,r,n,i=200)=>new Promise(a=>{const o=new Image;o.onload=()=>{const s=document.createElement("canvas");s.width=i,s.height=i;const l=s.getContext("2d");if(!l)return a(null);const u=e*o.width-i/2,f=r*o.height-i/2;l.drawImage(o,u,f,i,i,0,0,i,i);const h=i/2,p=i/2,g=12;l.beginPath(),l.arc(h,p,g,0,2*Math.PI),l.fillStyle="#f43f5e",l.fill(),l.strokeStyle="white",l.lineWidth=2,l.stroke(),n!==void 0&&(l.fillStyle="white",l.font="bold 14px Arial, sans-serif",l.textAlign="center",l.textBaseline="middle",l.fillText(String(n),h,p)),a(s.toDataURL("image/jpeg",.8))},o.onerror=()=>a(null),o.src=t}),Bo=()=>new Promise(t=>setTimeout(t,0)),nS=t=>({open:[239,68,68],in_progress:[249,115,22],completed:[34,197,94],verified:[59,130,246]})[t||"open"]||[107,114,128],Cp=t=>({critical:[239,68,68],high:[249,115,22],medium:[59,130,246],low:[34,197,94]})[t||"medium"]||[107,114,128],_v=t=>!t||t.trim()===""||t===""?"Not Specified":t,wp=(t,e,r,n)=>{const i=t.internal.pageSize.getWidth(),a=40;t.setDrawColor(226,232,240),t.setLineWidth(.5),t.line(a,25,i-a,25),t.setFontSize(9),t.setTextColor(107,114,128),t.text(e,a,15),t.text(`Page ${r} of ${n}`,i-a,15,{align:"right"})},tse=async(t,e,r)=>{const n=t.internal.pageSize.getWidth(),i=t.internal.pageSize.getHeight(),a=await xv(t8.letterhead);a&&t.addImage(a,"PNG",0,0,n,i);let o=i*.35;return t.setFontSize(28),t.setTextColor(vn.black),t.text("SNAGGING REPORT",n/2,o,{align:"center"}),o+=40,t.setFontSize(14),t.setTextColor(vn.grey),t.text(e.name,n/2,o,{align:"center"}),o+=35,t.setFontSize(11),t.text(`Client: ${e.client_name||"Not Specified"}`,n/2,o,{align:"center"}),e.project_number&&(o+=25,t.setFontSize(11),t.setTextColor(vn.grey),t.text(`Project No: ${e.project_number}`,n/2,o,{align:"center"})),o+=30,t.setFontSize(10),t.setTextColor(150,155,160),t.text(`Date of Inspection: ${new Date().toLocaleDateString()}`,n/2,o,{align:"center"}),1},rse=async(t,e,r)=>{const n=t.internal.pageSize.getWidth();t.internal.pageSize.getHeight();const i=40;t.addPage();const a=t.getNumberOfPages();wp(t,e.name,2,a);let o=50;t.setFontSize(16),t.setTextColor(vn.black),t.text("Executive Summary",i,o),o+=30;const s={},l={};if(r.forEach(f=>{const h=f.status||"open",p=f.priority||"medium";s[h]=(s[h]||0)+1,l[p]=(l[p]||0)+1}),t.setFontSize(12),t.setTextColor(vn.black),t.text("Status Breakdown:",i,o),o+=18,t.setFontSize(10),Object.entries(s).forEach(([f,h])=>{const p=nS(f);t.setFillColor(...p),t.rect(i,o-5,8,8,"F"),t.setTextColor(vn.black),t.text(`${f.charAt(0).toUpperCase()+f.slice(1)}: ${h} snag${h!==1?"s":""}`,i+14,o),o+=12}),o+=10,t.setFontSize(12),t.setTextColor(vn.black),t.text("Priority Breakdown:",i,o),o+=18,t.setFontSize(10),Object.entries(l).forEach(([f,h])=>{const p=Cp(f);t.setFillColor(...p),t.rect(i,o-5,8,8,"F"),t.setTextColor(vn.black),t.text(`${f.charAt(0).toUpperCase()+f.slice(1)}: ${h} snag${h!==1?"s":""}`,i+14,o),o+=12}),o+=15,t.setFontSize(11),t.setTextColor(vn.black),t.text("Project Details:",i,o),o+=16,t.setFontSize(10),t.setTextColor(vn.grey),[["Project:",e.name],["Client:",e.client_name||"Not Specified"],...e.project_number?[["Project Number:",e.project_number]]:[],...e.address?[["Address:",e.address]]:[],...e.inspection_type?[["Inspection Type:",e.inspection_type]]:[],...e.inspection_scope?[["Scope:",e.inspection_scope]]:[]].forEach(([f,h])=>{t.setTextColor(107,114,128),t.text(f,i,o),t.setTextColor(vn.black),t.text(h,i+80,o),o+=12}),e.inspection_description){o+=10,t.setFontSize(10),t.setTextColor(107,114,128),t.text("Inspection Notes:",i,o),o+=12,t.setTextColor(vn.grey);const f=t.splitTextToSize(e.inspection_description,n-i*2-20);t.text(f,i+10,o)}},nse=async({project:t,snags:e,onProgress:r})=>{r?.("Initializing report..."),await Bo();const n=new Ct("p","pt","a4");n.setFont("helvetica","normal");const i=n.internal.pageSize.getWidth(),a=n.internal.pageSize.getHeight(),o=40;r?.("Creating cover page..."),await tse(n,t),r?.("Creating executive summary..."),await rse(n,t,e),r?.("Processing floor plans..."),await Bo();const s=[...e].sort((S,A)=>{if(S.plan_id!==A.plan_id)return(S.plan_id||"").localeCompare(A.plan_id||"");const k=S.plan_page??999,j=A.plan_page??999;return k!==j?k-j:new Date(S.created_at||0).getTime()-new Date(A.created_at||0).getTime()}),l=new Map;s.forEach((S,A)=>l.set(S.id,A+1));const u=await u7(t,s,r);if(u.length)for(let S=0;S<u.length;S++){r?.(`Processing floor plan ${S+1} of ${u.length}...`),await Bo(),n.addPage("a4","l");const A=u[S],k=n.internal.pageSize.getWidth(),j=n.internal.pageSize.getHeight(),O=await n6(A.image,1600,.8),{width:M,height:N}=await ese(O),C=k-o*2,H=j-o*2-40,T=Math.min(C/M,H/N),L=M*T,$=N*T,F=(k-L)/2,U=o+30;n.setFontSize(10),n.setTextColor(vn.black),n.text(`${A.name}  Page ${A.page}`,o,o+12);const z=n.getNumberOfPages();n.setFontSize(9),n.setTextColor(vn.grey),n.text(`Page ${z}`,k-o,o+12,{align:"right"}),n.addImage(O,"JPEG",F,U,L,$),s.filter(G=>(G.plan_id?G.plan_id===A.planId:A.planId==="legacy")&&(G.plan_page??1)===A.page).forEach(G=>{if(G.plan_x!=null&&G.plan_y!=null){const K=F+L*G.plan_x,te=U+$*G.plan_y,X=Cp(G.priority);n.setFillColor(...X),n.circle(K,te,7,"F"),n.setDrawColor(255,255,255),n.setLineWidth(1.2),n.circle(K,te,7,"D");const D=l.get(G.id)||0;D&&(n.setTextColor(255,255,255),n.setFontSize(8),n.text(String(D),K,te+1,{align:"center",baseline:"middle"}))}})}r?.("Generating snag list..."),await Bo(),n.addPage("a4","p");const f=n.getNumberOfPages();wp(n,t.name,f,n.getNumberOfPages());let h=o+80;if(n.setFontSize(16),n.setTextColor(vn.black),n.text("Snag List Summary",o,h),h+=25,Qoe(n,{startY:h,head:[["#","Title","Location","Status","Priority","Due Date"]],styles:{fontSize:9,font:"helvetica",textColor:[45,55,72],cellPadding:[8,6],overflow:"linebreak",valign:"middle"},headStyles:{fillColor:vn.yellow,textColor:[255,255,255],halign:"left",valign:"middle",fontStyle:"bold",fontSize:10},bodyStyles:{valign:"middle"},alternateRowStyles:{fillColor:[248,248,252]},columnStyles:{0:{cellWidth:30,halign:"center"},1:{cellWidth:100},2:{cellWidth:90},3:{halign:"center",cellWidth:65},4:{halign:"center",cellWidth:50},5:{halign:"right",cellWidth:60}},body:[...e].sort((S,A)=>(l.get(S.id)||0)-(l.get(A.id)||0)).map(S=>[String(l.get(S.id)||"-"),S.title,_v(S.location),S.status||"open",S.priority||"medium",S.due_date||"Not Set"]),didParseCell:S=>{if(S.section==="body"&&S.column.index===3){const A=S.cell.raw,k=nS(A);S.cell.styles.fillColor=k,S.cell.styles.textColor=[255,255,255]}if(S.section==="body"&&S.column.index===4){const A=S.cell.raw,k=Cp(A);S.cell.styles.fillColor=k,S.cell.styles.textColor=[255,255,255]}},margin:{top:o+30,bottom:o+40,left:o,right:o},didDrawPage:S=>{const A=n.getNumberOfPages();wp(n,t.name,A,n.getNumberOfPages())}}),r?.("Processing snag details with photos..."),await Bo(),s.length){n.addPage();const S=o+60,A=a-(o+80);let k=S;n.setFontSize(16),n.setTextColor(vn.black),n.text("Snag Details",o,k),k+=25;const j=L=>{k+L>A&&(n.addPage(),wp(n,t.name,n.getNumberOfPages(),n.getNumberOfPages()),k=S)},O=(L,$)=>{n.setFontSize(12),n.setTextColor(vn.black),n.setFont("helvetica","bold");const F=n.splitTextToSize(`${$}. ${L}`,i-o*2-20);return n.text(F,o,k+8),F.length*12+14},M=(L,$)=>{n.setFontSize(8);const z=nS(L),q=Cp($),G=L.toUpperCase(),K=n.getTextWidth(G)+8;n.setFillColor(...z),n.roundedRect(o,k-4,K,12,2,2,"F"),n.setTextColor(255,255,255),n.text(G,o+K/2,k+2,{align:"center",baseline:"middle"});const te=$.toUpperCase(),X=n.getTextWidth(te)+8,D=o+K+8;return n.setFillColor(...q),n.roundedRect(D,k-4,X,12,2,2,"F"),n.setTextColor(255,255,255),n.text(te,D+X/2,k+2,{align:"center",baseline:"middle"}),20},N=(L,$)=>{n.setFontSize(7),n.setTextColor(vn.grey),n.text("LOCATION",o,k-2),n.setFontSize(8),n.setTextColor(vn.black);const F=_v(L);n.text(F,o,k+6,{maxWidth:120}),n.setFontSize(7),n.setTextColor(vn.grey),n.text("DUE DATE",i-o-60,k-2),n.setFontSize(8),n.setTextColor(vn.black);const U=$||"Not Set";return n.text(U,i-o-60,k+6),20},C=L=>{if(!L)return 0;const $=n.splitTextToSize(L,i-o*2-20),F=50,U=$.slice(0,F),z=$.length>F;n.setFontSize(9),n.setTextColor(107,114,128),n.setFont("helvetica","bold"),n.text("Description:",o,k),k+=10,n.setFont("helvetica","normal"),n.setTextColor(vn.black),n.text(U,o,k);let q=10+U.length*10;return z?(k+=U.length*10+5,n.setTextColor(150,155,160),n.setFont("helvetica","italic"),n.text("(Description truncated - see full details in system)",o+10,k),q+=15):q+=10,q+10},H=L=>{if(L.length===0)return 0;const $=(i-o*2-40)/2,F=120,U=F+25,z=Math.ceil(L.length/2);let q=k+5;for(let G=0;G<L.length;G++){const K=G%2,te=Math.floor(G/2),X=o+10+K*($+15),D=q+te*U;n.setFontSize(8),n.setTextColor(107,114,128),n.text(L[G].label,X,D-5),n.setDrawColor(200,210,220),n.setLineWidth(.5),n.rect(X,D,$,F),n.addImage(L[G].src,"JPEG",X,D,$,F)}return z*U},T=3;for(let L=0;L<s.length;L+=T){const $=s.slice(L,L+T),F=await Promise.all($.map(async U=>{r?.(`Fetching photos for snag ${l.get(U.id)}...`);const{data:z}=await Qe.from("snag_photos").select("photo_url").eq("snag_id",U.id),q=[];if(z&&z.length>0){const K=z.slice(0,2).map(async X=>{const D=await xv(X.photo_url);return D?await n6(D,1200,.7):null}),te=await Promise.all(K);q.push(...te.filter(Boolean))}let G=null;if(U.plan_x!=null&&U.plan_y!=null){const K=u.find(te=>(U.plan_id?U.plan_id===te.planId:te.planId==="legacy")&&te.page===(U.plan_page??1));if(K){const te=l.get(U.id)||0;G=await c7(K.image,U.plan_x,U.plan_y,te)}}return{snag:U,photos:q,locationSnippet:G}}));for(const{snag:U,photos:z,locationSnippet:q}of F){const G=l.get(U.id)||0,K=U.description?n.splitTextToSize(U.description,i-o*2-20):[],X=n.splitTextToSize(`${G}. ${U.title}`,i-o*2-20).length*12+14,D=K.length>0?Math.min(K.length,50)*10+30:0,Y=[];q&&Y.push({src:q,label:"Location on Plan"}),z.forEach((De,Ee)=>Y.push({src:De,label:`Photo ${Ee+1}`}));const J=Y.length>0?Math.ceil(Y.length/2)*145:0,ee=X+20+20+D+J+30;j(ee+10);const ue=o-10,me=i-o*2+20,fe=k-8;n.setFillColor(248,250,252),n.roundedRect(ue,fe,me,ee+16,4,4,"F"),n.setDrawColor(226,232,240),n.setLineWidth(.5),n.roundedRect(ue,fe,me,ee+16,4,4,"S");const le=O(U.title,G);k+=le;const ve=M(U.status||"open",U.priority||"medium");k+=ve;const Ae=N(U.location||"",U.due_date||"");k+=Ae;const be=C(U.description);if(k+=be,Y.length>0){const De=H(Y);k+=De}k+=20}await Bo()}}r?.("Finalizing PDF..."),await Bo(),n.addPage();const p=n.getNumberOfPages();wp(n,t.name,p,n.getNumberOfPages());let g=a-220;n.setFontSize(9),n.setTextColor(107,114,128),n.text("Report prepared by:",o,g),n.setFontSize(10),n.setTextColor(vn.black),n.text("BPAS Architects",o,g+14),n.setFontSize(8),n.setTextColor(107,114,128),["Office F14, First Floor, Willowbridge Shopping Centre","39 Carl Cronje Drive, Tygervalley, 7530","Tel: +27 (0) 21 914 5960","Email: info@bpas.co.za","Web: www.bpas.co.za"].forEach((S,A)=>{n.text(S,o,g+28+A*8)}),g+=90,n.setFontSize(7),n.setTextColor(100,110,120),["Directors: J van Rooyen (Managing), A Pieterse, M van der Merwe","Registration: BPAS Architects (Pty) Ltd - Reg No: 2015/123456/07"].forEach((S,A)=>{n.text(S,o,g+A*8)});const v=n.output("blob"),w=l7(t);return{pdf:v,fileName:w}},ise=async({project:t,snags:e,onProgress:r})=>{r?.("Initializing Word report..."),await Bo();const{Document:n,Packer:i,Paragraph:a,TextRun:o,Table:s,TableRow:l,TableCell:u,WidthType:f,ImageRun:h,Header:p,Footer:g,AlignmentType:y,PageBreak:b,BorderStyle:v}=await tu(async()=>{const{Document:L,Packer:$,Paragraph:F,TextRun:U,Table:z,TableRow:q,TableCell:G,WidthType:K,ImageRun:te,Header:X,Footer:D,AlignmentType:Y,PageBreak:J,BorderStyle:ee}=await import("./index-Cx2rYi2i.js");return{Document:L,Packer:$,Paragraph:F,TextRun:U,Table:z,TableRow:q,TableCell:G,WidthType:K,ImageRun:te,Header:X,Footer:D,AlignmentType:Y,PageBreak:J,BorderStyle:ee}},[]),w=[...e].sort((L,$)=>{if(L.plan_id!==$.plan_id)return(L.plan_id||"").localeCompare($.plan_id||"");const F=L.plan_page??999,U=$.plan_page??999;return F!==U?F-U:new Date(L.created_at||0).getTime()-new Date($.created_at||0).getTime()}),S=new Map;w.forEach((L,$)=>S.set(L.id,$+1));const A=[];A.push(new a({text:"SNAGGING REPORT",heading:"Title",alignment:y.CENTER,spacing:{after:400}}),new a({text:t.name,alignment:y.CENTER,spacing:{after:200},style:"Heading1"}),new a({children:[new o({text:`Client: ${t.client_name||"Not Specified"}`,size:22})],alignment:y.CENTER,spacing:{after:400}}),new a({children:[new o({text:`Report Generated: ${new Date().toLocaleDateString()}`,size:20,color:"808080"})],alignment:y.CENTER,spacing:{after:800}}),new b),A.push(new a({text:"Executive Summary",heading:"Heading1",spacing:{after:200}}));const k={},j={};e.forEach(L=>{const $=L.status||"open",F=L.priority||"medium";k[$]=(k[$]||0)+1,j[F]=(j[F]||0)+1}),A.push(new a({text:"Status Breakdown:",heading:"Heading3",spacing:{after:100}})),Object.entries(k).forEach(([L,$])=>{A.push(new a({children:[new o({text:`${L.charAt(0).toUpperCase()+L.slice(1)}: ${$} snag${$!==1?"s":""}`})],spacing:{after:50}}))}),A.push(new a({text:"",spacing:{after:100}})),A.push(new a({text:"Priority Breakdown:",heading:"Heading3",spacing:{after:100}})),Object.entries(j).forEach(([L,$])=>{A.push(new a({children:[new o({text:`${L.charAt(0).toUpperCase()+L.slice(1)}: ${$} snag${$!==1?"s":""}`})],spacing:{after:50}}))}),A.push(new a({text:"",spacing:{after:200}}),new a({text:"Project Details:",heading:"Heading3",spacing:{after:100}}),new a({children:[new o({text:"Project: ",bold:!0}),new o(t.name)],spacing:{after:50}}),new a({children:[new o({text:"Client: ",bold:!0}),new o(t.client_name||"Not Specified")],spacing:{after:50}}),...t.project_number?[new a({children:[new o({text:"Project Number: ",bold:!0}),new o(t.project_number)],spacing:{after:50}})]:[],...t.address?[new a({children:[new o({text:"Address: ",bold:!0}),new o(t.address)],spacing:{after:50}})]:[],...t.inspection_type?[new a({children:[new o({text:"Inspection Type: ",bold:!0}),new o(t.inspection_type)],spacing:{after:50}})]:[],...t.inspection_scope?[new a({children:[new o({text:"Scope: ",bold:!0}),new o(t.inspection_scope)],spacing:{after:50}})]:[],...t.inspection_description?[new a({children:[new o({text:"Inspection Notes: ",bold:!0}),new o(t.inspection_description)],spacing:{after:100}})]:[],new b),r?.("Processing floor plans..."),await Bo();const O=await u7(t,w,r);if(O.length>0){A.push(new a({text:"Floor Plans",heading:"Heading1",spacing:{after:200}}));for(const L of O){const $=new Image;$.src=L.image,await new Promise(z=>$.onload=z);const F=document.createElement("canvas");F.width=$.width,F.height=$.height;const U=F.getContext("2d");if(U){U.drawImage($,0,0),w.filter(G=>(G.plan_id?G.plan_id===L.planId:L.planId==="legacy")&&(G.plan_page??1)===L.page).forEach(G=>{if(G.plan_x!=null&&G.plan_y!=null){const K=$.width*G.plan_x,te=$.height*G.plan_y,X=Cp(G.priority);U.beginPath(),U.arc(K,te,Math.max($.width*.01,10),0,2*Math.PI),U.fillStyle=`rgba(${X[0]}, ${X[1]}, ${X[2]}, 0.8)`,U.fill(),U.strokeStyle="white",U.lineWidth=2,U.stroke();const D=S.get(G.id)||0;U.fillStyle="white",U.font=`bold ${Math.max($.width*.012,12)}px Arial`,U.textAlign="center",U.textBaseline="middle",U.fillText(String(D),K,te)}});const q=await new Promise(G=>F.toBlob(G,"image/jpeg",.8));if(q){const G=await q.arrayBuffer();A.push(new a({text:`${L.name} - Page ${L.page}`,heading:"Heading3",spacing:{before:200,after:100}}),new a({children:[new h({data:G,transformation:{width:600,height:600*($.height/$.width)}})]}))}}}A.push(new b)}r?.("Generating snag list..."),await Bo(),A.push(new a({text:"Snag List Summary",heading:"Heading1",spacing:{after:200}}));const M=[new l({children:["#","Title","Location","Status","Priority","Due Date"].map(L=>new u({children:[new a({text:L,style:"Strong"})],shading:{fill:"EBA000"}})),tableHeader:!0}),...e.sort((L,$)=>(S.get(L.id)||0)-(S.get($.id)||0)).map(L=>new l({children:[String(S.get(L.id)||"-"),L.title,_v(L.location),L.status||"open",L.priority||"medium",L.due_date||"Not Set"].map($=>new u({children:[new a($)]}))}))];A.push(new s({rows:M,width:{size:100,type:f.PERCENTAGE}}),new b),r?.("Processing snag details with photos..."),await Bo(),A.push(new a({text:"Snag Details",heading:"Heading1",spacing:{after:200}}));const N=5;for(let L=0;L<w.length;L+=N){const $=w.slice(L,L+N),F=await Promise.all($.map(async U=>{r?.(`Fetching photos for snag ${S.get(U.id)}...`);const{data:z}=await Qe.from("snag_photos").select("photo_url").eq("snag_id",U.id),q=[];if(z&&z.length>0){const K=z.slice(0,2).map(async X=>{const D=new URL(X.photo_url);D.searchParams.append("report","true"),D.searchParams.append("t",Date.now().toString());const Y=await fetch(D.toString(),{mode:"cors",credentials:"omit",cache:"no-store"});return Y.ok?await Y.arrayBuffer():null}),te=await Promise.all(K);q.push(...te.filter(Boolean))}let G=null;if(U.plan_x!=null&&U.plan_y!=null){const K=O.find(te=>(U.plan_id?U.plan_id===te.planId:te.planId==="legacy")&&te.page===(U.plan_page??1));if(K){const te=S.get(U.id)||0,X=await c7(K.image,U.plan_x,U.plan_y,te);if(X){const D=await fetch(X);D.ok&&(G=await D.arrayBuffer())}}}return{snag:U,photos:q,locationSnippet:G}}));for(const{snag:U,photos:z,locationSnippet:q}of F){const G=S.get(U.id)||0;A.push(new a({text:`${G}. ${U.title}`,heading:"Heading2",spacing:{before:200,after:100}}),new a({children:[new o({text:"Status: ",bold:!0}),new o(U.status||"open"),new o({text:" | Priority: ",bold:!0}),new o(U.priority||"medium"),new o({text:" | Location: ",bold:!0}),new o(_v(U.location)),...U.due_date?[new o({text:" | Due: ",bold:!0}),new o(U.due_date)]:[]],spacing:{after:100}}),...U.description?[new a({children:[new o({text:"Description: ",bold:!0}),new o(U.description)],spacing:{after:150}})]:[]);const K=[];q&&K.push(new h({data:q,transformation:{width:200,height:200}})),z.forEach(te=>{K.push(new h({data:te,transformation:{width:200,height:200}}))}),K.length>0?A.push(new a({children:K,spacing:{after:150}})):A.push(new a({text:"No photos attached.",style:"Italic",spacing:{after:150}}))}await Bo()}A.push(new b,new a({text:"Report prepared by:",spacing:{after:100}}),new a({children:[new o({text:"BPAS Architects",bold:!0,size:22})],spacing:{after:150}}),new a({children:[new o("Office F14, First Floor, Willowbridge Shopping Centre")],spacing:{after:50}}),new a({children:[new o("39 Carl Cronje Drive, Tygervalley, 7530")],spacing:{after:50}}),new a({children:[new o("Tel: +27 (0) 21 914 5960")],spacing:{after:50}}),new a({children:[new o("Email: info@bpas.co.za")],spacing:{after:50}}),new a({children:[new o("Web: www.bpas.co.za")]})),r?.("Finalizing Word document...");const C=new n({sections:[{properties:{},children:A}]}),H=await i.toBlob(C),T=l7(t).replace(".pdf",".docx");return{blob:H,fileName:T}},ase=({project:t,snags:e})=>{const[r,n]=se.useState(!1),[i,a]=se.useState(null),[o,s]=se.useState(null),[l,u]=se.useState(""),f=async()=>{n(!0),s(null),u("Initializing report...");try{const{pdf:p,fileName:g}=await nse({project:t,snags:e,onProgress:u}),{error:y}=await Qe.storage.from("reports").upload(g,p,{contentType:"application/pdf",upsert:!0});if(y)throw y;const{data:b}=Qe.storage.from("reports").getPublicUrl(g),{data:v}=await Qe.auth.getUser();t.id&&b?.publicUrl&&(await Qe.from("project_reports").insert({project_id:t.id,file_name:g,file_url:b.publicUrl,generated_at:new Date().toISOString(),generated_by:v.user?.id||null}),window.dispatchEvent(new CustomEvent("report:created",{detail:{project_id:t.id,file_name:g,file_url:b.publicUrl}}))),a(b.publicUrl)}catch(p){console.warn("Upload failed, falling back to direct download:",p),s("Report generation or upload failed. Please try again.")}finally{n(!1),u("")}},h=async()=>{n(!0),s(null),u("Generating Word document...");try{const{blob:p,fileName:g}=await ise({project:t,snags:e,onProgress:u});Pne.saveAs(p,g)}catch(p){console.error("Word export failed:",p),s("Word export failed. Please try again.")}finally{n(!1),u("")}};return P.jsxs("div",{className:"space-y-2 rounded-xl border border-slate-200 bg-white px-3 py-3 sm:px-4 shadow-sm w-full max-w-full overflow-x-hidden",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-bpas-grey font-syne",children:"Automated reporting"}),P.jsx("h3",{className:"text-lg font-syne font-semibold text-bpas-black",children:"Generate Report"})]}),P.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[P.jsx("button",{onClick:h,disabled:r,className:"btn-secondary disabled:opacity-60 w-full sm:w-auto text-center justify-center",children:"Word"}),P.jsx("button",{onClick:f,disabled:r,className:"btn-primary disabled:opacity-60 w-full sm:w-auto text-center justify-center",children:r?l||"Generating...":"PDF"})]})]}),o&&P.jsx("p",{className:"text-sm text-rose-600",children:o}),i&&P.jsxs("div",{className:"flex flex-col gap-2 rounded-xl bg-bpas-light px-3 py-3 text-sm text-bpas-black",children:[P.jsx("p",{className:"font-syne text-bpas-grey",children:"Report ready"}),P.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[P.jsx("a",{className:"btn-primary",href:i,target:"_blank",rel:"noreferrer",children:"Download / Share"}),P.jsx("button",{type:"button",className:"btn-secondary px-3 py-2",onClick:()=>navigator.clipboard.writeText(i),children:"Copy link"})]})]})]})},ose=({project:t,snags:e,action:r,onEdit:n,onDelete:i})=>{const a=e.length,o=e.filter(l=>l.status==="completed"||l.status==="verified").length,s=a===0?0:Math.round(o/a*100);return P.jsxs("div",{className:"mb-6 rounded-xl border border-slate-200 bg-white px-3 py-4 sm:px-6 shadow-sm overflow-x-hidden w-full max-w-full",children:[P.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[P.jsxs("div",{className:"flex-1 min-w-0",children:[P.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[P.jsx("h1",{className:"text-2xl font-bold text-slate-900 truncate",children:t.name}),P.jsxs("div",{className:"flex items-center gap-2",children:[n&&P.jsx("button",{onClick:n,className:"p-1 text-slate-400 hover:text-slate-600 transition-colors rounded-full hover:bg-slate-100",title:"Edit Project Details",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),P.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),t.status==="archived"&&i&&P.jsx("button",{onClick:i,className:"p-1 text-red-400 hover:text-red-600 transition-colors rounded-full hover:bg-red-50",title:"Delete Project",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{d:"M3 6h18"}),P.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),P.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),P.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),t.status!=="archived"&&P.jsxs("div",{className:"group relative",children:[P.jsx("button",{disabled:!0,className:"p-1 text-slate-300 cursor-not-allowed rounded-full",title:"Only archived projects can be deleted",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{d:"M3 6h18"}),P.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),P.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),P.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})}),P.jsx("div",{className:"absolute left-0 top-full mt-1 hidden group-hover:block w-48 rounded-lg bg-slate-900 px-2 py-1 text-xs text-white shadow-lg z-10",children:"Only archived projects can be deleted"})]})]})]}),P.jsxs("div",{className:"mt-2 flex flex-wrap gap-x-4 gap-y-2 text-sm text-slate-500",children:[P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx("span",{className:"font-medium text-slate-700",children:"Client:"}),t.client_name]}),P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx("span",{className:"font-medium text-slate-700",children:"Location:"}),t.address]}),P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx("span",{className:"font-medium text-slate-700",children:"Status:"}),P.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium capitalize ${t.status==="active"?"bg-emerald-50 text-emerald-700":t.status==="completed"?"bg-blue-50 text-blue-700":"bg-slate-100 text-slate-700"}`,children:t.status})]}),t.project_number&&P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx("span",{className:"font-medium text-slate-700",children:"Project #:"}),t.project_number]}),t.inspection_type&&P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx("span",{className:"font-medium text-slate-700",children:"Type:"}),t.inspection_type]}),t.inspection_scope&&P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx("span",{className:"font-medium text-slate-700",children:"Scope:"}),t.inspection_scope]})]}),t.inspection_description&&P.jsxs("p",{className:"mt-2 text-sm text-slate-600 max-w-2xl",children:[P.jsx("span",{className:"font-medium text-slate-700",children:"Description: "}),t.inspection_description]})]}),P.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 w-full sm:w-auto",children:[r,P.jsx("div",{className:"w-full sm:w-auto",children:P.jsx(ase,{project:t,snags:e})})]})]}),P.jsxs("div",{className:"mt-6",children:[P.jsxs("div",{className:"mb-2 flex items-center justify-between text-sm",children:[P.jsx("span",{className:"font-medium text-slate-700",children:"Project Progress"}),P.jsxs("span",{className:"text-slate-500",children:[o," of ",a," snags resolved"]})]}),P.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-100",children:P.jsx("div",{className:"h-full bg-bpas-black transition-all duration-500 ease-out",style:{width:`${s}%`}})}),P.jsx("div",{className:"mt-1 text-right",children:P.jsxs("p",{className:"text-xs font-raleway text-bpas-grey",children:[s,"% verified"]})})]})]})};var Uo=function(t,e){return Number(t.toFixed(e))},sse=function(t,e){return e},mn=function(t,e,r){r&&typeof r=="function"&&r(t,e)},lse=function(t){return-Math.cos(t*Math.PI)/2+.5},use=function(t){return t},cse=function(t){return t*t},fse=function(t){return t*(2-t)},dse=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},hse=function(t){return t*t*t},pse=function(t){return--t*t*t+1},gse=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},mse=function(t){return t*t*t*t},vse=function(t){return 1- --t*t*t*t},yse=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},bse=function(t){return t*t*t*t*t},wse=function(t){return 1+--t*t*t*t*t},xse=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},f7={easeOut:lse,linear:use,easeInQuad:cse,easeOutQuad:fse,easeInOutQuad:dse,easeInCubic:hse,easeOutCubic:pse,easeInOutCubic:gse,easeInQuart:mse,easeOutQuart:vse,easeInOutQuart:yse,easeInQuint:bse,easeOutQuint:wse,easeInOutQuint:xse},d7=function(t){typeof t=="number"&&cancelAnimationFrame(t)},xs=function(t){t.mounted&&(d7(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function h7(t,e,r,n){if(t.mounted){var i=new Date().getTime(),a=1;xs(t),t.animation=function(){if(!t.mounted)return d7(t.animation);var o=new Date().getTime()-i,s=o/r,l=f7[e],u=l(s);o>=r?(n(a),t.animation=null):t.animation&&(n(u),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function _se(t){var e=t.scale,r=t.positionX,n=t.positionY;return!(Number.isNaN(e)||Number.isNaN(r)||Number.isNaN(n))}function hc(t,e,r,n){var i=_se(e);if(!(!t.mounted||!i)){var a=t.setTransformState,o=t.transformState,s=o.scale,l=o.positionX,u=o.positionY,f=e.scale-s,h=e.positionX-l,p=e.positionY-u;r===0?a(e.scale,e.positionX,e.positionY):h7(t,n,r,function(g){var y=s+f*g,b=l+h*g,v=u+p*g;a(y,b,v)})}}function Sse(t,e,r){var n=t.offsetWidth,i=t.offsetHeight,a=e.offsetWidth,o=e.offsetHeight,s=a*r,l=o*r,u=n-s,f=i-l;return{wrapperWidth:n,wrapperHeight:i,newContentWidth:s,newDiffWidth:u,newContentHeight:l,newDiffHeight:f}}var Ase=function(t,e,r,n,i,a,o){var s=t>e?r*(o?1:.5):0,l=n>i?a*(o?1:.5):0,u=t-e-s,f=s,h=n-i-l,p=l;return{minPositionX:u,maxPositionX:f,minPositionY:h,maxPositionY:p}},$A=function(t,e){var r=t.wrapperComponent,n=t.contentComponent,i=t.setup.centerZoomedOut;if(!r||!n)throw new Error("Components are not mounted");var a=Sse(r,n,e),o=a.wrapperWidth,s=a.wrapperHeight,l=a.newContentWidth,u=a.newDiffWidth,f=a.newContentHeight,h=a.newDiffHeight,p=Ase(o,l,u,s,f,h,!!i);return p},iS=function(t,e,r,n){return n?t<e?Uo(e,2):t>r?Uo(r,2):Uo(t,2):Uo(t,2)},gf=function(t,e){var r=$A(t,e);return t.bounds=r,r};function Mg(t,e,r,n,i,a,o){var s=r.minPositionX,l=r.minPositionY,u=r.maxPositionX,f=r.maxPositionY,h=0,p=0;o&&(h=i,p=a);var g=iS(t,s-h,u+h,n),y=iS(e,l-p,f+p,n);return{x:g,y}}function wy(t,e,r,n,i,a){var o=t.transformState,s=o.scale,l=o.positionX,u=o.positionY,f=n-s;if(typeof e!="number"||typeof r!="number")return console.error("Mouse X and Y position were not provided!"),{x:l,y:u};var h=l-e*f,p=u-r*f,g=Mg(h,p,i,a,0,0,null);return g}function Dg(t,e,r,n,i){var a=i?n:0,o=e-a;return!Number.isNaN(r)&&t>=r?r:!Number.isNaN(e)&&t<=o?o:t}var i6=function(t,e){var r=t.setup.panning.excluded,n=t.isInitialized,i=t.wrapperComponent,a=e.target,o="shadowRoot"in a&&"composedPath"in e,s=o?e.composedPath().some(function(f){return f instanceof Element?i?.contains(f):!1}):i?.contains(a),l=n&&a&&s;if(!l)return!1;var u=xy(a,r);return!u},a6=function(t){var e=t.isInitialized,r=t.isPanning,n=t.setup,i=n.panning.disabled,a=e&&r&&!i;return!!a},Pse=function(t,e){var r=t.transformState,n=r.positionX,i=r.positionY;t.isPanning=!0;var a=e.clientX,o=e.clientY;t.startCoords={x:a-n,y:o-i}},Ese=function(t,e){var r=e.touches,n=t.transformState,i=n.positionX,a=n.positionY;t.isPanning=!0;var o=r.length===1;if(o){var s=r[0].clientX,l=r[0].clientY;t.startCoords={x:s-i,y:l-a}}};function kse(t){var e=t.transformState,r=e.positionX,n=e.positionY,i=e.scale,a=t.setup,o=a.disabled,s=a.limitToBounds,l=a.centerZoomedOut,u=t.wrapperComponent;if(!(o||!u||!t.bounds)){var f=t.bounds,h=f.maxPositionX,p=f.minPositionX,g=f.maxPositionY,y=f.minPositionY,b=r>h||r<p,v=n>g||n<y,w=r>h?u.offsetWidth:t.setup.minPositionX||0,S=n>g?u.offsetHeight:t.setup.minPositionY||0,A=wy(t,w,S,i,t.bounds,s||l),k=A.x,j=A.y;return{scale:i,positionX:b?k:r,positionY:v?j:n}}}function p7(t,e,r,n,i){var a=t.setup.limitToBounds,o=t.wrapperComponent,s=t.bounds,l=t.transformState,u=l.scale,f=l.positionX,h=l.positionY;if(!(o===null||s===null||e===f&&r===h)){var p=Mg(e,r,s,a,n,i,o),g=p.x,y=p.y;t.setTransformState(u,g,y)}}var Ose=function(t,e,r){var n=t.startCoords,i=t.transformState,a=t.setup.panning,o=a.lockAxisX,s=a.lockAxisY,l=i.positionX,u=i.positionY;if(!n)return{x:l,y:u};var f=e-n.x,h=r-n.y,p=o?l:f,g=s?u:h;return{x:p,y:g}},nc=function(t,e){var r=t.setup,n=t.transformState,i=n.scale,a=r.minScale,o=r.disablePadding;return e>0&&i>=a&&!o?e:0},jse=function(t){var e=t.mounted,r=t.setup,n=r.disabled,i=r.velocityAnimation,a=t.transformState.scale,o=i.disabled,s=!o||a>1||!n||e;return!!s},Cse=function(t){var e=t.mounted,r=t.velocity,n=t.bounds,i=t.setup,a=i.disabled,o=i.velocityAnimation,s=t.transformState.scale,l=o.disabled,u=!l||s>1||!a||e;return!(!u||!r||!n)};function Nse(t,e){var r=t.setup.velocityAnimation,n=r.equalToMove,i=r.animationTime,a=r.sensitivity;return n?i*e*a:i}function o6(t,e,r,n,i,a,o,s,l,u){if(i){if(e>o&&r>o){var f=o+(t-o)*u;return f>l?l:f<o?o:f}if(e<a&&r<a){var f=a+(t-a)*u;return f<s?s:f>a?a:f}}return n?e:iS(t,a,o,i)}function Tse(t,e){var r=1;return e?Math.min(r,t.offsetWidth/window.innerWidth):r}function Lse(t,e){var r=jse(t);if(r){var n=t.lastMousePosition,i=t.velocityTime,a=t.setup,o=t.wrapperComponent,s=a.velocityAnimation.equalToMove,l=Date.now();if(n&&i&&o){var u=Tse(o,s),f=e.x-n.x,h=e.y-n.y,p=f/u,g=h/u,y=l-i,b=f*f+h*h,v=Math.sqrt(b)/y;t.velocity={velocityX:p,velocityY:g,total:v}}t.lastMousePosition=e,t.velocityTime=l}}function Ise(t){var e=t.velocity,r=t.bounds,n=t.setup,i=t.wrapperComponent,a=Cse(t);if(!(!a||!e||!r||!i)){var o=e.velocityX,s=e.velocityY,l=e.total,u=r.maxPositionX,f=r.minPositionX,h=r.maxPositionY,p=r.minPositionY,g=n.limitToBounds,y=n.alignmentAnimation,b=n.zoomAnimation,v=n.panning,w=v.lockAxisY,S=v.lockAxisX,A=b.animationType,k=y.sizeX,j=y.sizeY,O=y.velocityAlignmentTime,M=O,N=Nse(t,l),C=Math.max(N,M),H=nc(t,k),T=nc(t,j),L=H*i.offsetWidth/100,$=T*i.offsetHeight/100,F=u+L,U=f-L,z=h+$,q=p-$,G=t.transformState,K=new Date().getTime();h7(t,A,C,function(te){var X=t.transformState,D=X.scale,Y=X.positionX,J=X.positionY,ee=new Date().getTime()-K,ue=ee/M,me=f7[y.animationType],fe=1-me(Math.min(1,ue)),le=1-te,ve=Y+o*le,Ae=J+s*le,be=o6(ve,G.positionX,Y,S,g,f,u,U,F,fe),De=o6(Ae,G.positionY,J,w,g,p,h,q,z,fe);(Y!==ve||J!==Ae)&&t.setTransformState(D,be,De)})}}function s6(t,e){var r=t.transformState.scale;xs(t),gf(t,r),window.TouchEvent!==void 0&&e instanceof TouchEvent?Ese(t,e):Pse(t,e)}function UA(t,e){var r=t.transformState.scale,n=t.setup,i=n.minScale,a=n.alignmentAnimation,o=a.disabled,s=a.sizeX,l=a.sizeY,u=a.animationTime,f=a.animationType,h=o||r<i||!s&&!l;if(!h){var p=kse(t);p&&hc(t,p,e??u,f)}}function l6(t,e,r){var n=t.startCoords,i=t.setup,a=i.alignmentAnimation,o=a.sizeX,s=a.sizeY;if(n){var l=Ose(t,e,r),u=l.x,f=l.y,h=nc(t,o),p=nc(t,s);Lse(t,{x:u,y:f}),p7(t,u,f,h,p)}}function Rse(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,r=t.velocity,n=t.wrapperComponent,i=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var a=n?.getBoundingClientRect(),o=i?.getBoundingClientRect(),s=a?.width||0,l=a?.height||0,u=o?.width||0,f=o?.height||0,h=s<u||l<f,p=!e&&r&&r?.total>.1&&h;p?Ise(t):UA(t)}}function qA(t,e,r,n){var i=t.setup,a=i.minScale,o=i.maxScale,s=i.limitToBounds,l=Dg(Uo(e,2),a,o,0,!1),u=gf(t,l),f=wy(t,r,n,l,u,s),h=f.x,p=f.y;return{scale:l,positionX:h,positionY:p}}function g7(t,e,r){var n=t.transformState.scale,i=t.wrapperComponent,a=t.setup,o=a.minScale,s=a.limitToBounds,l=a.zoomAnimation,u=l.disabled,f=l.animationTime,h=l.animationType,p=u||n>=o;if((n>=1||s)&&UA(t),!(p||!i||!t.mounted)){var g=e||i.offsetWidth/2,y=r||i.offsetHeight/2,b=qA(t,o,g,y);b&&hc(t,b,f,h)}}var ec=function(){return ec=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ec.apply(this,arguments)};function u6(t,e,r){for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var Qm={scale:1,positionX:0,positionY:0},pp={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},aS={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},m7=function(t){var e,r,n,i;return{previousScale:(e=t.initialScale)!==null&&e!==void 0?e:Qm.scale,scale:(r=t.initialScale)!==null&&r!==void 0?r:Qm.scale,positionX:(n=t.initialPositionX)!==null&&n!==void 0?n:Qm.positionX,positionY:(i=t.initialPositionY)!==null&&i!==void 0?i:Qm.positionY}},c6=function(t){var e=ec({},pp);return Object.keys(t).forEach(function(r){var n=typeof t[r]<"u",i=typeof pp[r]<"u";if(i&&n){var a=Object.prototype.toString.call(pp[r]),o=a==="[object Object]",s=a==="[object Array]";o?e[r]=ec(ec({},pp[r]),t[r]):s?e[r]=u6(u6([],pp[r],!0),t[r]):e[r]=t[r]}}),e},v7=function(t,e,r){var n=t.transformState.scale,i=t.wrapperComponent,a=t.setup,o=a.maxScale,s=a.minScale,l=a.zoomAnimation,u=a.smooth,f=l.size;if(!i)throw new Error("Wrapper is not mounted");var h=u?n*Math.exp(e*r):n+e*r,p=Dg(Uo(h,3),s,o,f,!1);return p};function y7(t,e,r,n,i){var a=t.wrapperComponent,o=t.transformState,s=o.scale,l=o.positionX,u=o.positionY;if(!a)return console.error("No WrapperComponent found");var f=a.offsetWidth,h=a.offsetHeight,p=(f/2-l)/s,g=(h/2-u)/s,y=v7(t,e,r),b=qA(t,y,p,g);if(!b)return console.error("Error during zoom event. New transformation state was not calculated.");hc(t,b,n,i)}function b7(t,e,r,n){var i=t.setup,a=t.wrapperComponent,o=i.limitToBounds,s=m7(t.props),l=t.transformState,u=l.scale,f=l.positionX,h=l.positionY;if(a){var p=$A(t,s.scale),g=Mg(s.positionX,s.positionY,p,o,0,0,a),y={scale:s.scale,positionX:g.x,positionY:g.y};u===s.scale&&f===s.positionX&&h===s.positionY||(n?.(),hc(t,y,e,r))}}function Mse(t,e,r,n){var i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=r.getBoundingClientRect(),s=a.x*n.scale,l=a.y*n.scale;return{x:(i.x-o.x+s)/n.scale,y:(i.y-o.y+l)/n.scale}}function Dse(t,e,r){var n=t.wrapperComponent,i=t.contentComponent,a=t.transformState,o=t.setup,s=o.limitToBounds,l=o.minScale,u=o.maxScale;if(!n||!i)return a;var f=n.getBoundingClientRect(),h=e.getBoundingClientRect(),p=Mse(e,n,i,a),g=p.x,y=p.y,b=h.width/a.scale,v=h.height/a.scale,w=n.offsetWidth/b,S=n.offsetHeight/v,A=Dg(r||Math.min(w,S),l,u,0,!1),k=(f.width-b*A)/2,j=(f.height-v*A)/2,O=(f.left-g)*A+k,M=(f.top-y)*A+j,N=$A(t,A),C=Mg(O,M,N,s,0,0,n),H=C.x,T=C.y;return{positionX:H,positionY:T,scale:A}}var Fse=function(t){return function(e,r,n){e===void 0&&(e=.5),r===void 0&&(r=300),n===void 0&&(n="easeOut"),y7(t,1,e,r,n)}},Bse=function(t){return function(e,r,n){e===void 0&&(e=.5),r===void 0&&(r=300),n===void 0&&(n="easeOut"),y7(t,-1,e,r,n)}},$se=function(t){return function(e,r,n,i,a){i===void 0&&(i=300),a===void 0&&(a="easeOut");var o=t.transformState,s=o.positionX,l=o.positionY,u=o.scale,f=t.wrapperComponent,h=t.contentComponent,p=t.setup.disabled;if(!(p||!f||!h)){var g={positionX:Number.isNaN(e)?s:e,positionY:Number.isNaN(r)?l:r,scale:Number.isNaN(n)?u:n};hc(t,g,i,a)}}},Use=function(t){return function(e,r){e===void 0&&(e=200),r===void 0&&(r="easeOut"),b7(t,e,r)}},qse=function(t){return function(e,r,n){r===void 0&&(r=200),n===void 0&&(n="easeOut");var i=t.transformState,a=t.wrapperComponent,o=t.contentComponent;if(a&&o){var s=w7(e||i.scale,a,o);hc(t,s,r,n)}}},zse=function(t){return function(e,r,n,i){n===void 0&&(n=600),i===void 0&&(i="easeOut"),xs(t);var a=t.wrapperComponent,o=typeof e=="string"?document.getElementById(e):e;if(a&&o&&a.contains(o)){var s=Dse(t,o,r);hc(t,s,n,i)}}},oS=function(t){return{instance:t,zoomIn:Fse(t),zoomOut:Bse(t),setTransform:$se(t),resetTransform:Use(t),centerView:qse(t),zoomToElement:zse(t)}},Wse=function(t){return{instance:t,state:t.transformState}},en=function(t){var e={};return Object.assign(e,Wse(t)),Object.assign(e,oS(t)),e},t5=!1;function r5(){try{var t={get passive(){return t5=!0,!1}};return t}catch{return t5=!1,t5}}var e0=".".concat(aS.wrapperClass),xy=function(t,e){return e.some(function(r){return t.matches("".concat(e0," ").concat(r,", ").concat(e0," .").concat(r,", ").concat(e0," ").concat(r," *, ").concat(e0," .").concat(r," *"))})},sS=function(t){t&&clearTimeout(t)},Hse=function(t,e,r){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(r,")")},w7=function(t,e,r){var n=r.offsetWidth*t,i=r.offsetHeight*t,a=(e.offsetWidth-n)/2,o=(e.offsetHeight-i)/2;return{scale:t,positionX:a,positionY:o}};function Vse(t){return function(e){t.forEach(function(r){typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Gse=function(t,e){var r=t.setup.wheel,n=r.disabled,i=r.wheelDisabled,a=r.touchPadDisabled,o=r.excluded,s=t.isInitialized,l=t.isPanning,u=e.target,f=s&&!l&&!n&&u;if(!f||i&&!e.ctrlKey||a&&e.ctrlKey)return!1;var h=xy(u,o);return!h},Kse=function(t){return t?t.deltaY<0?1:-1:0};function Yse(t,e){var r=Kse(t),n=sse(e,r);return n}function x7(t,e,r){var n=e.getBoundingClientRect(),i=0,a=0;if("clientX"in t)i=(t.clientX-n.left)/r,a=(t.clientY-n.top)/r;else{var o=t.touches[0];i=(o.clientX-n.left)/r,a=(o.clientY-n.top)/r}return(Number.isNaN(i)||Number.isNaN(a))&&console.error("No mouse or touch offset found"),{x:i,y:a}}var Xse=function(t,e,r,n,i){var a=t.transformState.scale,o=t.wrapperComponent,s=t.setup,l=s.maxScale,u=s.minScale,f=s.zoomAnimation,h=s.disablePadding,p=f.size,g=f.disabled;if(!o)throw new Error("Wrapper is not mounted");var y=a+e*r,b=n?!1:!g,v=Dg(Uo(y,3),u,l,p,b&&!h);return v},Jse=function(t,e){var r=t.previousWheelEvent,n=t.transformState.scale,i=t.setup,a=i.maxScale,o=i.minScale;return r?n<a||n>o||Math.sign(r.deltaY)!==Math.sign(e.deltaY)||r.deltaY>0&&r.deltaY<e.deltaY||r.deltaY<0&&r.deltaY>e.deltaY||Math.sign(r.deltaY)!==Math.sign(e.deltaY):!1},Zse=function(t,e){var r=t.setup.pinch,n=r.disabled,i=r.excluded,a=t.isInitialized,o=e.target,s=a&&!n&&o;if(!s)return!1;var l=xy(o,i);return!l},Qse=function(t){var e=t.setup.pinch.disabled,r=t.isInitialized,n=t.pinchStartDistance,i=r&&!e&&n;return!!i},ele=function(t,e,r){var n=r.getBoundingClientRect(),i=t.touches,a=Uo(i[0].clientX-n.left,5),o=Uo(i[0].clientY-n.top,5),s=Uo(i[1].clientX-n.left,5),l=Uo(i[1].clientY-n.top,5);return{x:(a+s)/2/e,y:(o+l)/2/e}},_7=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},tle=function(t,e){var r=t.pinchStartScale,n=t.pinchStartDistance,i=t.setup,a=i.maxScale,o=i.minScale,s=i.zoomAnimation,l=i.disablePadding,u=s.size,f=s.disabled;if(!r||n===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return t.transformState.scale;var h=e/n,p=h*r;return Dg(Uo(p,2),o,a,u,!f&&!l)},rle=160,nle=100,ile=function(t,e){var r=t.props,n=r.onWheelStart,i=r.onZoomStart;t.wheelStopEventTimer||(xs(t),mn(en(t),e,n),mn(en(t),e,i))},ale=function(t,e){var r=t.props,n=r.onWheel,i=r.onZoom,a=t.contentComponent,o=t.setup,s=t.transformState,l=s.scale,u=o.limitToBounds,f=o.centerZoomedOut,h=o.zoomAnimation,p=o.wheel,g=o.disablePadding,y=o.smooth,b=h.size,v=h.disabled,w=p.step,S=p.smoothStep;if(!a)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var A=Yse(e,null),k=y?S*Math.abs(e.deltaY):w,j=Xse(t,A,k,!e.ctrlKey);if(l!==j){var O=gf(t,j),M=x7(e,a,l),N=v||b===0||f||g,C=u&&N,H=wy(t,M.x,M.y,j,O,C),T=H.x,L=H.y;t.previousWheelEvent=e,t.setTransformState(j,T,L),mn(en(t),e,n),mn(en(t),e,i)}},ole=function(t,e){var r=t.props,n=r.onWheelStop,i=r.onZoomStop;sS(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(g7(t,e.x,e.y),t.wheelAnimationTimer=null)},nle);var a=Jse(t,e);a&&(sS(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,mn(en(t),e,n),mn(en(t),e,i))},rle))},S7=function(t){for(var e=0,r=0,n=0;n<2;n+=1)e+=t.touches[n].clientX,r+=t.touches[n].clientY;var i=e/2,a=r/2;return{x:i,y:a}},sle=function(t,e){var r=_7(e);t.pinchStartDistance=r,t.lastDistance=r,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var n=S7(e);t.pinchLastCenterX=n.x,t.pinchLastCenterY=n.y,xs(t)},lle=function(t,e){var r=t.contentComponent,n=t.pinchStartDistance,i=t.wrapperComponent,a=t.transformState.scale,o=t.setup,s=o.limitToBounds,l=o.centerZoomedOut,u=o.zoomAnimation,f=o.alignmentAnimation,h=u.disabled,p=u.size;if(!(n===null||!r)){var g=ele(e,a,r);if(!(!Number.isFinite(g.x)||!Number.isFinite(g.y))){var y=_7(e),b=tle(t,y),v=S7(e),w=v.x-(t.pinchLastCenterX||0),S=v.y-(t.pinchLastCenterY||0);if(!(b===a&&w===0&&S===0)){t.pinchLastCenterX=v.x,t.pinchLastCenterY=v.y;var A=gf(t,b),k=h||p===0||l,j=s&&k,O=wy(t,g.x,g.y,b,A,j),M=O.x,N=O.y;t.pinchMidpoint=g,t.lastDistance=y;var C=f.sizeX,H=f.sizeY,T=nc(t,C),L=nc(t,H),$=M+w,F=N+S,U=Mg($,F,A,s,T,L,i),z=U.x,q=U.y;t.setTransformState(b,z,q)}}}},ule=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,g7(t,e?.x,e?.y)},A7=function(t,e){var r=t.props.onZoomStop,n=t.setup.doubleClick.animationTime;sS(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,mn(en(t),e,r)},n)},cle=function(t,e){var r=t.props,n=r.onZoomStart,i=r.onZoom,a=t.setup.doubleClick,o=a.animationTime,s=a.animationType;mn(en(t),e,n),b7(t,o,s,function(){return mn(en(t),e,i)}),A7(t,e)};function fle(t,e){return t==="toggle"?e===1?1:-1:t==="zoomOut"?-1:1}function dle(t,e){var r=t.setup,n=t.doubleClickStopEventTimer,i=t.transformState,a=t.contentComponent,o=i.scale,s=t.props,l=s.onZoomStart,u=s.onZoom,f=r.doubleClick,h=f.disabled,p=f.mode,g=f.step,y=f.animationTime,b=f.animationType;if(!h&&!n){if(p==="reset")return cle(t,e);if(!a)return console.error("No ContentComponent found");var v=fle(p,t.transformState.scale),w=v7(t,v,g);if(o!==w){mn(en(t),e,l);var S=x7(e,a,o),A=qA(t,w,S.x,S.y);if(!A)return console.error("Error during zoom event. New transformation state was not calculated.");mn(en(t),e,u),hc(t,A,y,b),A7(t,e)}}}var hle=function(t,e){var r=t.isInitialized,n=t.setup,i=t.wrapperComponent,a=n.doubleClick,o=a.disabled,s=a.excluded,l=e.target,u=i?.contains(l),f=r&&l&&u&&!o;if(!f)return!1;var h=xy(l,s);return!h},ple=(function(){function t(e){var r=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){r.initializeWindowEvents()},this.unmount=function(){r.cleanupWindowEvents()},this.update=function(n){r.props=n,gf(r,r.transformState.scale),r.setup=c6(n)},this.initializeWindowEvents=function(){var n,i,a=r5(),o=(n=r.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,s=o?.defaultView;(i=r.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",r.onWheelPanning,a),s?.addEventListener("mousedown",r.onPanningStart,a),s?.addEventListener("mousemove",r.onPanning,a),s?.addEventListener("mouseup",r.onPanningStop,a),o?.addEventListener("mouseleave",r.clearPanning,a),s?.addEventListener("keyup",r.setKeyUnPressed,a),s?.addEventListener("keydown",r.setKeyPressed,a)},this.cleanupWindowEvents=function(){var n,i,a=r5(),o=(n=r.wrapperComponent)===null||n===void 0?void 0:n.ownerDocument,s=o?.defaultView;s?.removeEventListener("mousedown",r.onPanningStart,a),s?.removeEventListener("mousemove",r.onPanning,a),s?.removeEventListener("mouseup",r.onPanningStop,a),o?.removeEventListener("mouseleave",r.clearPanning,a),s?.removeEventListener("keyup",r.setKeyUnPressed,a),s?.removeEventListener("keydown",r.setKeyPressed,a),document.removeEventListener("mouseleave",r.clearPanning,a),xs(r),(i=r.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(n){var i=r5();n.addEventListener("wheel",r.onWheelZoom,i),n.addEventListener("dblclick",r.onDoubleClick,i),n.addEventListener("touchstart",r.onTouchPanningStart,i),n.addEventListener("touchmove",r.onTouchPanning,i),n.addEventListener("touchend",r.onTouchPanningStop,i)},this.handleInitialize=function(n,i){var a=!1,o=r.setup.centerOnInit,s=function(l,u){for(var f=0,h=l;f<h.length;f++){var p=h[f];if(p.target===u)return!0}return!1};r.applyTransformation(),r.onInitCallbacks.forEach(function(l){l(en(r))}),r.observer=new ResizeObserver(function(l){if(s(l,n)||s(l,i))if(o&&!a){var u=i.offsetWidth,f=i.offsetHeight;(u>0||f>0)&&(a=!0,r.setCenter())}else xs(r),gf(r,r.transformState.scale),UA(r,0)}),r.observer.observe(n),r.observer.observe(i)},this.onWheelZoom=function(n){var i=r.setup.disabled;if(!i){var a=Gse(r,n);if(a){var o=r.isPressingKeys(r.setup.wheel.activationKeys);o&&(ile(r,n),ale(r,n),ole(r,n))}}},this.onWheelPanning=function(n){var i=r.setup,a=i.disabled,o=i.wheel,s=i.panning;if(!(!r.wrapperComponent||!r.contentComponent||a||!o.wheelDisabled||s.disabled||!s.wheelPanning||n.ctrlKey)){n.preventDefault(),n.stopPropagation();var l=r.transformState,u=l.positionX,f=l.positionY,h=u-n.deltaX,p=f-n.deltaY,g=s.lockAxisX?u:h,y=s.lockAxisY?f:p,b=r.setup.alignmentAnimation,v=b.sizeX,w=b.sizeY,S=nc(r,v),A=nc(r,w);g===u&&y===f||p7(r,g,y,S,A)}},this.onPanningStart=function(n){var i=r.setup.disabled,a=r.props.onPanningStart;if(!i){var o=i6(r,n);if(o){var s=r.isPressingKeys(r.setup.panning.activationKeys);s&&(n.button===0&&!r.setup.panning.allowLeftClickPan||n.button===1&&!r.setup.panning.allowMiddleClickPan||n.button===2&&!r.setup.panning.allowRightClickPan||(n.preventDefault(),n.stopPropagation(),xs(r),s6(r,n),mn(en(r),n,a)))}}},this.onPanning=function(n){var i=r.setup.disabled,a=r.props.onPanning;if(!i){var o=a6(r);if(o){var s=r.isPressingKeys(r.setup.panning.activationKeys);s&&(n.preventDefault(),n.stopPropagation(),l6(r,n.clientX,n.clientY),mn(en(r),n,a))}}},this.onPanningStop=function(n){var i=r.props.onPanningStop;r.isPanning&&(Rse(r),mn(en(r),n,i))},this.onPinchStart=function(n){var i=r.setup.disabled,a=r.props,o=a.onPinchingStart,s=a.onZoomStart;if(!i){var l=Zse(r,n);l&&(sle(r,n),xs(r),mn(en(r),n,o),mn(en(r),n,s))}},this.onPinch=function(n){var i=r.setup.disabled,a=r.props,o=a.onPinching,s=a.onZoom;if(!i){var l=Qse(r);l&&(n.preventDefault(),n.stopPropagation(),lle(r,n),mn(en(r),n,o),mn(en(r),n,s))}},this.onPinchStop=function(n){var i=r.props,a=i.onPinchingStop,o=i.onZoomStop;r.pinchStartScale&&(ule(r),mn(en(r),n,a),mn(en(r),n,o))},this.onTouchPanningStart=function(n){var i=r.setup.disabled,a=r.props.onPanningStart;if(!i){var o=i6(r,n);if(o){var s=r.lastTouch&&+new Date-r.lastTouch<200&&n.touches.length===1;if(!s){r.lastTouch=+new Date,xs(r);var l=n.touches,u=l.length===1,f=l.length===2;u&&(xs(r),s6(r,n),mn(en(r),n,a)),f&&r.onPinchStart(n)}}}},this.onTouchPanning=function(n){var i=r.setup.disabled,a=r.props.onPanning;if(r.isPanning&&n.touches.length===1){if(i)return;var o=a6(r);if(!o)return;n.preventDefault(),n.stopPropagation();var s=n.touches[0];l6(r,s.clientX,s.clientY),mn(en(r),n,a)}else n.touches.length>1&&r.onPinch(n)},this.onTouchPanningStop=function(n){r.onPanningStop(n),r.onPinchStop(n)},this.onDoubleClick=function(n){var i=r.setup.disabled;if(!i){var a=hle(r,n);a&&dle(r,n)}},this.clearPanning=function(n){r.isPanning&&r.onPanningStop(n)},this.setKeyPressed=function(n){r.pressedKeys[n.key]=!0},this.setKeyUnPressed=function(n){r.pressedKeys[n.key]=!1},this.isPressingKeys=function(n){return n.length?!!n.find(function(i){return r.pressedKeys[i]}):!0},this.setTransformState=function(n,i,a){var o=r.props.onTransformed;if(!Number.isNaN(n)&&!Number.isNaN(i)&&!Number.isNaN(a)){n!==r.transformState.scale&&(r.transformState.previousScale=r.transformState.scale,r.transformState.scale=n),r.transformState.positionX=i,r.transformState.positionY=a,r.applyTransformation();var s=en(r);r.onChangeCallbacks.forEach(function(l){return l(s)}),mn(s,{scale:n,positionX:i,positionY:a},o)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(r.wrapperComponent&&r.contentComponent){var n=w7(r.transformState.scale,r.wrapperComponent,r.contentComponent);r.setTransformState(n.scale,n.positionX,n.positionY)}},this.handleTransformStyles=function(n,i,a){return r.props.customTransform?r.props.customTransform(n,i,a):Hse(n,i,a)},this.applyTransformation=function(){if(!(!r.mounted||!r.contentComponent)){var n=r.transformState,i=n.scale,a=n.positionX,o=n.positionY,s=r.handleTransformStyles(a,o,i);r.contentComponent.style.transform=s}},this.getContext=function(){return en(r)},this.onChange=function(n){return r.onChangeCallbacks.has(n)||r.onChangeCallbacks.add(n),function(){r.onChangeCallbacks.delete(n)}},this.onInit=function(n){return r.onInitCallbacks.has(n)||r.onInitCallbacks.add(n),function(){r.onInitCallbacks.delete(n)}},this.init=function(n,i){r.cleanupWindowEvents(),r.wrapperComponent=n,r.contentComponent=i,gf(r,r.transformState.scale),r.handleInitializeWrapperEvents(n),r.handleInitialize(n,i),r.initializeWindowEvents(),r.isInitialized=!0;var a=en(r);mn(a,void 0,r.props.onInit)},this.props=e,this.setup=c6(this.props),this.transformState=m7(this.props)}return t})(),zA=ge.createContext(null),gle=function(t,e){return typeof t=="function"?t(e):t},P7=ge.forwardRef(function(t,e){var r=se.useRef(new ple(t)).current,n=gle(t.children,oS(r));return se.useImperativeHandle(e,function(){return oS(r)},[r]),se.useEffect(function(){r.update(t)},[r,t]),ge.createElement(zA.Provider,{value:r},n)});ge.forwardRef(function(t,e){var r=se.useRef(null),n=se.useContext(zA);return se.useEffect(function(){return n.onChange(function(i){if(r.current){var a=0,o=0;r.current.style.transform=n.handleTransformStyles(a,o,1/i.instance.transformState.scale)}})},[n]),ge.createElement("div",ec({},t,{ref:Vse([r,e])}))});function mle(t,e){e===void 0&&(e={});var r=e.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var vle=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,f6={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};mle(vle);var E7=function(t){var e=t.children,r=t.wrapperClass,n=r===void 0?"":r,i=t.contentClass,a=i===void 0?"":i,o=t.wrapperStyle,s=t.contentStyle,l=t.wrapperProps,u=l===void 0?{}:l,f=t.contentProps,h=f===void 0?{}:f,p=se.useContext(zA),g=p.init,y=p.cleanupWindowEvents,b=se.useRef(null),v=se.useRef(null);return se.useEffect(function(){var w=b.current,S=v.current;return w!==null&&S!==null&&g&&g?.(w,S),function(){y?.()}},[]),ge.createElement("div",ec({},u,{ref:b,className:"".concat(aS.wrapperClass," ").concat(f6.wrapper," ").concat(n),style:o}),ge.createElement("div",ec({},h,{ref:v,className:"".concat(aS.contentClass," ").concat(f6.content," ").concat(a),style:s}),e))};const yle=new URL("/assets/pdf.worker.min-rsCePomN.mjs",import.meta.url).toString(),ble=({planUrl:t,snags:e,onSelectLocation:r})=>{const n=se.useRef(null),i=se.useRef(null),a=se.useRef(null),o=se.useRef(null),[s,l]=se.useState(null),[u,f]=se.useState(null),[h,p]=se.useState(null),[g,y]=se.useState({positionX:0,positionY:0,scale:1}),[b,v]=se.useState(null),[w,S]=se.useState(0),[A,k]=se.useState(null),[j,O]=se.useState(!1),[M,N]=se.useState(!1),C=!!(t&&t.toLowerCase().endsWith(".pdf")),H=t?C?b?.numPages||0:u?1:0:0,T=H?w+1:1,L=se.useMemo(()=>e.filter(U=>U.plan_x!=null&&U.plan_y!=null&&(U.plan_page??1)===T).map(U=>({id:U.id,x:U.plan_x,y:U.plan_y,title:U.title,index:U.friendly_id})),[e,T]);se.useEffect(()=>{if(S(0),v(null),p(null),!t){f(null),k(null);return}if(C)(async()=>{try{O(!0),nF.workerSrc=yle;const z=await fetch(t);if(!z.ok)throw new Error("Failed to fetch PDF");const q=await z.arrayBuffer(),G=await iF({data:q}).promise;v(G),k(null)}catch(z){console.warn("PDF load failed",z),v(null),k("PDF preview unavailable")}finally{O(!1)}})();else{f(t),k(null);const U=new Image;U.onload=()=>{p({width:U.naturalWidth,height:U.naturalHeight})},U.src=t}},[t,C]),se.useEffect(()=>{if(!b||!a.current)return;(async()=>{try{N(!0);const z=await b.getPage(w+1),q=z.getViewport({scale:1.5});p({width:q.width,height:q.height});const G=a.current,K=G?.getContext("2d");if(!G||!K)return;G.width=q.width,G.height=q.height,await z.render({canvasContext:K,viewport:q}).promise}catch(z){console.error("Page render failed",z)}finally{N(!1)}})()},[b,w]);const $=U=>{if(!n.current||!H)return;const z=C?a.current:i.current?.querySelector("img");if(!z)return;const q=z.getBoundingClientRect(),G=U.clientX-q.left,K=U.clientY-q.top,te=G/q.width,X=K/q.height;te>=0&&te<=1&&X>=0&&X<=1&&r({x:Number(te.toFixed(3)),y:Number(X.toFixed(3)),page:T})},F=U=>{if(!n.current)return;const z=C?a.current:i.current?.querySelector("img");if(!z)return;const q=z.getBoundingClientRect(),G=U.clientX-q.left,K=U.clientY-q.top,te=G/q.width,X=K/q.height;te>=0&&te<=1&&X>=0&&X<=1?l({x:te,y:X}):l(null)};return P.jsxs("div",{className:"space-y-3 rounded-xl border border-slate-200 bg-white px-3 py-4 sm:px-4 shadow-sm overflow-x-hidden",children:[P.jsx("div",{className:"flex items-center justify-between",children:P.jsxs("div",{children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Floor plan"}),P.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Tap to place snags"})]})}),C&&H>1&&P.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[P.jsx("button",{type:"button",disabled:w===0,onClick:()=>{S(U=>Math.max(0,U-1)),o.current?.resetTransform()},className:"rounded-lg px-3 py-1 text-sm font-medium text-slate-600 hover:bg-white hover:shadow-sm disabled:opacity-50",children:" Previous"}),P.jsxs("span",{className:"text-sm font-semibold text-slate-700",children:["Floor ",w+1," ",P.jsxs("span",{className:"text-slate-400",children:["of ",H]})]}),P.jsx("button",{type:"button",disabled:w===H-1,onClick:()=>{S(U=>Math.min(H-1,U+1)),o.current?.resetTransform()},className:"rounded-lg px-3 py-1 text-sm font-medium text-slate-600 hover:bg-white hover:shadow-sm disabled:opacity-50",children:"Next "})]}),t?(C?b:u)?P.jsx(P7,{ref:o,initialScale:.9,minScale:.5,maxScale:4,centerOnInit:!0,wheel:{step:.1},panning:{velocityDisabled:!0},limitToBounds:!0,centerZoomedOut:!0,doubleClick:{disabled:!0},onTransformed:(U,z)=>{y({positionX:z.positionX,positionY:z.positionY,scale:z.scale})},children:({zoomIn:U,zoomOut:z,resetTransform:q})=>P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"mb-2 flex items-center justify-end gap-2",children:P.jsxs("div",{className:"flex items-center gap-1 rounded-lg border border-slate-200 bg-slate-50 px-2 py-1 text-xs font-semibold text-slate-700",children:[P.jsx("button",{type:"button",className:"rounded bg-white px-2 py-1 shadow hover:bg-slate-100 transition-colors",onClick:()=>z(.2),title:"Zoom out",children:""}),P.jsxs("span",{className:"min-w-[3rem] text-center",children:[Math.round(g.scale*100),"%"]}),P.jsx("button",{type:"button",className:"rounded bg-white px-2 py-1 shadow hover:bg-slate-100 transition-colors",onClick:()=>U(.2),title:"Zoom in",children:"+"}),P.jsx("button",{type:"button",className:"ml-1 rounded bg-white px-2 py-1 shadow hover:bg-slate-100 transition-colors",onClick:()=>q(),title:"Reset view",children:""})]})}),P.jsx("div",{ref:n,className:"relative h-[70vh] md:h-auto md:aspect-[16/9] w-full overflow-hidden rounded-lg border border-slate-200 bg-slate-100",children:P.jsx(E7,{wrapperClass:"!w-full !h-full",contentClass:"!w-full !h-full flex items-center justify-center",wrapperStyle:{width:"100%",height:"100%",cursor:g.scale>1?"grab":"crosshair",touchAction:"none"},children:P.jsxs("div",{ref:i,className:"relative",onClick:$,onMouseMove:F,onMouseLeave:()=>l(null),style:{cursor:g.scale>1?"inherit":"crosshair"},children:[C?P.jsxs(P.Fragment,{children:[P.jsx("canvas",{ref:a,className:"max-w-full max-h-full object-contain"}),M&&P.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/50",children:P.jsx("p",{className:"text-xs font-semibold text-slate-600",children:"Rendering..."})})]}):P.jsx("img",{src:u,className:"max-w-full max-h-full object-contain",alt:"Floor plan"}),P.jsx("div",{className:"absolute inset-0",style:{pointerEvents:"none"},children:L.map(G=>P.jsx("div",{className:"absolute flex h-6 w-6 -translate-x-1/2 -translate-y-1/2 items-center justify-center rounded-full bg-rose-500 text-xs font-bold text-white shadow-md border-2 border-white",style:{left:`${G.x*100}%`,top:`${G.y*100}%`},title:G.title,children:G.index},G.id))}),s&&P.jsx("div",{className:"absolute bottom-2 right-2 rounded-lg bg-black/70 px-2 py-1 text-xs text-white z-10 pointer-events-none",children:`${(s.x*100).toFixed(1)}%, ${(s.y*100).toFixed(1)}%`})]})})})]})}):j?P.jsx("p",{className:"text-sm text-slate-600",children:"Loading floor plan"}):P.jsxs("div",{className:"relative h-[50vh] md:h-auto md:aspect-[16/9] w-full overflow-hidden rounded-lg border border-slate-200 bg-slate-50",children:[P.jsx("iframe",{src:`${t}#toolbar=0`,title:"Floor plan PDF",className:"h-full w-full",allowFullScreen:!0}),P.jsx("p",{className:"absolute bottom-2 right-2 rounded bg-black/60 px-2 py-1 text-xs text-white",children:A||"PDF preview (pin placement disabled)"})]}):P.jsx("p",{className:"text-sm text-slate-600",children:"Upload a floor plan to start placing snag markers."})]})};function wle(t,e){return e.forEach((function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach((function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}}))})),Object.freeze(t)}function k7(t,e){return new Promise((function(r,n){let i;return xle(t).then((function(a){try{return i=a,r(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return n(o)}}),n)}))}const xle=t=>new Promise(((e,r)=>{const n=new FileReader;n.addEventListener("load",(({target:{result:i}})=>{const a=new DataView(i);let o=0;if(a.getUint16(o)!==65496)return r("not a valid JPEG");for(o+=2;;){const s=a.getUint16(o);if(s===65498)break;const l=a.getUint16(o+2);if(s===65505&&a.getUint32(o+4)===1165519206){const u=o+10;let f;switch(a.getUint16(u)){case 18761:f=!0;break;case 19789:f=!1;break;default:return r("TIFF header contains invalid endian")}if(a.getUint16(u+2,f)!==42)return r("TIFF header contains invalid version");const h=a.getUint32(u+4,f),p=u+h+2+12*a.getUint16(u+h,f);for(let g=u+h+2;g<p;g+=12)if(a.getUint16(g,f)==274){if(a.getUint16(g+2,f)!==3)return r("Orientation data type is invalid");if(a.getUint32(g+4,f)!==1)return r("Orientation data count is invalid");a.setUint16(g+8,1,f);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)})),n.readAsArrayBuffer(t)}));var Sv={},_le={get exports(){return Sv},set exports(t){Sv=t}};(function(t){var e,r,n={};_le.exports=n,n.parse=function(i,a){for(var o=n.bin.readUshort,s=n.bin.readUint,l=0,u={},f=new Uint8Array(i),h=f.length-4;s(f,h)!=101010256;)h--;l=h,l+=4;var p=o(f,l+=4);o(f,l+=2);var g=s(f,l+=2),y=s(f,l+=4);l+=4,l=y;for(var b=0;b<p;b++){s(f,l),l+=4,l+=4,l+=4,s(f,l+=4),g=s(f,l+=4);var v=s(f,l+=4),w=o(f,l+=4),S=o(f,l+2),A=o(f,l+4);l+=6;var k=s(f,l+=8);l+=4,l+=w+S+A,n._readLocal(f,k,u,g,v,a)}return u},n._readLocal=function(i,a,o,s,l,u){var f=n.bin.readUshort,h=n.bin.readUint;h(i,a),f(i,a+=4),f(i,a+=2);var p=f(i,a+=2);h(i,a+=2),h(i,a+=4),a+=4;var g=f(i,a+=8),y=f(i,a+=2);a+=2;var b=n.bin.readUTF8(i,a,g);if(a+=g,a+=y,u)o[b]={size:l,csize:s};else{var v=new Uint8Array(i.buffer,a);if(p==0)o[b]=new Uint8Array(v.buffer.slice(a,a+s));else{if(p!=8)throw"unknown compression method: "+p;var w=new Uint8Array(l);n.inflateRaw(v,w),o[b]=w}}},n.inflateRaw=function(i,a){return n.F.inflate(i,a)},n.inflate=function(i,a){return i[0],i[1],n.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),a)},n.deflate=function(i,a){a==null&&(a={level:6});var o=0,s=new Uint8Array(50+Math.floor(1.1*i.length));s[o]=120,s[o+1]=156,o+=2,o=n.F.deflateRaw(i,s,o,a.level);var l=n.adler(i,0,i.length);return s[o+0]=l>>>24&255,s[o+1]=l>>>16&255,s[o+2]=l>>>8&255,s[o+3]=l>>>0&255,new Uint8Array(s.buffer,0,o+4)},n.deflateRaw=function(i,a){a==null&&(a={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),s=n.F.deflateRaw(i,o,s,a.level);return new Uint8Array(o.buffer,0,s)},n.encode=function(i,a){a==null&&(a=!1);var o=0,s=n.bin.writeUint,l=n.bin.writeUshort,u={};for(var f in i){var h=!n._noNeed(f)&&!a,p=i[f],g=n.crc.crc(p,0,p.length);u[f]={cpr:h,usize:p.length,crc:g,file:h?n.deflateRaw(p):p}}for(var f in u)o+=u[f].file.length+30+46+2*n.bin.sizeUTF8(f);o+=22;var y=new Uint8Array(o),b=0,v=[];for(var f in u){var w=u[f];v.push(b),b=n._writeHeader(y,b,f,w,0)}var S=0,A=b;for(var f in u)w=u[f],v.push(b),b=n._writeHeader(y,b,f,w,1,v[S++]);var k=b-A;return s(y,b,101010256),b+=4,l(y,b+=4,S),l(y,b+=2,S),s(y,b+=2,k),s(y,b+=4,A),b+=4,b+=2,y.buffer},n._noNeed=function(i){var a=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(a)!=-1},n._writeHeader=function(i,a,o,s,l,u){var f=n.bin.writeUint,h=n.bin.writeUshort,p=s.file;return f(i,a,l==0?67324752:33639248),a+=4,l==1&&(a+=2),h(i,a,20),h(i,a+=2,0),h(i,a+=2,s.cpr?8:0),f(i,a+=2,0),f(i,a+=4,s.crc),f(i,a+=4,p.length),f(i,a+=4,s.usize),h(i,a+=4,n.bin.sizeUTF8(o)),h(i,a+=2,0),a+=2,l==1&&(a+=2,a+=2,f(i,a+=6,u),a+=4),a+=n.bin.writeUTF8(i,a,o),l==0&&(i.set(p,a),a+=p.length),a},n.crc={table:(function(){for(var i=new Uint32Array(256),a=0;a<256;a++){for(var o=a,s=0;s<8;s++)1&o?o=3988292384^o>>>1:o>>>=1;i[a]=o}return i})(),update:function(i,a,o,s){for(var l=0;l<s;l++)i=n.crc.table[255&(i^a[o+l])]^i>>>8;return i},crc:function(i,a,o){return 4294967295^n.crc.update(4294967295,i,a,o)}},n.adler=function(i,a,o){for(var s=1,l=0,u=a,f=a+o;u<f;){for(var h=Math.min(u+5552,f);u<h;)l+=s+=i[u++];s%=65521,l%=65521}return l<<16|s},n.bin={readUshort:function(i,a){return i[a]|i[a+1]<<8},writeUshort:function(i,a,o){i[a]=255&o,i[a+1]=o>>8&255},readUint:function(i,a){return 16777216*i[a+3]+(i[a+2]<<16|i[a+1]<<8|i[a])},writeUint:function(i,a,o){i[a]=255&o,i[a+1]=o>>8&255,i[a+2]=o>>16&255,i[a+3]=o>>24&255},readASCII:function(i,a,o){for(var s="",l=0;l<o;l++)s+=String.fromCharCode(i[a+l]);return s},writeASCII:function(i,a,o){for(var s=0;s<o.length;s++)i[a+s]=o.charCodeAt(s)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,a,o){for(var s,l="",u=0;u<o;u++)l+="%"+n.bin.pad(i[a+u].toString(16));try{s=decodeURIComponent(l)}catch{return n.bin.readASCII(i,a,o)}return s},writeUTF8:function(i,a,o){for(var s=o.length,l=0,u=0;u<s;u++){var f=o.charCodeAt(u);if((4294967168&f)==0)i[a+l]=f,l++;else if((4294965248&f)==0)i[a+l]=192|f>>6,i[a+l+1]=128|f>>0&63,l+=2;else if((4294901760&f)==0)i[a+l]=224|f>>12,i[a+l+1]=128|f>>6&63,i[a+l+2]=128|f>>0&63,l+=3;else{if((4292870144&f)!=0)throw"e";i[a+l]=240|f>>18,i[a+l+1]=128|f>>12&63,i[a+l+2]=128|f>>6&63,i[a+l+3]=128|f>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var a=i.length,o=0,s=0;s<a;s++){var l=i.charCodeAt(s);if((4294967168&l)==0)o++;else if((4294965248&l)==0)o+=2;else if((4294901760&l)==0)o+=3;else{if((4292870144&l)!=0)throw"e";o+=4}}return o}},n.F={},n.F.deflateRaw=function(i,a,o,s){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],u=n.F.U,f=n.F._goodIndex;n.F._hash;var h=n.F._putsE,p=0,g=o<<3,y=0,b=i.length;if(s==0){for(;p<b;)h(a,g,p+(T=Math.min(65535,b-p))==b?1:0),g=n.F._copyExact(i,p,T,a,g+8),p+=T;return g>>>3}var v=u.lits,w=u.strt,S=u.prev,A=0,k=0,j=0,O=0,M=0,N=0;for(b>2&&(w[N=n.F._hash(i,0)]=0),p=0;p<b;p++){if(M=N,p+1<b-2){N=n.F._hash(i,p+1);var C=p+1&32767;S[C]=w[N],w[N]=C}if(y<=p){(A>14e3||k>26697)&&b-p>100&&(y<p&&(v[A]=p-y,A+=2,y=p),g=n.F._writeBlock(p==b-1||y==b?1:0,v,A,O,i,j,p-j,a,g),A=k=O=0,j=p);var H=0;p<b-2&&(H=n.F._bestMatch(i,p,S,M,Math.min(l[2],b-p),l[3]));var T=H>>>16,L=65535&H;if(H!=0){L=65535&H;var $=f(T=H>>>16,u.of0);u.lhst[257+$]++;var F=f(L,u.df0);u.dhst[F]++,O+=u.exb[$]+u.dxb[F],v[A]=T<<23|p-y,v[A+1]=L<<16|$<<8|F,A+=2,y=p+T}else u.lhst[i[p]]++;k++}}for(j==p&&i.length!=0||(y<p&&(v[A]=p-y,A+=2,y=p),g=n.F._writeBlock(1,v,A,O,i,j,p-j,a,g),A=0,k=0,A=k=O=0,j=p);(7&g)!=0;)g++;return g>>>3},n.F._bestMatch=function(i,a,o,s,l,u){var f=32767&a,h=o[f],p=f-h+32768&32767;if(h==f||s!=n.F._hash(i,a-p))return 0;for(var g=0,y=0,b=Math.min(32767,a);p<=b&&--u!=0&&h!=f;){if(g==0||i[a+g]==i[a+g-p]){var v=n.F._howLong(i,a,p);if(v>g){if(y=p,(g=v)>=l)break;p+2<v&&(v=p+2);for(var w=0,S=0;S<v-2;S++){var A=a-p+S+32768&32767,k=A-o[A]+32768&32767;k>w&&(w=k,h=A)}}}p+=(f=h)-(h=o[f])+32768&32767}return g<<16|y},n.F._howLong=function(i,a,o){if(i[a]!=i[a-o]||i[a+1]!=i[a+1-o]||i[a+2]!=i[a+2-o])return 0;var s=a,l=Math.min(i.length,a+258);for(a+=3;a<l&&i[a]==i[a-o];)a++;return a-s},n.F._hash=function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<4)&65535},n.saved=0,n.F._writeBlock=function(i,a,o,s,l,u,f,h,p){var g,y,b,v,w,S,A,k,j,O=n.F.U,M=n.F._putsF,N=n.F._putsE;O.lhst[256]++,y=(g=n.F.getTrees())[0],b=g[1],v=g[2],w=g[3],S=g[4],A=g[5],k=g[6],j=g[7];var C=32+((p+3&7)==0?0:8-(p+3&7))+(f<<3),H=s+n.F.contSize(O.fltree,O.lhst)+n.F.contSize(O.fdtree,O.dhst),T=s+n.F.contSize(O.ltree,O.lhst)+n.F.contSize(O.dtree,O.dhst);T+=14+3*A+n.F.contSize(O.itree,O.ihst)+(2*O.ihst[16]+3*O.ihst[17]+7*O.ihst[18]);for(var L=0;L<286;L++)O.lhst[L]=0;for(L=0;L<30;L++)O.dhst[L]=0;for(L=0;L<19;L++)O.ihst[L]=0;var $=C<H&&C<T?0:H<T?1:2;if(M(h,p,i),M(h,p+1,$),p+=3,$==0){for(;(7&p)!=0;)p++;p=n.F._copyExact(l,u,f,h,p)}else{var F,U;if($==1&&(F=O.fltree,U=O.fdtree),$==2){n.F.makeCodes(O.ltree,y),n.F.revCodes(O.ltree,y),n.F.makeCodes(O.dtree,b),n.F.revCodes(O.dtree,b),n.F.makeCodes(O.itree,v),n.F.revCodes(O.itree,v),F=O.ltree,U=O.dtree,N(h,p,w-257),N(h,p+=5,S-1),N(h,p+=5,A-4),p+=4;for(var z=0;z<A;z++)N(h,p+3*z,O.itree[1+(O.ordr[z]<<1)]);p+=3*A,p=n.F._codeTiny(k,O.itree,h,p),p=n.F._codeTiny(j,O.itree,h,p)}for(var q=u,G=0;G<o;G+=2){for(var K=a[G],te=K>>>23,X=q+(8388607&K);q<X;)p=n.F._writeLit(l[q++],F,h,p);if(te!=0){var D=a[G+1],Y=D>>16,J=D>>8&255,ee=255&D;N(h,p=n.F._writeLit(257+J,F,h,p),te-O.of0[J]),p+=O.exb[J],M(h,p=n.F._writeLit(ee,U,h,p),Y-O.df0[ee]),p+=O.dxb[ee],q+=te}}p=n.F._writeLit(256,F,h,p)}return p},n.F._copyExact=function(i,a,o,s,l){var u=l>>>3;return s[u]=o,s[u+1]=o>>>8,s[u+2]=255-s[u],s[u+3]=255-s[u+1],u+=4,s.set(new Uint8Array(i.buffer,a,o),u),l+(o+4<<3)},n.F.getTrees=function(){for(var i=n.F.U,a=n.F._hufTree(i.lhst,i.ltree,15),o=n.F._hufTree(i.dhst,i.dtree,15),s=[],l=n.F._lenCodes(i.ltree,s),u=[],f=n.F._lenCodes(i.dtree,u),h=0;h<s.length;h+=2)i.ihst[s[h]]++;for(h=0;h<u.length;h+=2)i.ihst[u[h]]++;for(var p=n.F._hufTree(i.ihst,i.itree,7),g=19;g>4&&i.itree[1+(i.ordr[g-1]<<1)]==0;)g--;return[a,o,p,l,f,g,s,u]},n.F.getSecond=function(i){for(var a=[],o=0;o<i.length;o+=2)a.push(i[o+1]);return a},n.F.nonZero=function(i){for(var a="",o=0;o<i.length;o+=2)i[o+1]!=0&&(a+=(o>>1)+",");return a},n.F.contSize=function(i,a){for(var o=0,s=0;s<a.length;s++)o+=a[s]*i[1+(s<<1)];return o},n.F._codeTiny=function(i,a,o,s){for(var l=0;l<i.length;l+=2){var u=i[l],f=i[l+1];s=n.F._writeLit(u,a,o,s);var h=u==16?2:u==17?3:7;u>15&&(n.F._putsE(o,s,f,h),s+=h)}return s},n.F._lenCodes=function(i,a){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var s=0;s<o;s+=2){var l=i[s+1],u=s+3<o?i[s+3]:-1,f=s+5<o?i[s+5]:-1,h=s==0?-1:i[s-1];if(l==0&&u==l&&f==l){for(var p=s+5;p+2<o&&i[p+2]==l;)p+=2;(g=Math.min(p+1-s>>>1,138))<11?a.push(17,g-3):a.push(18,g-11),s+=2*g-2}else if(l==h&&u==l&&f==l){for(p=s+5;p+2<o&&i[p+2]==l;)p+=2;var g=Math.min(p+1-s>>>1,6);a.push(16,g-3),s+=2*g-2}else a.push(l,0)}return o>>>1},n.F._hufTree=function(i,a,o){var s=[],l=i.length,u=a.length,f=0;for(f=0;f<u;f+=2)a[f]=0,a[f+1]=0;for(f=0;f<l;f++)i[f]!=0&&s.push({lit:f,f:i[f]});var h=s.length,p=s.slice(0);if(h==0)return 0;if(h==1){var g=s[0].lit;return p=g==0?1:0,a[1+(g<<1)]=1,a[1+(p<<1)]=1,1}s.sort((function(k,j){return k.f-j.f}));var y=s[0],b=s[1],v=0,w=1,S=2;for(s[0]={lit:-1,f:y.f+b.f,l:y,r:b,d:0};w!=h-1;)y=v!=w&&(S==h||s[v].f<s[S].f)?s[v++]:s[S++],b=v!=w&&(S==h||s[v].f<s[S].f)?s[v++]:s[S++],s[w++]={lit:-1,f:y.f+b.f,l:y,r:b};var A=n.F.setDepth(s[w-1],0);for(A>o&&(n.F.restrictDepth(p,o,A),A=o),f=0;f<h;f++)a[1+(p[f].lit<<1)]=p[f].d;return A},n.F.setDepth=function(i,a){return i.lit!=-1?(i.d=a,a):Math.max(n.F.setDepth(i.l,a+1),n.F.setDepth(i.r,a+1))},n.F.restrictDepth=function(i,a,o){var s=0,l=1<<o-a,u=0;for(i.sort((function(h,p){return p.d==h.d?h.f-p.f:p.d-h.d})),s=0;s<i.length&&i[s].d>a;s++){var f=i[s].d;i[s].d=a,u+=l-(1<<o-f)}for(u>>>=o-a;u>0;)(f=i[s].d)<a?(i[s].d++,u-=1<<a-f-1):s++;for(;s>=0;s--)i[s].d==a&&u<0&&(i[s].d--,u++);u!=0&&console.log("debt left")},n.F._goodIndex=function(i,a){var o=0;return a[16|o]<=i&&(o|=16),a[8|o]<=i&&(o|=8),a[4|o]<=i&&(o|=4),a[2|o]<=i&&(o|=2),a[1|o]<=i&&(o|=1),o},n.F._writeLit=function(i,a,o,s){return n.F._putsF(o,s,a[i<<1]),s+a[1+(i<<1)]},n.F.inflate=function(i,a){var o=Uint8Array;if(i[0]==3&&i[1]==0)return a||new o(0);var s=n.F,l=s._bitsF,u=s._bitsE,f=s._decodeTiny,h=s.makeCodes,p=s.codes2map,g=s._get17,y=s.U,b=a==null;b&&(a=new o(i.length>>>2<<3));for(var v,w,S=0,A=0,k=0,j=0,O=0,M=0,N=0,C=0,H=0;S==0;)if(S=l(i,H,1),A=l(i,H+1,2),H+=3,A!=0){if(b&&(a=n.F._check(a,C+(1<<17))),A==1&&(v=y.flmap,w=y.fdmap,M=511,N=31),A==2){k=u(i,H,5)+257,j=u(i,H+5,5)+1,O=u(i,H+10,4)+4,H+=14;for(var T=0;T<38;T+=2)y.itree[T]=0,y.itree[T+1]=0;var L=1;for(T=0;T<O;T++){var $=u(i,H+3*T,3);y.itree[1+(y.ordr[T]<<1)]=$,$>L&&(L=$)}H+=3*O,h(y.itree,L),p(y.itree,L,y.imap),v=y.lmap,w=y.dmap,H=f(y.imap,(1<<L)-1,k+j,i,H,y.ttree);var F=s._copyOut(y.ttree,0,k,y.ltree);M=(1<<F)-1;var U=s._copyOut(y.ttree,k,j,y.dtree);N=(1<<U)-1,h(y.ltree,F),p(y.ltree,F,v),h(y.dtree,U),p(y.dtree,U,w)}for(;;){var z=v[g(i,H)&M];H+=15&z;var q=z>>>4;if(!(q>>>8))a[C++]=q;else{if(q==256)break;var G=C+q-254;if(q>264){var K=y.ldef[q-257];G=C+(K>>>3)+u(i,H,7&K),H+=7&K}var te=w[g(i,H)&N];H+=15&te;var X=te>>>4,D=y.ddef[X],Y=(D>>>4)+l(i,H,15&D);for(H+=15&D,b&&(a=n.F._check(a,C+(1<<17)));C<G;)a[C]=a[C++-Y],a[C]=a[C++-Y],a[C]=a[C++-Y],a[C]=a[C++-Y];C=G}}}else{(7&H)!=0&&(H+=8-(7&H));var J=4+(H>>>3),ee=i[J-4]|i[J-3]<<8;b&&(a=n.F._check(a,C+ee)),a.set(new o(i.buffer,i.byteOffset+J,ee),C),H=J+ee<<3,C+=ee}return a.length==C?a:a.slice(0,C)},n.F._check=function(i,a){var o=i.length;if(a<=o)return i;var s=new Uint8Array(Math.max(o<<1,a));return s.set(i,0),s},n.F._decodeTiny=function(i,a,o,s,l,u){for(var f=n.F._bitsE,h=n.F._get17,p=0;p<o;){var g=i[h(s,l)&a];l+=15&g;var y=g>>>4;if(y<=15)u[p]=y,p++;else{var b=0,v=0;y==16?(v=3+f(s,l,2),l+=2,b=u[p-1]):y==17?(v=3+f(s,l,3),l+=3):y==18&&(v=11+f(s,l,7),l+=7);for(var w=p+v;p<w;)u[p]=b,p++}}return l},n.F._copyOut=function(i,a,o,s){for(var l=0,u=0,f=s.length>>>1;u<o;){var h=i[u+a];s[u<<1]=0,s[1+(u<<1)]=h,h>l&&(l=h),u++}for(;u<f;)s[u<<1]=0,s[1+(u<<1)]=0,u++;return l},n.F.makeCodes=function(i,a){for(var o,s,l,u,f=n.F.U,h=i.length,p=f.bl_count,g=0;g<=a;g++)p[g]=0;for(g=1;g<h;g+=2)p[i[g]]++;var y=f.next_code;for(o=0,p[0]=0,s=1;s<=a;s++)o=o+p[s-1]<<1,y[s]=o;for(l=0;l<h;l+=2)(u=i[l+1])!=0&&(i[l]=y[u],y[u]++)},n.F.codes2map=function(i,a,o){for(var s=i.length,l=n.F.U.rev15,u=0;u<s;u+=2)if(i[u+1]!=0)for(var f=u>>1,h=i[u+1],p=f<<4|h,g=a-h,y=i[u]<<g,b=y+(1<<g);y!=b;)o[l[y]>>>15-a]=p,y++},n.F.revCodes=function(i,a){for(var o=n.F.U.rev15,s=15-a,l=0;l<i.length;l+=2){var u=i[l]<<a-i[l+1];i[l]=o[u]>>>s}},n.F._putsE=function(i,a,o){o<<=7&a;var s=a>>>3;i[s]|=o,i[s+1]|=o>>>8},n.F._putsF=function(i,a,o){o<<=7&a;var s=a>>>3;i[s]|=o,i[s+1]|=o>>>8,i[s+2]|=o>>>16},n.F._bitsE=function(i,a,o){return(i[a>>>3]|i[1+(a>>>3)]<<8)>>>(7&a)&(1<<o)-1},n.F._bitsF=function(i,a,o){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)&(1<<o)-1},n.F._get17=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16)>>>(7&a)},n.F._get25=function(i,a){return(i[a>>>3]|i[1+(a>>>3)]<<8|i[2+(a>>>3)]<<16|i[3+(a>>>3)]<<24)>>>(7&a)},n.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),(function(){for(var i=n.F.U,a=0;a<32768;a++){var o=a;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[a]=(o>>>16|o<<16)>>>17}function s(l,u,f){for(;u--!=0;)l.push(0,f)}for(a=0;a<32;a++)i.ldef[a]=i.of0[a]<<3|i.exb[a],i.ddef[a]=i.df0[a]<<4|i.dxb[a];s(i.fltree,144,8),s(i.fltree,112,9),s(i.fltree,24,7),s(i.fltree,8,8),n.F.makeCodes(i.fltree,9),n.F.codes2map(i.fltree,9,i.flmap),n.F.revCodes(i.fltree,9),s(i.fdtree,32,5),n.F.makeCodes(i.fdtree,5),n.F.codes2map(i.fdtree,5,i.fdmap),n.F.revCodes(i.fdtree,5),s(i.itree,19,0),s(i.ltree,286,0),s(i.dtree,30,0),s(i.ttree,320,0)})()})();var Sle=wle({__proto__:null,default:Sv},[Sv]);const ys=(function(){var t={nextZero(f,h){for(;f[h]!=0;)h++;return h},readUshort:(f,h)=>f[h]<<8|f[h+1],writeUshort(f,h,p){f[h]=p>>8&255,f[h+1]=255&p},readUint:(f,h)=>16777216*f[h]+(f[h+1]<<16|f[h+2]<<8|f[h+3]),writeUint(f,h,p){f[h]=p>>24&255,f[h+1]=p>>16&255,f[h+2]=p>>8&255,f[h+3]=255&p},readASCII(f,h,p){let g="";for(let y=0;y<p;y++)g+=String.fromCharCode(f[h+y]);return g},writeASCII(f,h,p){for(let g=0;g<p.length;g++)f[h+g]=p.charCodeAt(g)},readBytes(f,h,p){const g=[];for(let y=0;y<p;y++)g.push(f[h+y]);return g},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,h,p){let g,y="";for(let b=0;b<p;b++)y+=`%${t.pad(f[h+b].toString(16))}`;try{g=decodeURIComponent(y)}catch{return t.readASCII(f,h,p)}return g}};function e(f,h,p,g){const y=h*p,b=a(g),v=Math.ceil(h*b/8),w=new Uint8Array(4*y),S=new Uint32Array(w.buffer),{ctype:A}=g,{depth:k}=g,j=t.readUshort;if(A==6){const K=y<<2;if(k==8)for(var O=0;O<K;O+=4)w[O]=f[O],w[O+1]=f[O+1],w[O+2]=f[O+2],w[O+3]=f[O+3];if(k==16)for(O=0;O<K;O++)w[O]=f[O<<1]}else if(A==2){const K=g.tabs.tRNS;if(K==null){if(k==8)for(O=0;O<y;O++){var M=3*O;S[O]=255<<24|f[M+2]<<16|f[M+1]<<8|f[M]}if(k==16)for(O=0;O<y;O++)M=6*O,S[O]=255<<24|f[M+4]<<16|f[M+2]<<8|f[M]}else{var N=K[0];const te=K[1],X=K[2];if(k==8)for(O=0;O<y;O++){var C=O<<2;M=3*O,S[O]=255<<24|f[M+2]<<16|f[M+1]<<8|f[M],f[M]==N&&f[M+1]==te&&f[M+2]==X&&(w[C+3]=0)}if(k==16)for(O=0;O<y;O++)C=O<<2,M=6*O,S[O]=255<<24|f[M+4]<<16|f[M+2]<<8|f[M],j(f,M)==N&&j(f,M+2)==te&&j(f,M+4)==X&&(w[C+3]=0)}}else if(A==3){const K=g.tabs.PLTE,te=g.tabs.tRNS,X=te?te.length:0;if(k==1)for(var H=0;H<p;H++){var T=H*v,L=H*h;for(O=0;O<h;O++){C=L+O<<2;var $=3*(F=f[T+(O>>3)]>>7-((7&O)<<0)&1);w[C]=K[$],w[C+1]=K[$+1],w[C+2]=K[$+2],w[C+3]=F<X?te[F]:255}}if(k==2)for(H=0;H<p;H++)for(T=H*v,L=H*h,O=0;O<h;O++)C=L+O<<2,$=3*(F=f[T+(O>>2)]>>6-((3&O)<<1)&3),w[C]=K[$],w[C+1]=K[$+1],w[C+2]=K[$+2],w[C+3]=F<X?te[F]:255;if(k==4)for(H=0;H<p;H++)for(T=H*v,L=H*h,O=0;O<h;O++)C=L+O<<2,$=3*(F=f[T+(O>>1)]>>4-((1&O)<<2)&15),w[C]=K[$],w[C+1]=K[$+1],w[C+2]=K[$+2],w[C+3]=F<X?te[F]:255;if(k==8)for(O=0;O<y;O++){var F;C=O<<2,$=3*(F=f[O]),w[C]=K[$],w[C+1]=K[$+1],w[C+2]=K[$+2],w[C+3]=F<X?te[F]:255}}else if(A==4){if(k==8)for(O=0;O<y;O++){C=O<<2;var U=f[z=O<<1];w[C]=U,w[C+1]=U,w[C+2]=U,w[C+3]=f[z+1]}if(k==16)for(O=0;O<y;O++){var z;C=O<<2,U=f[z=O<<2],w[C]=U,w[C+1]=U,w[C+2]=U,w[C+3]=f[z+2]}}else if(A==0)for(N=g.tabs.tRNS?g.tabs.tRNS:-1,H=0;H<p;H++){const K=H*v,te=H*h;if(k==1)for(var q=0;q<h;q++){var G=(U=255*(f[K+(q>>>3)]>>>7-(7&q)&1))==255*N?0:255;S[te+q]=G<<24|U<<16|U<<8|U}else if(k==2)for(q=0;q<h;q++)G=(U=85*(f[K+(q>>>2)]>>>6-((3&q)<<1)&3))==85*N?0:255,S[te+q]=G<<24|U<<16|U<<8|U;else if(k==4)for(q=0;q<h;q++)G=(U=17*(f[K+(q>>>1)]>>>4-((1&q)<<2)&15))==17*N?0:255,S[te+q]=G<<24|U<<16|U<<8|U;else if(k==8)for(q=0;q<h;q++)G=(U=f[K+q])==N?0:255,S[te+q]=G<<24|U<<16|U<<8|U;else if(k==16)for(q=0;q<h;q++)U=f[K+(q<<1)],G=j(f,K+(q<<1))==N?0:255,S[te+q]=G<<24|U<<16|U<<8|U}return w}function r(f,h,p,g){const y=a(f),b=Math.ceil(p*y/8),v=new Uint8Array((b+1+f.interlace)*g);return h=f.tabs.CgBI?i(h,v):n(h,v),f.interlace==0?h=o(h,f,0,p,g):f.interlace==1&&(h=(function(S,A){const k=A.width,j=A.height,O=a(A),M=O>>3,N=Math.ceil(k*O/8),C=new Uint8Array(j*N);let H=0;const T=[0,0,4,0,2,0,1],L=[0,4,0,2,0,1,0],$=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const q=$[U],G=F[U];let K=0,te=0,X=T[U];for(;X<j;)X+=q,te++;let D=L[U];for(;D<k;)D+=G,K++;const Y=Math.ceil(K*O/8);o(S,A,H,K,te);let J=0,ee=T[U];for(;ee<j;){let ue=L[U],me=H+J*Y<<3;for(;ue<k;){var z;if(O==1&&(z=(z=S[me>>3])>>7-(7&me)&1,C[ee*N+(ue>>3)]|=z<<7-((7&ue)<<0)),O==2&&(z=(z=S[me>>3])>>6-(7&me)&3,C[ee*N+(ue>>2)]|=z<<6-((3&ue)<<1)),O==4&&(z=(z=S[me>>3])>>4-(7&me)&15,C[ee*N+(ue>>1)]|=z<<4-((1&ue)<<2)),O>=8){const fe=ee*N+ue*M;for(let le=0;le<M;le++)C[fe+le]=S[(me>>3)+le]}me+=O,ue+=G}J++,ee+=q}K*te!=0&&(H+=te*(1+Y)),U+=1}return C})(h,f)),h}function n(f,h){return i(new Uint8Array(f.buffer,2,f.length-6),h)}var i=(function(){const f={H:{}};return f.H.N=function(h,p){const g=Uint8Array;let y,b,v=0,w=0,S=0,A=0,k=0,j=0,O=0,M=0,N=0;if(h[0]==3&&h[1]==0)return p||new g(0);const C=f.H,H=C.b,T=C.e,L=C.R,$=C.n,F=C.A,U=C.Z,z=C.m,q=p==null;for(q&&(p=new g(h.length>>>2<<5));v==0;)if(v=H(h,N,1),w=H(h,N+1,2),N+=3,w!=0){if(q&&(p=f.H.W(p,M+(1<<17))),w==1&&(y=z.J,b=z.h,j=511,O=31),w==2){S=T(h,N,5)+257,A=T(h,N+5,5)+1,k=T(h,N+10,4)+4,N+=14;let K=1;for(var G=0;G<38;G+=2)z.Q[G]=0,z.Q[G+1]=0;for(G=0;G<k;G++){const D=T(h,N+3*G,3);z.Q[1+(z.X[G]<<1)]=D,D>K&&(K=D)}N+=3*k,$(z.Q,K),F(z.Q,K,z.u),y=z.w,b=z.d,N=L(z.u,(1<<K)-1,S+A,h,N,z.v);const te=C.V(z.v,0,S,z.C);j=(1<<te)-1;const X=C.V(z.v,S,A,z.D);O=(1<<X)-1,$(z.C,te),F(z.C,te,y),$(z.D,X),F(z.D,X,b)}for(;;){const K=y[U(h,N)&j];N+=15&K;const te=K>>>4;if(!(te>>>8))p[M++]=te;else{if(te==256)break;{let X=M+te-254;if(te>264){const ue=z.q[te-257];X=M+(ue>>>3)+T(h,N,7&ue),N+=7&ue}const D=b[U(h,N)&O];N+=15&D;const Y=D>>>4,J=z.c[Y],ee=(J>>>4)+H(h,N,15&J);for(N+=15&J;M<X;)p[M]=p[M++-ee],p[M]=p[M++-ee],p[M]=p[M++-ee],p[M]=p[M++-ee];M=X}}}}else{(7&N)!=0&&(N+=8-(7&N));const K=4+(N>>>3),te=h[K-4]|h[K-3]<<8;q&&(p=f.H.W(p,M+te)),p.set(new g(h.buffer,h.byteOffset+K,te),M),N=K+te<<3,M+=te}return p.length==M?p:p.slice(0,M)},f.H.W=function(h,p){const g=h.length;if(p<=g)return h;const y=new Uint8Array(g<<1);return y.set(h,0),y},f.H.R=function(h,p,g,y,b,v){const w=f.H.e,S=f.H.Z;let A=0;for(;A<g;){const k=h[S(y,b)&p];b+=15&k;const j=k>>>4;if(j<=15)v[A]=j,A++;else{let O=0,M=0;j==16?(M=3+w(y,b,2),b+=2,O=v[A-1]):j==17?(M=3+w(y,b,3),b+=3):j==18&&(M=11+w(y,b,7),b+=7);const N=A+M;for(;A<N;)v[A]=O,A++}}return b},f.H.V=function(h,p,g,y){let b=0,v=0;const w=y.length>>>1;for(;v<g;){const S=h[v+p];y[v<<1]=0,y[1+(v<<1)]=S,S>b&&(b=S),v++}for(;v<w;)y[v<<1]=0,y[1+(v<<1)]=0,v++;return b},f.H.n=function(h,p){const g=f.H.m,y=h.length;let b,v,w,S;const A=g.j;for(var k=0;k<=p;k++)A[k]=0;for(k=1;k<y;k+=2)A[h[k]]++;const j=g.K;for(b=0,A[0]=0,v=1;v<=p;v++)b=b+A[v-1]<<1,j[v]=b;for(w=0;w<y;w+=2)S=h[w+1],S!=0&&(h[w]=j[S],j[S]++)},f.H.A=function(h,p,g){const y=h.length,b=f.H.m.r;for(let v=0;v<y;v+=2)if(h[v+1]!=0){const w=v>>1,S=h[v+1],A=w<<4|S,k=p-S;let j=h[v]<<k;const O=j+(1<<k);for(;j!=O;)g[b[j]>>>15-p]=A,j++}},f.H.l=function(h,p){const g=f.H.m.r,y=15-p;for(let b=0;b<h.length;b+=2){const v=h[b]<<p-h[b+1];h[b]=g[v]>>>y}},f.H.M=function(h,p,g){g<<=7&p;const y=p>>>3;h[y]|=g,h[y+1]|=g>>>8},f.H.I=function(h,p,g){g<<=7&p;const y=p>>>3;h[y]|=g,h[y+1]|=g>>>8,h[y+2]|=g>>>16},f.H.e=function(h,p,g){return(h[p>>>3]|h[1+(p>>>3)]<<8)>>>(7&p)&(1<<g)-1},f.H.b=function(h,p,g){return(h[p>>>3]|h[1+(p>>>3)]<<8|h[2+(p>>>3)]<<16)>>>(7&p)&(1<<g)-1},f.H.Z=function(h,p){return(h[p>>>3]|h[1+(p>>>3)]<<8|h[2+(p>>>3)]<<16)>>>(7&p)},f.H.i=function(h,p){return(h[p>>>3]|h[1+(p>>>3)]<<8|h[2+(p>>>3)]<<16|h[3+(p>>>3)]<<24)>>>(7&p)},f.H.m=(function(){const h=Uint16Array,p=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new h(65536),g:new h(32768)}})(),(function(){const h=f.H.m;for(var p=0;p<32768;p++){let y=p;y=(2863311530&y)>>>1|(1431655765&y)<<1,y=(3435973836&y)>>>2|(858993459&y)<<2,y=(4042322160&y)>>>4|(252645135&y)<<4,y=(4278255360&y)>>>8|(16711935&y)<<8,h.r[p]=(y>>>16|y<<16)>>>17}function g(y,b,v){for(;b--!=0;)y.push(0,v)}for(p=0;p<32;p++)h.q[p]=h.S[p]<<3|h.T[p],h.c[p]=h.p[p]<<4|h.z[p];g(h._,144,8),g(h._,112,9),g(h._,24,7),g(h._,8,8),f.H.n(h._,9),f.H.A(h._,9,h.J),f.H.l(h._,9),g(h.$,32,5),f.H.n(h.$,5),f.H.A(h.$,5,h.h),f.H.l(h.$,5),g(h.Q,19,0),g(h.C,286,0),g(h.D,30,0),g(h.v,320,0)})(),f.H.N})();function a(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function o(f,h,p,g,y){let b=a(h);const v=Math.ceil(g*b/8);let w,S;b=Math.ceil(b/8);let A=f[p],k=0;if(A>1&&(f[p]=[0,0,1][A-2]),A==3)for(k=b;k<v;k++)f[k+1]=f[k+1]+(f[k+1-b]>>>1)&255;for(let j=0;j<y;j++)if(w=p+j*v,S=w+j+1,A=f[S-1],k=0,A==0)for(;k<v;k++)f[w+k]=f[S+k];else if(A==1){for(;k<b;k++)f[w+k]=f[S+k];for(;k<v;k++)f[w+k]=f[S+k]+f[w+k-b]}else if(A==2)for(;k<v;k++)f[w+k]=f[S+k]+f[w+k-v];else if(A==3){for(;k<b;k++)f[w+k]=f[S+k]+(f[w+k-v]>>>1);for(;k<v;k++)f[w+k]=f[S+k]+(f[w+k-v]+f[w+k-b]>>>1)}else{for(;k<b;k++)f[w+k]=f[S+k]+s(0,f[w+k-v],0);for(;k<v;k++)f[w+k]=f[S+k]+s(f[w+k-b],f[w+k-v],f[w+k-b-v])}return f}function s(f,h,p){const g=f+h-p,y=g-f,b=g-h,v=g-p;return y*y<=b*b&&y*y<=v*v?f:b*b<=v*v?h:p}function l(f,h,p){p.width=t.readUint(f,h),h+=4,p.height=t.readUint(f,h),h+=4,p.depth=f[h],h++,p.ctype=f[h],h++,p.compress=f[h],h++,p.filter=f[h],h++,p.interlace=f[h],h++}function u(f,h,p,g,y,b,v,w,S){const A=Math.min(h,y),k=Math.min(p,b);let j=0,O=0;for(let U=0;U<k;U++)for(let z=0;z<A;z++)if(v>=0&&w>=0?(j=U*h+z<<2,O=(w+U)*y+v+z<<2):(j=(-w+U)*h-v+z<<2,O=U*y+z<<2),S==0)g[O]=f[j],g[O+1]=f[j+1],g[O+2]=f[j+2],g[O+3]=f[j+3];else if(S==1){var M=f[j+3]*.00392156862745098,N=f[j]*M,C=f[j+1]*M,H=f[j+2]*M,T=g[O+3]*(1/255),L=g[O]*T,$=g[O+1]*T,F=g[O+2]*T;const q=1-M,G=M+T*q,K=G==0?0:1/G;g[O+3]=255*G,g[O+0]=(N+L*q)*K,g[O+1]=(C+$*q)*K,g[O+2]=(H+F*q)*K}else if(S==2)M=f[j+3],N=f[j],C=f[j+1],H=f[j+2],T=g[O+3],L=g[O],$=g[O+1],F=g[O+2],M==T&&N==L&&C==$&&H==F?(g[O]=0,g[O+1]=0,g[O+2]=0,g[O+3]=0):(g[O]=N,g[O+1]=C,g[O+2]=H,g[O+3]=M);else if(S==3){if(M=f[j+3],N=f[j],C=f[j+1],H=f[j+2],T=g[O+3],L=g[O],$=g[O+1],F=g[O+2],M==T&&N==L&&C==$&&H==F)continue;if(M<220&&T>20)return!1}return!0}return{decode:function(h){const p=new Uint8Array(h);let g=8;const y=t,b=y.readUshort,v=y.readUint,w={tabs:{},frames:[]},S=new Uint8Array(p.length);let A,k=0,j=0;const O=[137,80,78,71,13,10,26,10];for(var M=0;M<8;M++)if(p[M]!=O[M])throw"The input is not a PNG file!";for(;g<p.length;){const U=y.readUint(p,g);g+=4;const z=y.readASCII(p,g,4);if(g+=4,z=="IHDR")l(p,g,w);else if(z=="iCCP"){for(var N=g;p[N]!=0;)N++;y.readASCII(p,g,N-g),p[N+1];const q=p.slice(N+2,g+U);let G=null;try{G=n(q)}catch{G=i(q)}w.tabs[z]=G}else if(z=="CgBI")w.tabs[z]=p.slice(g,g+4);else if(z=="IDAT"){for(M=0;M<U;M++)S[k+M]=p[g+M];k+=U}else if(z=="acTL")w.tabs[z]={num_frames:v(p,g),num_plays:v(p,g+4)},A=new Uint8Array(p.length);else if(z=="fcTL"){j!=0&&((F=w.frames[w.frames.length-1]).data=r(w,A.slice(0,j),F.rect.width,F.rect.height),j=0);const q={x:v(p,g+12),y:v(p,g+16),width:v(p,g+4),height:v(p,g+8)};let G=b(p,g+22);G=b(p,g+20)/(G==0?100:G);const K={rect:q,delay:Math.round(1e3*G),dispose:p[g+24],blend:p[g+25]};w.frames.push(K)}else if(z=="fdAT"){for(M=0;M<U-4;M++)A[j+M]=p[g+M+4];j+=U-4}else if(z=="pHYs")w.tabs[z]=[y.readUint(p,g),y.readUint(p,g+4),p[g+8]];else if(z=="cHRM")for(w.tabs[z]=[],M=0;M<8;M++)w.tabs[z].push(y.readUint(p,g+4*M));else if(z=="tEXt"||z=="zTXt"){w.tabs[z]==null&&(w.tabs[z]={});var C=y.nextZero(p,g),H=y.readASCII(p,g,C-g),T=g+U-C-1;if(z=="tEXt")$=y.readASCII(p,C+1,T);else{var L=n(p.slice(C+2,C+2+T));$=y.readUTF8(L,0,L.length)}w.tabs[z][H]=$}else if(z=="iTXt"){w.tabs[z]==null&&(w.tabs[z]={}),C=0,N=g,C=y.nextZero(p,N),H=y.readASCII(p,N,C-N);const q=p[N=C+1];var $;p[N+1],N+=2,C=y.nextZero(p,N),y.readASCII(p,N,C-N),N=C+1,C=y.nextZero(p,N),y.readUTF8(p,N,C-N),T=U-((N=C+1)-g),q==0?$=y.readUTF8(p,N,T):(L=n(p.slice(N,N+T)),$=y.readUTF8(L,0,L.length)),w.tabs[z][H]=$}else if(z=="PLTE")w.tabs[z]=y.readBytes(p,g,U);else if(z=="hIST"){const q=w.tabs.PLTE.length/3;for(w.tabs[z]=[],M=0;M<q;M++)w.tabs[z].push(b(p,g+2*M))}else if(z=="tRNS")w.ctype==3?w.tabs[z]=y.readBytes(p,g,U):w.ctype==0?w.tabs[z]=b(p,g):w.ctype==2&&(w.tabs[z]=[b(p,g),b(p,g+2),b(p,g+4)]);else if(z=="gAMA")w.tabs[z]=y.readUint(p,g)/1e5;else if(z=="sRGB")w.tabs[z]=p[g];else if(z=="bKGD")w.ctype==0||w.ctype==4?w.tabs[z]=[b(p,g)]:w.ctype==2||w.ctype==6?w.tabs[z]=[b(p,g),b(p,g+2),b(p,g+4)]:w.ctype==3&&(w.tabs[z]=p[g]);else if(z=="IEND")break;g+=U,y.readUint(p,g),g+=4}var F;return j!=0&&((F=w.frames[w.frames.length-1]).data=r(w,A.slice(0,j),F.rect.width,F.rect.height)),w.data=r(w,S,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(h){const p=h.width,g=h.height;if(h.tabs.acTL==null)return[e(h.data,p,g,h).buffer];const y=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const b=p*g*4,v=new Uint8Array(b),w=new Uint8Array(b),S=new Uint8Array(b);for(let k=0;k<h.frames.length;k++){const j=h.frames[k],O=j.rect.x,M=j.rect.y,N=j.rect.width,C=j.rect.height,H=e(j.data,N,C,h);if(k!=0)for(var A=0;A<b;A++)S[A]=v[A];if(j.blend==0?u(H,N,C,v,p,g,O,M,0):j.blend==1&&u(H,N,C,v,p,g,O,M,1),y.push(v.buffer.slice(0)),j.dispose!=0){if(j.dispose==1)u(w,N,C,v,p,g,O,M,0);else if(j.dispose==2)for(A=0;A<b;A++)v[A]=S[A]}}return y},_paeth:s,_copyTile:u,_bin:t}})();(function(){const{_copyTile:t}=ys,{_bin:e}=ys,r=ys._paeth;var n={table:(function(){const N=new Uint32Array(256);for(let C=0;C<256;C++){let H=C;for(let T=0;T<8;T++)1&H?H=3988292384^H>>>1:H>>>=1;N[C]=H}return N})(),update(N,C,H,T){for(let L=0;L<T;L++)N=n.table[255&(N^C[H+L])]^N>>>8;return N},crc:(N,C,H)=>4294967295^n.update(4294967295,N,C,H)};function i(N,C,H,T){C[H]+=N[0]*T>>4,C[H+1]+=N[1]*T>>4,C[H+2]+=N[2]*T>>4,C[H+3]+=N[3]*T>>4}function a(N){return Math.max(0,Math.min(255,N))}function o(N,C){const H=N[0]-C[0],T=N[1]-C[1],L=N[2]-C[2],$=N[3]-C[3];return H*H+T*T+L*L+$*$}function s(N,C,H,T,L,$,F){F==null&&(F=1);const U=T.length,z=[];for(var q=0;q<U;q++){const ee=T[q];z.push([ee>>>0&255,ee>>>8&255,ee>>>16&255,ee>>>24&255])}for(q=0;q<U;q++){let ee=4294967295;for(var G=0,K=0;K<U;K++){var te=o(z[q],z[K]);K!=q&&te<ee&&(ee=te,G=K)}}const X=new Uint32Array(L.buffer),D=new Int16Array(C*H*4),Y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(q=0;q<Y.length;q++)Y[q]=255*((Y[q]+.5)/16-.5);for(let ee=0;ee<H;ee++)for(let ue=0;ue<C;ue++){var J;q=4*(ee*C+ue),F!=2?J=[a(N[q]+D[q]),a(N[q+1]+D[q+1]),a(N[q+2]+D[q+2]),a(N[q+3]+D[q+3])]:(te=Y[4*(3&ee)+(3&ue)],J=[a(N[q]+te),a(N[q+1]+te),a(N[q+2]+te),a(N[q+3]+te)]),G=0;let me=16777215;for(K=0;K<U;K++){const ve=o(J,z[K]);ve<me&&(me=ve,G=K)}const fe=z[G],le=[J[0]-fe[0],J[1]-fe[1],J[2]-fe[2],J[3]-fe[3]];F==1&&(ue!=C-1&&i(le,D,q+4,7),ee!=H-1&&(ue!=0&&i(le,D,q+4*C-4,3),i(le,D,q+4*C,5),ue!=C-1&&i(le,D,q+4*C+4,1))),$[q>>2]=G,X[q>>2]=T[G]}}function l(N,C,H,T,L){L==null&&(L={});const{crc:$}=n,F=e.writeUint,U=e.writeUshort,z=e.writeASCII;let q=8;const G=N.frames.length>1;let K,te=!1,X=33+(G?20:0);if(L.sRGB!=null&&(X+=13),L.pHYs!=null&&(X+=21),L.iCCP!=null&&(K=pako.deflate(L.iCCP),X+=21+K.length+4),N.ctype==3){for(var D=N.plte.length,Y=0;Y<D;Y++)N.plte[Y]>>>24!=255&&(te=!0);X+=8+3*D+4+(te?8+1*D+4:0)}for(var J=0;J<N.frames.length;J++)G&&(X+=38),X+=(fe=N.frames[J]).cimg.length+12,J!=0&&(X+=4);X+=12;const ee=new Uint8Array(X),ue=[137,80,78,71,13,10,26,10];for(Y=0;Y<8;Y++)ee[Y]=ue[Y];if(F(ee,q,13),q+=4,z(ee,q,"IHDR"),q+=4,F(ee,q,C),q+=4,F(ee,q,H),q+=4,ee[q]=N.depth,q++,ee[q]=N.ctype,q++,ee[q]=0,q++,ee[q]=0,q++,ee[q]=0,q++,F(ee,q,$(ee,q-17,17)),q+=4,L.sRGB!=null&&(F(ee,q,1),q+=4,z(ee,q,"sRGB"),q+=4,ee[q]=L.sRGB,q++,F(ee,q,$(ee,q-5,5)),q+=4),L.iCCP!=null){const le=13+K.length;F(ee,q,le),q+=4,z(ee,q,"iCCP"),q+=4,z(ee,q,"ICC profile"),q+=11,q+=2,ee.set(K,q),q+=K.length,F(ee,q,$(ee,q-(le+4),le+4)),q+=4}if(L.pHYs!=null&&(F(ee,q,9),q+=4,z(ee,q,"pHYs"),q+=4,F(ee,q,L.pHYs[0]),q+=4,F(ee,q,L.pHYs[1]),q+=4,ee[q]=L.pHYs[2],q++,F(ee,q,$(ee,q-13,13)),q+=4),G&&(F(ee,q,8),q+=4,z(ee,q,"acTL"),q+=4,F(ee,q,N.frames.length),q+=4,F(ee,q,L.loop!=null?L.loop:0),q+=4,F(ee,q,$(ee,q-12,12)),q+=4),N.ctype==3){for(F(ee,q,3*(D=N.plte.length)),q+=4,z(ee,q,"PLTE"),q+=4,Y=0;Y<D;Y++){const le=3*Y,ve=N.plte[Y],Ae=255&ve,be=ve>>>8&255,De=ve>>>16&255;ee[q+le+0]=Ae,ee[q+le+1]=be,ee[q+le+2]=De}if(q+=3*D,F(ee,q,$(ee,q-3*D-4,3*D+4)),q+=4,te){for(F(ee,q,D),q+=4,z(ee,q,"tRNS"),q+=4,Y=0;Y<D;Y++)ee[q+Y]=N.plte[Y]>>>24&255;q+=D,F(ee,q,$(ee,q-D-4,D+4)),q+=4}}let me=0;for(J=0;J<N.frames.length;J++){var fe=N.frames[J];G&&(F(ee,q,26),q+=4,z(ee,q,"fcTL"),q+=4,F(ee,q,me++),q+=4,F(ee,q,fe.rect.width),q+=4,F(ee,q,fe.rect.height),q+=4,F(ee,q,fe.rect.x),q+=4,F(ee,q,fe.rect.y),q+=4,U(ee,q,T[J]),q+=2,U(ee,q,1e3),q+=2,ee[q]=fe.dispose,q++,ee[q]=fe.blend,q++,F(ee,q,$(ee,q-30,30)),q+=4);const le=fe.cimg;F(ee,q,(D=le.length)+(J==0?0:4)),q+=4;const ve=q;z(ee,q,J==0?"IDAT":"fdAT"),q+=4,J!=0&&(F(ee,q,me++),q+=4),ee.set(le,q),q+=D,F(ee,q,$(ee,ve,q-ve)),q+=4}return F(ee,q,0),q+=4,z(ee,q,"IEND"),q+=4,F(ee,q,$(ee,q-4,4)),q+=4,ee.buffer}function u(N,C,H){for(let T=0;T<N.frames.length;T++){const L=N.frames[T];L.rect.width;const $=L.rect.height,F=new Uint8Array($*L.bpl+$);L.cimg=g(L.img,$,L.bpp,L.bpl,F,C,H)}}function f(N,C,H,T,L){const $=L[0],F=L[1],U=L[2],z=L[3],q=L[4],G=L[5];let K=6,te=8,X=255;for(var D=0;D<N.length;D++){const at=new Uint8Array(N[D]);for(var Y=at.length,J=0;J<Y;J+=4)X&=at[J+3]}const ee=X!=255,ue=(function(Ze,Ye,Be,tt,Ve,ut){const rt=[];for(var ft=0;ft<Ze.length;ft++){const qe=new Uint8Array(Ze[ft]),ze=new Uint32Array(qe.buffer);var ct;let st=0,Nt=0,lt=Ye,Mt=Be,lr=tt?1:0;if(ft!=0){const It=ut||tt||ft==1||rt[ft-2].dispose!=0?1:2;let tr=0,Ut=1e9;for(let Sr=0;Sr<It;Sr++){var kt=new Uint8Array(Ze[ft-1-Sr]);const $r=new Uint32Array(Ze[ft-1-Sr]);let rr=Ye,Tt=Be,ar=-1,$i=-1;for(let Jn=0;Jn<Be;Jn++)for(let Tn=0;Tn<Ye;Tn++)ze[pt=Jn*Ye+Tn]!=$r[pt]&&(Tn<rr&&(rr=Tn),Tn>ar&&(ar=Tn),Jn<Tt&&(Tt=Jn),Jn>$i&&($i=Jn));ar==-1&&(rr=Tt=ar=$i=0),Ve&&((1&rr)==1&&rr--,(1&Tt)==1&&Tt--);const Nn=(ar-rr+1)*($i-Tt+1);Nn<Ut&&(Ut=Nn,tr=Sr,st=rr,Nt=Tt,lt=ar-rr+1,Mt=$i-Tt+1)}kt=new Uint8Array(Ze[ft-1-tr]),tr==1&&(rt[ft-1].dispose=2),ct=new Uint8Array(lt*Mt*4),t(kt,Ye,Be,ct,lt,Mt,-st,-Nt,0),lr=t(qe,Ye,Be,ct,lt,Mt,-st,-Nt,3)?1:0,lr==1?p(qe,Ye,Be,ct,{x:st,y:Nt,width:lt,height:Mt}):t(qe,Ye,Be,ct,lt,Mt,-st,-Nt,0)}else ct=qe.slice(0);rt.push({rect:{x:st,y:Nt,width:lt,height:Mt},img:ct,blend:lr,dispose:0})}if(tt)for(ft=0;ft<rt.length;ft++){if((ke=rt[ft]).blend==1)continue;const qe=ke.rect,ze=rt[ft-1].rect,st=Math.min(qe.x,ze.x),Nt=Math.min(qe.y,ze.y),lt={x:st,y:Nt,width:Math.max(qe.x+qe.width,ze.x+ze.width)-st,height:Math.max(qe.y+qe.height,ze.y+ze.height)-Nt};rt[ft-1].dispose=1,ft-1!=0&&h(Ze,Ye,Be,rt,ft-1,lt,Ve),h(Ze,Ye,Be,rt,ft,lt,Ve)}let nr=0;if(Ze.length!=1)for(var pt=0;pt<rt.length;pt++){var ke;nr+=(ke=rt[pt]).rect.width*ke.rect.height}return rt})(N,C,H,$,F,U),me={},fe=[],le=[];if(T!=0){const at=[];for(J=0;J<ue.length;J++)at.push(ue[J].img.buffer);const Ze=(function(Ve){let ut=0;for(var rt=0;rt<Ve.length;rt++)ut+=Ve[rt].byteLength;const ft=new Uint8Array(ut);let ct=0;for(rt=0;rt<Ve.length;rt++){const kt=new Uint8Array(Ve[rt]),nr=kt.length;for(let pt=0;pt<nr;pt+=4){let ke=kt[pt],qe=kt[pt+1],ze=kt[pt+2];const st=kt[pt+3];st==0&&(ke=qe=ze=0),ft[ct+pt]=ke,ft[ct+pt+1]=qe,ft[ct+pt+2]=ze,ft[ct+pt+3]=st}ct+=nr}return ft.buffer})(at),Ye=b(Ze,T);for(J=0;J<Ye.plte.length;J++)fe.push(Ye.plte[J].est.rgba);let Be=0;for(J=0;J<ue.length;J++){const tt=(Ae=ue[J]).img.length;var ve=new Uint8Array(Ye.inds.buffer,Be>>2,tt>>2);le.push(ve);const Ve=new Uint8Array(Ye.abuf,Be,tt);G&&s(Ae.img,Ae.rect.width,Ae.rect.height,fe,Ve,ve),Ae.img.set(Ve),Be+=tt}}else for(D=0;D<ue.length;D++){var Ae=ue[D];const at=new Uint32Array(Ae.img.buffer);var be=Ae.rect.width;for(Y=at.length,ve=new Uint8Array(Y),le.push(ve),J=0;J<Y;J++){const Ze=at[J];if(J!=0&&Ze==at[J-1])ve[J]=ve[J-1];else if(J>be&&Ze==at[J-be])ve[J]=ve[J-be];else{let Ye=me[Ze];if(Ye==null&&(me[Ze]=Ye=fe.length,fe.push(Ze),fe.length>=300))break;ve[J]=Ye}}}const De=fe.length;for(De<=256&&q==0&&(te=De<=2?1:De<=4?2:De<=16?4:8,te=Math.max(te,z)),D=0;D<ue.length;D++){(Ae=ue[D]).rect.x,Ae.rect.y,be=Ae.rect.width;const at=Ae.rect.height;let Ze=Ae.img;new Uint32Array(Ze.buffer);let Ye=4*be,Be=4;if(De<=256&&q==0){Ye=Math.ceil(te*be/8);var Ee=new Uint8Array(Ye*at);const tt=le[D];for(let Ve=0;Ve<at;Ve++){J=Ve*Ye;const ut=Ve*be;if(te==8)for(var ce=0;ce<be;ce++)Ee[J+ce]=tt[ut+ce];else if(te==4)for(ce=0;ce<be;ce++)Ee[J+(ce>>1)]|=tt[ut+ce]<<4-4*(1&ce);else if(te==2)for(ce=0;ce<be;ce++)Ee[J+(ce>>2)]|=tt[ut+ce]<<6-2*(3&ce);else if(te==1)for(ce=0;ce<be;ce++)Ee[J+(ce>>3)]|=tt[ut+ce]<<7-1*(7&ce)}Ze=Ee,K=3,Be=1}else if(ee==0&&ue.length==1){Ee=new Uint8Array(be*at*3);const tt=be*at;for(J=0;J<tt;J++){const Ve=3*J,ut=4*J;Ee[Ve]=Ze[ut],Ee[Ve+1]=Ze[ut+1],Ee[Ve+2]=Ze[ut+2]}Ze=Ee,K=2,Be=3,Ye=3*be}Ae.img=Ze,Ae.bpl=Ye,Ae.bpp=Be}return{ctype:K,depth:te,plte:fe,frames:ue}}function h(N,C,H,T,L,$,F){const U=Uint8Array,z=Uint32Array,q=new U(N[L-1]),G=new z(N[L-1]),K=L+1<N.length?new U(N[L+1]):null,te=new U(N[L]),X=new z(te.buffer);let D=C,Y=H,J=-1,ee=-1;for(let me=0;me<$.height;me++)for(let fe=0;fe<$.width;fe++){const le=$.x+fe,ve=$.y+me,Ae=ve*C+le,be=X[Ae];be==0||T[L-1].dispose==0&&G[Ae]==be&&(K==null||K[4*Ae+3]!=0)||(le<D&&(D=le),le>J&&(J=le),ve<Y&&(Y=ve),ve>ee&&(ee=ve))}J==-1&&(D=Y=J=ee=0),F&&((1&D)==1&&D--,(1&Y)==1&&Y--),$={x:D,y:Y,width:J-D+1,height:ee-Y+1};const ue=T[L];ue.rect=$,ue.blend=1,ue.img=new Uint8Array($.width*$.height*4),T[L-1].dispose==0?(t(q,C,H,ue.img,$.width,$.height,-$.x,-$.y,0),p(te,C,H,ue.img,$)):t(te,C,H,ue.img,$.width,$.height,-$.x,-$.y,0)}function p(N,C,H,T,L){t(N,C,H,T,L.width,L.height,-L.x,-L.y,2)}function g(N,C,H,T,L,$,F){const U=[];let z,q=[0,1,2,3,4];$!=-1?q=[$]:(C*T>5e5||H==1)&&(q=[0]),F&&(z={level:0});const G=Sle;for(var K=0;K<q.length;K++){for(let D=0;D<C;D++)y(L,N,D,T,H,q[K]);U.push(G.deflate(L,z))}let te,X=1e9;for(K=0;K<U.length;K++)U[K].length<X&&(te=K,X=U[K].length);return U[te]}function y(N,C,H,T,L,$){const F=H*T;let U=F+H;if(N[U]=$,U++,$==0)if(T<500)for(var z=0;z<T;z++)N[U+z]=C[F+z];else N.set(new Uint8Array(C.buffer,F,T),U);else if($==1){for(z=0;z<L;z++)N[U+z]=C[F+z];for(z=L;z<T;z++)N[U+z]=C[F+z]-C[F+z-L]+256&255}else if(H==0){for(z=0;z<L;z++)N[U+z]=C[F+z];if($==2)for(z=L;z<T;z++)N[U+z]=C[F+z];if($==3)for(z=L;z<T;z++)N[U+z]=C[F+z]-(C[F+z-L]>>1)+256&255;if($==4)for(z=L;z<T;z++)N[U+z]=C[F+z]-r(C[F+z-L],0,0)+256&255}else{if($==2)for(z=0;z<T;z++)N[U+z]=C[F+z]+256-C[F+z-T]&255;if($==3){for(z=0;z<L;z++)N[U+z]=C[F+z]+256-(C[F+z-T]>>1)&255;for(z=L;z<T;z++)N[U+z]=C[F+z]+256-(C[F+z-T]+C[F+z-L]>>1)&255}if($==4){for(z=0;z<L;z++)N[U+z]=C[F+z]+256-r(0,C[F+z-T],0)&255;for(z=L;z<T;z++)N[U+z]=C[F+z]+256-r(C[F+z-L],C[F+z-T],C[F+z-L-T])&255}}}function b(N,C){const H=new Uint8Array(N),T=H.slice(0),L=new Uint32Array(T.buffer),$=v(T,C),F=$[0],U=$[1],z=H.length,q=new Uint8Array(z>>2);let G;if(H.length<2e7)for(var K=0;K<z;K+=4)G=w(F,te=H[K]*(1/255),X=H[K+1]*(1/255),D=H[K+2]*(1/255),Y=H[K+3]*(1/255)),q[K>>2]=G.ind,L[K>>2]=G.est.rgba;else for(K=0;K<z;K+=4){var te=H[K]*.00392156862745098,X=H[K+1]*(1/255),D=H[K+2]*(1/255),Y=H[K+3]*(1/255);for(G=F;G.left;)G=S(G.est,te,X,D,Y)<=0?G.left:G.right;q[K>>2]=G.ind,L[K>>2]=G.est.rgba}return{abuf:T.buffer,inds:q,plte:U}}function v(N,C,H){H==null&&(H=1e-4);const T=new Uint32Array(N.buffer),L={i0:0,i1:N.length,bst:null,est:null,tdst:0,left:null,right:null};L.bst=j(N,L.i0,L.i1),L.est=O(L.bst);const $=[L];for(;$.length<C;){let U=0,z=0;for(var F=0;F<$.length;F++)$[F].est.L>U&&(U=$[F].est.L,z=F);if(U<H)break;const q=$[z],G=A(N,T,q.i0,q.i1,q.est.e,q.est.eMq255);if(q.i0>=G||q.i1<=G){q.est.L=0;continue}const K={i0:q.i0,i1:G,bst:null,est:null,tdst:0,left:null,right:null};K.bst=j(N,K.i0,K.i1),K.est=O(K.bst);const te={i0:G,i1:q.i1,bst:null,est:null,tdst:0,left:null,right:null};for(te.bst={R:[],m:[],N:q.bst.N-K.bst.N},F=0;F<16;F++)te.bst.R[F]=q.bst.R[F]-K.bst.R[F];for(F=0;F<4;F++)te.bst.m[F]=q.bst.m[F]-K.bst.m[F];te.est=O(te.bst),q.left=K,q.right=te,$[z]=K,$.push(te)}for($.sort(((U,z)=>z.bst.N-U.bst.N)),F=0;F<$.length;F++)$[F].ind=F;return[L,$]}function w(N,C,H,T,L){if(N.left==null)return N.tdst=(function(K,te,X,D,Y){const J=te-K[0],ee=X-K[1],ue=D-K[2],me=Y-K[3];return J*J+ee*ee+ue*ue+me*me})(N.est.q,C,H,T,L),N;const $=S(N.est,C,H,T,L);let F=N.left,U=N.right;$>0&&(F=N.right,U=N.left);const z=w(F,C,H,T,L);if(z.tdst<=$*$)return z;const q=w(U,C,H,T,L);return q.tdst<z.tdst?q:z}function S(N,C,H,T,L){const{e:$}=N;return $[0]*C+$[1]*H+$[2]*T+$[3]*L-N.eMq}function A(N,C,H,T,L,$){for(T-=4;H<T;){for(;k(N,H,L)<=$;)H+=4;for(;k(N,T,L)>$;)T-=4;if(H>=T)break;const F=C[H>>2];C[H>>2]=C[T>>2],C[T>>2]=F,H+=4,T-=4}for(;k(N,H,L)>$;)H-=4;return H+4}function k(N,C,H){return N[C]*H[0]+N[C+1]*H[1]+N[C+2]*H[2]+N[C+3]*H[3]}function j(N,C,H){const T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=[0,0,0,0],$=H-C>>2;for(let F=C;F<H;F+=4){const U=N[F]*.00392156862745098,z=N[F+1]*(1/255),q=N[F+2]*(1/255),G=N[F+3]*(1/255);L[0]+=U,L[1]+=z,L[2]+=q,L[3]+=G,T[0]+=U*U,T[1]+=U*z,T[2]+=U*q,T[3]+=U*G,T[5]+=z*z,T[6]+=z*q,T[7]+=z*G,T[10]+=q*q,T[11]+=q*G,T[15]+=G*G}return T[4]=T[1],T[8]=T[2],T[9]=T[6],T[12]=T[3],T[13]=T[7],T[14]=T[11],{R:T,m:L,N:$}}function O(N){const{R:C}=N,{m:H}=N,{N:T}=N,L=H[0],$=H[1],F=H[2],U=H[3],z=T==0?0:1/T,q=[C[0]-L*L*z,C[1]-L*$*z,C[2]-L*F*z,C[3]-L*U*z,C[4]-$*L*z,C[5]-$*$*z,C[6]-$*F*z,C[7]-$*U*z,C[8]-F*L*z,C[9]-F*$*z,C[10]-F*F*z,C[11]-F*U*z,C[12]-U*L*z,C[13]-U*$*z,C[14]-U*F*z,C[15]-U*U*z],G=q,K=M;let te=[Math.random(),Math.random(),Math.random(),Math.random()],X=0,D=0;if(T!=0)for(let J=0;J<16&&(te=K.multVec(G,te),D=Math.sqrt(K.dot(te,te)),te=K.sml(1/D,te),!(J!=0&&Math.abs(D-X)<1e-9));J++)X=D;const Y=[L*z,$*z,F*z,U*z];return{Cov:q,q:Y,e:te,L:X,eMq255:K.dot(K.sml(255,Y),te),eMq:K.dot(te,Y),rgba:(Math.round(255*Y[3])<<24|Math.round(255*Y[2])<<16|Math.round(255*Y[1])<<8|Math.round(255*Y[0])<<0)>>>0}}var M={multVec:(N,C)=>[N[0]*C[0]+N[1]*C[1]+N[2]*C[2]+N[3]*C[3],N[4]*C[0]+N[5]*C[1]+N[6]*C[2]+N[7]*C[3],N[8]*C[0]+N[9]*C[1]+N[10]*C[2]+N[11]*C[3],N[12]*C[0]+N[13]*C[1]+N[14]*C[2]+N[15]*C[3]],dot:(N,C)=>N[0]*C[0]+N[1]*C[1]+N[2]*C[2]+N[3]*C[3],sml:(N,C)=>[N*C[0],N*C[1],N*C[2],N*C[3]]};ys.encode=function(C,H,T,L,$,F,U){L==null&&(L=0),U==null&&(U=!1);const z=f(C,H,T,L,[!1,!1,!1,0,U,!1]);return u(z,-1),l(z,H,T,$,F)},ys.encodeLL=function(C,H,T,L,$,F,U,z){const q={ctype:0+(L==1?0:2)+($==0?0:4),depth:F,frames:[]},G=(L+$)*F,K=G*H;for(let te=0;te<C.length;te++)q.frames.push({rect:{x:0,y:0,width:H,height:T},img:new Uint8Array(C[te]),blend:0,dispose:1,bpp:Math.ceil(G/8),bpl:Math.ceil(K/8)});return u(q,0,!0),l(q,H,T,U,z)},ys.encode.compress=f,ys.encode.dither=s,ys.quantize=b,ys.quantize.getKDtree=v,ys.quantize.getNearest=w})();const O7={toArrayBuffer(t,e){const r=t.width,n=t.height,i=r<<2,a=t.getContext("2d").getImageData(0,0,r,n),o=new Uint32Array(a.data.buffer),s=(32*r+31)/32<<2,l=s*n,u=122+l,f=new ArrayBuffer(u),h=new DataView(f),p=1<<20;let g,y,b,v,w=p,S=0,A=0,k=0;function j(N){h.setUint16(A,N,!0),A+=2}function O(N){h.setUint32(A,N,!0),A+=4}function M(N){A+=N}j(19778),O(u),M(4),O(122),O(108),O(r),O(-n>>>0),j(1),j(32),O(3),O(l),O(2835),O(2835),M(8),O(16711680),O(65280),O(255),O(4278190080),O(1466527264),(function N(){for(;S<n&&w>0;){for(v=122+S*s,g=0;g<i;)w--,y=o[k++],b=y>>>24,h.setUint32(v+g,y<<8|b),g+=4;S++}k<o.length?(w=p,setTimeout(N,O7._dly)):e(f)})()},toBlob(t,e){this.toArrayBuffer(t,(r=>{e(new Blob([r],{type:"image/bmp"}))}))},_dly:9};var Ba={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ale={[Ba.CHROME]:16384,[Ba.FIREFOX]:11180,[Ba.DESKTOP_SAFARI]:16384,[Ba.IE]:8192,[Ba.IOS]:4096,[Ba.ETC]:8192};const WA=typeof window<"u",j7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Av=WA&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ple=(WA||j7)&&(Av&&Av.getOriginalSymbol(window,"File")||typeof File<"u"&&File),C7=(WA||j7)&&(Av&&Av.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function HA(t,e,r=Date.now()){return new Promise((n=>{const i=t.split(","),a=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let s=o.length;const l=new Uint8Array(s);for(;s--;)l[s]=o.charCodeAt(s);const u=new Blob([l],{type:a});u.name=e,u.lastModified=r,n(u)}))}function N7(t){return new Promise(((e,r)=>{const n=new C7;n.onload=()=>e(n.result),n.onerror=i=>r(i),n.readAsDataURL(t)}))}function T7(t){return new Promise(((e,r)=>{const n=new Image;n.onload=()=>e(n),n.onerror=i=>r(i),n.src=t}))}function lf(){if(lf.cachedResult!==void 0)return lf.cachedResult;let t=Ba.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=Ba.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=Ba.IOS:/Safari/i.test(e)?t=Ba.DESKTOP_SAFARI:/Firefox/i.test(e)?t=Ba.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=Ba.IE),lf.cachedResult=t,lf.cachedResult}function L7(t,e){const r=lf(),n=Ale[r];let i=t,a=e,o=i*a;const s=i>a?a/i:i/a;for(;o>n*n;){const l=(n+i)/2,u=(n+a)/2;l<u?(a=u,i=u*s):(a=l*s,i=l),o=i*a}return{width:i,height:a}}function _y(t,e){let r,n;try{if(r=new OffscreenCanvas(t,e),n=r.getContext("2d"),n===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),n=r.getContext("2d")}return r.width=t,r.height=e,[r,n]}function I7(t,e){const{width:r,height:n}=L7(t.width,t.height),[i,a]=_y(r,n);return e&&/jpe?g/.test(e)&&(a.fillStyle="white",a.fillRect(0,0,i.width,i.height)),a.drawImage(t,0,0,i.width,i.height),i}function f0(){return f0.cachedResult!==void 0||(f0.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),f0.cachedResult}function Pv(t,e={}){return new Promise((function(r,n){let i,a;var o=function(){try{return a=I7(i,e.fileType||t.type),r([i,a])}catch(l){return n(l)}},s=function(l){try{var u=function(f){try{throw f}catch(h){return n(h)}};try{let f;return N7(t).then((function(h){try{return f=h,T7(f).then((function(p){try{return i=p,(function(){try{return o()}catch(g){return n(g)}})()}catch(g){return u(g)}}),u)}catch(p){return u(p)}}),u)}catch(f){u(f)}}catch(f){return n(f)}};try{if(f0()||[Ba.DESKTOP_SAFARI,Ba.MOBILE_SAFARI].includes(lf()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then((function(l){try{return i=l,o()}catch{return s()}}),s)}catch{s()}}))}function Ev(t,e,r,n,i=1){return new Promise((function(a,o){let s;if(e==="image/png"){let u,f,h;return u=t.getContext("2d"),{data:f}=u.getImageData(0,0,t.width,t.height),h=ys.encode([f.buffer],t.width,t.height,4096*i),s=new Blob([h],{type:e}),s.name=r,s.lastModified=n,l.call(this)}{let u=function(){return l.call(this)};if(e==="image/bmp")return new Promise((f=>O7.toBlob(t,f))).then((function(f){try{return s=f,s.name=r,s.lastModified=n,u.call(this)}catch(h){return o(h)}}).bind(this),o);{let f=function(){return u.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(h){try{return s=h,s.name=r,s.lastModified=n,f.call(this)}catch(p){return o(p)}}).bind(this),o);{let h;return h=t.toDataURL(e,i),HA(h,r,n).then((function(p){try{return s=p,f.call(this)}catch(g){return o(g)}}).bind(this),o)}}}function l(){return a(s)}}))}function Js(t){t.width=0,t.height=0}function Id(){return new Promise((function(t,e){let r,n,i,a;return Id.cachedResult!==void 0?t(Id.cachedResult):HA("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(o){try{return r=o,Pv(r).then((function(s){try{return n=s[1],Ev(n,r.type,r.name,r.lastModified).then((function(l){try{return i=l,Js(n),Pv(i).then((function(u){try{return a=u[0],Id.cachedResult=a.width===1&&a.height===2,t(Id.cachedResult)}catch(f){return e(f)}}),e)}catch(u){return e(u)}}),e)}catch(l){return e(l)}}),e)}catch(s){return e(s)}}),e)}))}function R7(t){return new Promise(((e,r)=>{const n=new C7;n.onload=i=>{const a=new DataView(i.target.result);if(a.getUint16(0,!1)!=65496)return e(-2);const o=a.byteLength;let s=2;for(;s<o;){if(a.getUint16(s+2,!1)<=8)return e(-1);const l=a.getUint16(s,!1);if(s+=2,l==65505){if(a.getUint32(s+=2,!1)!=1165519206)return e(-1);const u=a.getUint16(s+=6,!1)==18761;s+=a.getUint32(s+4,u);const f=a.getUint16(s,u);s+=2;for(let h=0;h<f;h++)if(a.getUint16(s+12*h,u)==274)return e(a.getUint16(s+12*h+8,u))}else{if((65280&l)!=65280)break;s+=a.getUint16(s,!1)}}return e(-1)},n.onerror=i=>r(i),n.readAsArrayBuffer(t)}))}function M7(t,e){const{width:r}=t,{height:n}=t,{maxWidthOrHeight:i}=e;let a,o=t;return isFinite(i)&&(r>i||n>i)&&([o,a]=_y(r,n),r>n?(o.width=i,o.height=n/r*i):(o.width=r/n*i,o.height=i),a.drawImage(t,0,0,o.width,o.height),Js(t)),o}function D7(t,e){const{width:r}=t,{height:n}=t,[i,a]=_y(r,n);switch(e>4&&e<9?(i.width=n,i.height=r):(i.width=r,i.height=n),e){case 2:a.transform(-1,0,0,1,r,0);break;case 3:a.transform(-1,0,0,-1,r,n);break;case 4:a.transform(1,0,0,-1,0,n);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,n,0);break;case 7:a.transform(0,-1,-1,0,n,r);break;case 8:a.transform(0,-1,1,0,0,r)}return a.drawImage(t,0,0,r,n),Js(t),i}function d6(t,e,r=0){return new Promise((function(n,i){let a,o,s,l,u,f,h,p,g,y,b,v,w,S,A,k,j,O,M,N;function C(T=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;a+=T,e.onProgress(Math.min(a,100))}function H(T){if(e.signal&&e.signal.aborted)throw e.signal.reason;a=Math.min(Math.max(T,a),100),e.onProgress(a)}return a=r,o=e.maxIteration||10,s=1024*e.maxSizeMB*1024,C(),Pv(t,e).then((function(T){try{return[,l]=T,C(),u=M7(l,e),C(),new Promise((function(L,$){var F;if(!(F=e.exifOrientation))return R7(t).then((function(z){try{return F=z,U.call(this)}catch(q){return $(q)}}).bind(this),$);function U(){return L(F)}return U.call(this)})).then((function(L){try{return f=L,C(),Id().then((function($){try{return h=$?u:D7(u,f),C(),p=e.initialQuality||1,g=e.fileType||t.type,Ev(h,g,t.name,t.lastModified,p).then((function(F){try{{let z=function(){if(o--&&(A>s||A>w)){let G,K;return G=N?.95*M.width:M.width,K=N?.95*M.height:M.height,[j,O]=_y(G,K),O.drawImage(M,0,0,G,K),p*=g==="image/png"?.85:.95,Ev(j,g,t.name,t.lastModified,p).then((function(te){try{return k=te,Js(M),M=j,A=k.size,H(Math.min(99,Math.floor((S-A)/(S-s)*100))),z}catch(X){return i(X)}}),i)}return[1]},q=function(){return Js(M),Js(j),Js(u),Js(h),Js(l),H(100),n(k)};if(y=F,C(),b=y.size>s,v=y.size>t.size,!b&&!v)return H(100),n(y);var U;return w=t.size,S=y.size,A=S,M=h,N=!e.alwaysKeepResolution&&b,(U=(function(G){for(;G;){if(G.then)return void G.then(U,i);try{if(G.pop){if(G.length)return G.pop()?q.call(this):G;G=z}else G=G.call(this)}catch(K){return i(K)}}}).bind(this))(z)}}catch(z){return i(z)}}).bind(this),i)}catch(F){return i(F)}}).bind(this),i)}catch($){return i($)}}).bind(this),i)}catch(L){return i(L)}}).bind(this),i)}))}const Ele=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let n5;function kle(t,e){return new Promise(((r,n)=>{n5||(n5=(function(o){const s=[];return s.push(o),URL.createObjectURL(new Blob(s))})(Ele));const i=new Worker(n5);i.addEventListener("message",(function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return n(new Error(o.data.error)),void i.terminate();r(o.data.file),i.terminate()}else e.onProgress(o.data.progress)})),i.addEventListener("error",n),e.signal&&e.signal.addEventListener("abort",(()=>{n(e.signal.reason),i.terminate()})),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})}))}function na(t,e){return new Promise((function(r,n){let i,a,o,s,l,u;if(i={...e},o=0,{onProgress:s}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=g=>{o=g,typeof s=="function"&&s(o)},!(t instanceof Blob||t instanceof Ple))return n(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return n(new Error("The file given is not an image"));if(u=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||u)return d6(t,i).then((function(g){try{return a=g,p.call(this)}catch(y){return n(y)}}).bind(this),n);var f=(function(){try{return p.call(this)}catch(g){return n(g)}}).bind(this),h=function(g){try{return d6(t,i).then((function(y){try{return a=y,f()}catch(b){return n(b)}}),n)}catch(y){return n(y)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",kle(t,i).then((function(g){try{return a=g,f()}catch{return h()}}),h)}catch{h()}function p(){try{a.name=t.name,a.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(a=k7(t,a))}catch{}return r(a)}}))}na.getDataUrlFromFile=N7,na.getFilefromDataUrl=HA,na.loadImage=T7,na.drawImageInCanvas=I7,na.drawFileInCanvas=Pv,na.canvasToFile=Ev,na.getExifOrientation=R7,na.handleMaxWidthOrHeight=M7,na.followExifOrientation=D7,na.cleanupCanvasMemory=Js,na.isAutoOrientationInBrowser=Id,na.approximateBelowMaximumCanvasSizeOfBrowser=L7,na.copyExifWithoutOrientation=k7,na.getBrowserName=lf,na.version="2.0.2";const lS=({label:t="Upload file",bucket:e,onUploaded:r,className:n})=>{const[i,a]=se.useState(!1),[o,s]=se.useState(null),[l,u]=se.useState([]),[f,h]=se.useState([]),[p,g]=se.useState(null),y=async S=>{const{GlobalWorkerOptions:A,getDocument:k}=await tu(async()=>{const{GlobalWorkerOptions:C,getDocument:H}=await import("./pdfjs-D08STMeX.js");return{GlobalWorkerOptions:C,getDocument:H}},[]),j=new URL("/assets/pdf.worker.min-rsCePomN.mjs",import.meta.url).toString();A.workerSrc=j;const O=await S.arrayBuffer(),M=await k({data:O}).promise,N=[];for(let C=1;C<=M.numPages;C++){const H=await M.getPage(C),T=H.getViewport({scale:.5}),L=document.createElement("canvas"),$=L.getContext("2d");$&&(L.width=T.width,L.height=T.height,$.fillStyle="#FFFFFF",$.fillRect(0,0,L.width,L.height),await H.render({canvasContext:$,viewport:T}).promise,N.push(L.toDataURL("image/jpeg",.7)))}return N},b=async(S,A)=>{const{GlobalWorkerOptions:k,getDocument:j}=await tu(async()=>{const{GlobalWorkerOptions:$,getDocument:F}=await import("./pdfjs-D08STMeX.js");return{GlobalWorkerOptions:$,getDocument:F}},[]),O=new URL("/assets/pdf.worker.min-rsCePomN.mjs",import.meta.url).toString();k.workerSrc=O;const M=await S.arrayBuffer(),C=await(await j({data:M}).promise).getPage(A+1),H=C.getViewport({scale:2}),T=document.createElement("canvas"),L=T.getContext("2d");if(!L)throw new Error("Canvas context missing");return T.width=H.width,T.height=H.height,L.fillStyle="#FFFFFF",L.fillRect(0,0,T.width,T.height),await C.render({canvasContext:L,viewport:H}).promise,new Promise(($,F)=>{T.toBlob(async U=>{if(!U)return F("Blob failed");const z=`${S.name.replace(/\.pdf$/i,"")}_page_${A+1}.jpg`,q=new File([U],z,{type:"image/jpeg"}),G=`${crypto.randomUUID()}.jpg`,{error:K}=await Qe.storage.from(e).upload(G,q,{cacheControl:"3600",upsert:!1});if(K)return F(K.message);const{data:te}=Qe.storage.from(e).getPublicUrl(G);$(te.publicUrl)},"image/jpeg",.85)})},v=async()=>{if(!(!p||f.length===0)){a(!0);try{const S=await Promise.all(f.map(A=>b(p,A)));r(S),u([]),g(null),h([])}catch(S){s(S.message||"Upload failed")}finally{a(!1)}}},w=async S=>{const A=S.target.files?.[0];if(A){a(!0),s(null);try{if(A.type==="application/pdf"){const{getDocument:C,GlobalWorkerOptions:H}=await tu(async()=>{const{getDocument:U,GlobalWorkerOptions:z}=await import("./pdfjs-D08STMeX.js");return{getDocument:U,GlobalWorkerOptions:z}},[]),T=new URL("/assets/pdf.worker.min-rsCePomN.mjs",import.meta.url).toString();H.workerSrc=T;const L=await A.arrayBuffer();if((await C({data:L}).promise).numPages>1){const U=await y(A);u(U),g(A),a(!1);return}const F=await b(A,0);r(F),a(!1);return}let k=A;if(A.type.startsWith("image/")){const C={maxSizeMB:1.5,maxWidthOrHeight:2500,useWebWorker:!0};try{k=await na(A,C)}catch(H){console.warn("Image compression failed, uploading original",H)}}const j=k.name.split(".").pop(),O=`${crypto.randomUUID()}.${j}`,{error:M}=await Qe.storage.from(e).upload(O,k,{cacheControl:"3600",upsert:!1});if(M){s(M.message),a(!1);return}const{data:N}=Qe.storage.from(e).getPublicUrl(O);r(N.publicUrl)}catch(k){s("Upload failed"),console.error(k)}finally{a(!1)}}};return l.length>0?P.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:P.jsxs("div",{className:"max-h-[80vh] w-full max-w-3xl overflow-hidden rounded-xl bg-white shadow-2xl flex flex-col",children:[P.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[P.jsx("h3",{className:"font-semibold text-lg",children:"Select Pages to Upload"}),P.jsx("button",{onClick:()=>{u([]),g(null)},className:"text-slate-500 hover:text-slate-700",children:""})]}),P.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:l.map((S,A)=>P.jsxs("div",{onClick:()=>h(k=>k.includes(A)?k.filter(j=>j!==A):[...k,A]),className:`relative cursor-pointer rounded-lg border-2 overflow-hidden transition-all ${f.includes(A)?"border-bpas-yellow ring-2 ring-bpas-yellow/50":"border-slate-200 hover:border-slate-300"}`,children:[P.jsx("img",{src:S,className:"w-full h-auto"}),P.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-xs p-1 text-center",children:["Page ",A+1]}),f.includes(A)&&P.jsx("div",{className:"absolute top-2 right-2 bg-bpas-yellow text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:""})]},A))}),P.jsxs("div",{className:"p-4 border-t bg-slate-50 flex justify-between items-center",children:[P.jsxs("span",{className:"text-sm text-slate-600",children:[f.length," pages selected"]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("button",{onClick:()=>{u([]),g(null)},className:"px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-200 rounded-lg",children:"Cancel"}),P.jsx("button",{onClick:v,disabled:f.length===0||i,className:"px-4 py-2 text-sm font-medium bg-bpas-black text-white rounded-lg hover:bg-slate-800 disabled:opacity-50",children:i?"Uploading...":"Upload Selected"})]})]})]})}):P.jsxs("div",{className:`space-y-1 ${n||""}`,children:[P.jsxs("label",{className:`flex cursor-pointer items-center justify-between rounded-lg border border-dashed border-bpas-yellow/60 bg-bpas-yellow/10 px-3 py-2 text-sm font-semibold text-bpas-black font-syne transition-opacity ${i?"opacity-50 pointer-events-none":""}`,children:[P.jsx("span",{children:i?"Processing":t}),P.jsx("input",{type:"file",className:"hidden",onChange:w,accept:"image/*,application/pdf",disabled:i})]}),o&&P.jsx("p",{className:"text-xs text-rose-600",children:o})]})},Ole=({project:t,snags:e,editingSnag:r,onProjectUpdate:n,onSelectLocation:i,readOnly:a=!1})=>{const{user:o}=ol(),[s,l]=se.useState([]),[u,f]=se.useState(null),[h,p]=se.useState(!1),[g,y]=se.useState(!1),[b,v]=se.useState(null);se.useEffect(()=>{t.id&&w()},[t.id]),se.useEffect(()=>{s.length>0&&!u&&f(s[0].id)},[s,u]);const w=async()=>{const{data:M,error:N}=await Qe.from("project_plans").select("*").eq("project_id",t.id).order("order",{ascending:!0});N?console.error("Error fetching plans:",N):l(M||[])},S=async M=>{if(!t.id)return;p(!0);const N=Array.isArray(M)?M:[M],C=[];for(const H of N){const T={project_id:t.id,name:`Plan ${s.length+C.length+1}`,url:H,order:s.length+C.length},{data:L,error:$}=await Qe.from("project_plans").insert(T).select().single();$?console.error("Error creating plan:",$):L&&C.push(L)}C.length>0&&(l([...s,...C]),u||f(C[0].id),s.length===0&&(await Qe.from("projects").update({plan_image_url:C[0].url}).eq("id",t.id),n({...t,plan_image_url:C[0].url}))),p(!1)},A=async M=>{if(confirm("Are you sure you want to delete this plan? Snags on this plan will lose their location context."))try{const{error:N}=await Qe.from("snags").update({plan_id:null}).eq("plan_id",M);if(N){console.error("Error updating snags:",N),alert(`Failed to update snags: ${N.message}`);return}const{error:C}=await Qe.from("project_plans").delete().eq("id",M);if(C){console.error("Error deleting plan:",C),alert(`Failed to delete plan: ${C.message}`);return}const H=s.filter(T=>T.id!==M);l(H),u===M&&f(H[0]?.id||null)}catch(N){console.error("Unexpected error deleting plan:",N),alert(`Failed to delete plan: ${N.message||"Unknown error"}`)}},k=async()=>{y(!0),v({current:0,total:s.length});try{await mne(s,(M,N)=>{v({current:M,total:N})}),alert("Plans downloaded for offline use.")}catch(M){console.error("Error downloading plans:",M),alert("Failed to download plans.")}finally{y(!1),v(null)}},O=s.find(M=>M.id===u)?.url||(s.length===0?t.plan_image_url:null);return P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{className:"flex items-center justify-between gap-4",children:[P.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:[s.map(M=>P.jsx("button",{onClick:()=>f(M.id),className:`whitespace-nowrap rounded-lg px-3 py-1.5 text-sm font-medium transition ${u===M.id?"bg-bpas-black text-white shadow-md":"bg-white text-slate-600 hover:bg-slate-50"}`,children:M.name},M.id)),s.length===0&&t.plan_image_url&&P.jsx("button",{className:"whitespace-nowrap rounded-lg px-3 py-1.5 text-sm font-medium bg-bpas-black text-white shadow-md",children:"Legacy Plan"})]}),P.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[P.jsx("button",{onClick:k,disabled:g,className:"flex items-center gap-2 rounded-lg border border-slate-200 px-3 py-1.5 text-sm font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-50",title:"Download plans for offline use",children:g?P.jsx("span",{children:b?`${b.current}/${b.total}`:"..."}):P.jsxs(P.Fragment,{children:[P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),P.jsx("polyline",{points:"7 10 12 15 17 10"}),P.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),P.jsx("span",{className:"hidden sm:inline",children:"Offline"})]})}),u&&P.jsx("button",{onClick:()=>A(u),className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-1.5 text-xs font-bold text-rose-600 hover:bg-rose-100 transition",children:"Delete"}),P.jsx(lS,{label:h?"Uploading...":"Add Plan",bucket:"plans",onUploaded:S,className:"text-xs"})]})]}),O?P.jsx("div",{className:"relative",children:P.jsx(ble,{planUrl:O,snags:e.filter(M=>M.plan_id===u||!M.plan_id&&!u),onSelectLocation:a?void 0:M=>i({...M,planId:u||""})})}):P.jsxs("div",{className:"flex h-64 flex-col items-center justify-center rounded-xl border-2 border-dashed border-slate-200 bg-slate-50 text-slate-500",children:[P.jsx("p",{className:"mb-2",children:"No floor plans uploaded yet."}),P.jsx(lS,{label:"Upload First Plan",bucket:"plans",onUploaded:S})]}),P.jsxs("p",{className:"text-xs font-raleway text-bpas-grey",children:["Tap the plan to ",r?"reposition the snag being edited":"start a new snag capture","."]})]})},Sy=0,pc=1,kh=2,F7=4;function h6(t){return()=>t}function jle(t){t()}function B7(t,e){return r=>t(e(r))}function p6(t,e){return()=>t(e)}function Cle(t,e){return r=>t(e,r)}function VA(t){return t!==void 0}function Nle(...t){return()=>{t.map(jle)}}function Oh(){}function Ay(t,e){return e(t),t}function Tle(t,e){return e(t)}function ln(...t){return t}function Lr(t,e){return t(pc,e)}function ir(t,e){t(Sy,e)}function GA(t){t(kh)}function Gn(t){return t(F7)}function Lt(t,e){return Lr(t,Cle(e,Sy))}function Ps(t,e){const r=t(pc,n=>{r(),e(n)});return r}function g6(t){let e,r;return n=>i=>{e=i,r&&clearTimeout(r),r=setTimeout(()=>{n(e)},t)}}function $7(t,e){return t===e}function sn(t=$7){let e;return r=>n=>{t(e,n)||(e=n,r(n))}}function Xt(t){return e=>r=>{t(r)&&e(r)}}function vt(t){return e=>B7(e,t)}function Zs(t){return e=>()=>{e(t)}}function Je(t,...e){const r=Lle(...e);return(n,i)=>{switch(n){case kh:GA(t);return;case pc:return Lr(t,r(i))}}}function tl(t,e){return r=>n=>{r(e=t(e,n))}}function Pf(t){return e=>r=>{t>0?t--:e(r)}}function Zl(t){let e=null,r;return n=>i=>{e=i,!r&&(r=setTimeout(()=>{r=void 0,n(e)},t))}}function sr(...t){const e=new Array(t.length);let r=0,n=null;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);Lr(a,l=>{const u=r;r=r|s,e[o]=l,u!==i&&r===i&&n&&(n(),n=null)})}),a=>o=>{const s=()=>{a([o].concat(e))};r===i?s():n=s}}function Lle(...t){return e=>t.reduceRight(Tle,e)}function Ile(t){let e,r;const n=()=>e?.();return function(i,a){switch(i){case pc:return a?r===a?void 0:(n(),r=a,e=Lr(t,a),e):(n(),Oh);case kh:n(),r=null;return}}}function it(t){let e=t;const r=hr();return(n,i)=>{switch(n){case Sy:e=i;break;case pc:{i(e);break}case F7:return e}return r(n,i)}}function sa(t,e){return Ay(it(e),r=>Lt(t,r))}function hr(){const t=[];return(e,r)=>{switch(e){case Sy:t.slice().forEach(n=>{n(r)});return;case kh:t.splice(0,t.length);return;case pc:return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}}}function go(t){return Ay(hr(),e=>Lt(t,e))}function _r(t,e=[],{singleton:r}={singleton:!0}){return{constructor:t,dependencies:e,id:Rle(),singleton:r}}const Rle=()=>Symbol();function Mle(t){const e=new Map,r=({constructor:n,dependencies:i,id:a,singleton:o})=>{if(o&&e.has(a))return e.get(a);const s=n(i.map(l=>r(l)));return o&&e.set(a,s),s};return r(t)}function ii(...t){const e=hr(),r=new Array(t.length);let n=0;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);Lr(a,l=>{r[o]=l,n=n|s,n===i&&ir(e,r)})}),function(a,o){switch(a){case kh:{GA(e);return}case pc:return n===i&&o(r),Lr(e,o)}}}function Gt(t,e=$7){return Je(t,sn(e))}function uS(...t){return function(e,r){switch(e){case kh:return;case pc:return Nle(...t.map(n=>Lr(n,r)))}}}var Ua=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(Ua||{});const Dle={0:"debug",3:"error",1:"log",2:"warn"},Fle=()=>typeof globalThis>"u"?window:globalThis,gc=_r(()=>{const t=it(3);return{log:it((e,r,n=1)=>{var i;const a=(i=Fle().VIRTUOSO_LOG_LEVEL)!=null?i:Gn(t);n>=a&&console[Dle[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",e,r)}),logLevel:t}},[],{singleton:!0});function Lf(t,e,r){return KA(t,e,r).callbackRef}function KA(t,e,r){const n=ge.useRef(null);let i=o=>{};const a=ge.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(o=>{const s=()=>{const l=o[0].target;l.offsetParent!==null&&t(l)};r?s():requestAnimationFrame(s)}):null,[t,r]);return i=o=>{o&&e?(a?.observe(o),n.current=o):(n.current&&a?.unobserve(n.current),n.current=null)},{callbackRef:i,ref:n}}function Ble(t,e,r,n,i,a,o,s,l){const u=ge.useCallback(f=>{const h=$le(f.children,e,s?"offsetWidth":"offsetHeight",i);let p=f.parentElement;for(;!p.dataset.virtuosoScroller;)p=p.parentElement;const g=p.lastElementChild.dataset.viewportType==="window";let y;g&&(y=p.ownerDocument.defaultView);const b=o?s?o.scrollLeft:o.scrollTop:g?s?y.scrollX||y.document.documentElement.scrollLeft:y.scrollY||y.document.documentElement.scrollTop:s?p.scrollLeft:p.scrollTop,v=o?s?o.scrollWidth:o.scrollHeight:g?s?y.document.documentElement.scrollWidth:y.document.documentElement.scrollHeight:s?p.scrollWidth:p.scrollHeight,w=o?s?o.offsetWidth:o.offsetHeight:g?s?y.innerWidth:y.innerHeight:s?p.offsetWidth:p.offsetHeight;n({scrollHeight:v,scrollTop:Math.max(b,0),viewportHeight:w}),a?.(s?m6("column-gap",getComputedStyle(f).columnGap,i):m6("row-gap",getComputedStyle(f).rowGap,i)),h!==null&&t(h)},[t,e,i,a,o,n,s]);return KA(u,r,l)}function $le(t,e,r,n){const i=t.length;if(i===0)return null;const a=[];for(let o=0;o<i;o++){const s=t.item(o);if(s.dataset.index===void 0)continue;const l=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),f=e(s,r);if(f===0&&n("Zero-sized element, this should not happen",{child:s},Ua.ERROR),f===u)continue;const h=a[a.length-1];a.length===0||h.size!==f||h.endIndex!==l-1?a.push({endIndex:l,size:f,startIndex:l}):a[a.length-1].endIndex++}return a}function m6(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r(`${t} was not resolved to pixel value correctly`,e,Ua.WARN),e==="normal"?0:parseInt(e??"0",10)}function U7(t,e,r){const n=ge.useRef(null),i=ge.useCallback(l=>{if(!(l!=null&&l.offsetParent))return;const u=l.getBoundingClientRect(),f=u.width;let h,p;if(e){const g=e.getBoundingClientRect(),y=u.top-g.top;p=g.height-Math.max(0,y),h=y+e.scrollTop}else{const g=o.current.ownerDocument.defaultView;p=g.innerHeight-Math.max(0,u.top),h=u.top+g.scrollY}n.current={offsetTop:h,visibleHeight:p,visibleWidth:f},t(n.current)},[t,e]),{callbackRef:a,ref:o}=KA(i,!0,r),s=ge.useCallback(()=>{i(o.current)},[i,o]);return ge.useEffect(()=>{var l;if(e){e.addEventListener("scroll",s);const u=new ResizeObserver(()=>{requestAnimationFrame(s)});return u.observe(e),()=>{e.removeEventListener("scroll",s),u.unobserve(e)}}else{const u=(l=o.current)==null?void 0:l.ownerDocument.defaultView;return u?.addEventListener("scroll",s),u?.addEventListener("resize",s),()=>{u?.removeEventListener("scroll",s),u?.removeEventListener("resize",s)}}},[s,e,o]),a}const xa=_r(()=>{const t=hr(),e=hr(),r=it(0),n=hr(),i=it(0),a=hr(),o=hr(),s=it(0),l=it(0),u=it(0),f=it(0),h=hr(),p=hr(),g=it(!1),y=it(!1),b=it(!1);return Lt(Je(t,vt(({scrollTop:v})=>v)),e),Lt(Je(t,vt(({scrollHeight:v})=>v)),o),Lt(e,i),{deviation:r,fixedFooterHeight:u,fixedHeaderHeight:l,footerHeight:f,headerHeight:s,horizontalDirection:y,scrollBy:p,scrollContainerState:t,scrollHeight:o,scrollingInProgress:g,scrollTo:h,scrollTop:e,skipAnimationFrameInResizeObserver:b,smoothScrollTargetReached:n,statefulScrollTop:i,viewportHeight:a}},[],{singleton:!0}),xg={lvl:0};function q7(t,e){const r=t.length;if(r===0)return[];let{index:n,value:i}=e(t[0]);const a=[];for(let o=1;o<r;o++){const{index:s,value:l}=e(t[o]);a.push({end:s-1,start:n,value:i}),n=s,i=l}return a.push({end:1/0,start:n,value:i}),a}function Yr(t){return t===xg}function _g(t,e){if(!Yr(t))return e===t.k?t.v:e<t.k?_g(t.l,e):_g(t.r,e)}function ks(t,e,r="k"){if(Yr(t))return[-1/0,void 0];if(Number(t[r])===e)return[t.k,t.v];if(Number(t[r])<e){const n=ks(t.r,e,r);return n[0]===-1/0?[t.k,t.v]:n}return ks(t.l,e,r)}function ho(t,e,r){return Yr(t)?H7(e,r,1):e===t.k?gi(t,{k:e,v:r}):e<t.k?v6(gi(t,{l:ho(t.l,e,r)})):v6(gi(t,{r:ho(t.r,e,r)}))}function Hd(){return xg}function Py(t,e,r){if(Yr(t))return[];const n=ks(t,e)[0];return Ule(fS(t,n,r))}function cS(t,e){if(Yr(t))return xg;const{k:r,l:n,r:i}=t;if(e===r){if(Yr(n))return i;if(Yr(i))return n;{const[a,o]=W7(n);return d0(gi(t,{k:a,l:z7(n),v:o}))}}else return e<r?d0(gi(t,{l:cS(n,e)})):d0(gi(t,{r:cS(i,e)}))}function uf(t){return Yr(t)?[]:[...uf(t.l),{k:t.k,v:t.v},...uf(t.r)]}function fS(t,e,r){if(Yr(t))return[];const{k:n,l:i,r:a,v:o}=t;let s=[];return n>e&&(s=s.concat(fS(i,e,r))),n>=e&&n<=r&&s.push({k:n,v:o}),n<=r&&(s=s.concat(fS(a,e,r))),s}function d0(t){const{l:e,lvl:r,r:n}=t;if(n.lvl>=r-1&&e.lvl>=r-1)return t;if(r>n.lvl+1){if(i5(e))return V7(gi(t,{lvl:r-1}));if(!Yr(e)&&!Yr(e.r))return gi(e.r,{l:gi(e,{r:e.r.l}),lvl:r,r:gi(t,{l:e.r.r,lvl:r-1})});throw new Error("Unexpected empty nodes")}else{if(i5(t))return dS(gi(t,{lvl:r-1}));if(!Yr(n)&&!Yr(n.l)){const i=n.l,a=i5(i)?n.lvl-1:n.lvl;return gi(i,{l:gi(t,{lvl:r-1,r:i.l}),lvl:i.lvl+1,r:dS(gi(n,{l:i.r,lvl:a}))})}else throw new Error("Unexpected empty nodes")}}function gi(t,e){return H7(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function z7(t){return Yr(t.r)?t.l:d0(gi(t,{r:z7(t.r)}))}function i5(t){return Yr(t)||t.lvl>t.r.lvl}function W7(t){return Yr(t.r)?[t.k,t.v]:W7(t.r)}function H7(t,e,r,n=xg,i=xg){return{k:t,l:n,lvl:r,r:i,v:e}}function v6(t){return dS(V7(t))}function V7(t){const{l:e}=t;return!Yr(e)&&e.lvl===t.lvl?gi(e,{r:gi(t,{l:e.r})}):t}function dS(t){const{lvl:e,r}=t;return!Yr(r)&&!Yr(r.r)&&r.lvl===e&&r.r.lvl===e?gi(r,{l:gi(t,{r:r.l}),lvl:e+1}):t}function Ule(t){return q7(t,({k:e,v:r})=>({index:e,value:r}))}function G7(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}function Sg(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}const YA=_r(()=>({recalcInProgress:it(!1)}),[],{singleton:!0});function K7(t,e,r){return t[kv(t,e,r)]}function kv(t,e,r,n=0){let i=t.length-1;for(;n<=i;){const a=Math.floor((n+i)/2),o=t[a],s=r(o,e);if(s===0)return a;if(s===-1){if(i-n<2)return a-1;i=a-1}else{if(i===n)return a;n=a+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function qle(t,e,r,n){const i=kv(t,e,n),a=kv(t,r,n,i);return t.slice(i,a+1)}function ic(t,e){return Math.round(t.getBoundingClientRect()[e])}function Ey(t){return!Yr(t.groupOffsetTree)}function XA({index:t},e){return e===t?0:e<t?-1:1}function zle(){return{groupIndices:[],groupOffsetTree:Hd(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Hd()}}function Wle(t,e){let r=Yr(t)?0:1/0;for(const n of e){const{endIndex:i,size:a,startIndex:o}=n;if(r=Math.min(r,o),Yr(t)){t=ho(t,0,a);continue}const s=Py(t,o-1,i+1);if(s.some(Jle(n)))continue;let l=!1,u=!1;for(const{end:f,start:h,value:p}of s)l?(i>=h||a===p)&&(t=cS(t,h)):(u=p!==a,l=!0),f>i&&i>=h&&p!==a&&(t=ho(t,i+1,p));u&&(t=ho(t,o,a))}return[t,r]}function Hle(t){return typeof t.groupIndex<"u"}function Vle({offset:t},e){return e===t?0:e<t?-1:1}function Ag(t,e,r){if(e.length===0)return 0;const{index:n,offset:i,size:a}=K7(e,t,XA),o=t-n,s=a*o+(o-1)*r+i;return s>0?s+r:s}function Y7(t,e){if(!Ey(e))return t;let r=0;for(;e.groupIndices[r]<=t+r;)r++;return t+r}function X7(t,e,r){if(Hle(t))return e.groupIndices[t.groupIndex]+1;{const n=t.index==="LAST"?r:t.index;let i=Y7(n,e);return i=Math.max(0,i,Math.min(r,i)),i}}function Gle(t,e,r,n=0){return n>0&&(e=Math.max(e,K7(t,n,XA).offset)),q7(qle(t,e,r,Vle),Xle)}function Kle(t,[e,r,n,i]){e.length>0&&n("received item sizes",e,Ua.DEBUG);const a=t.sizeTree;let o=a,s=0;if(r.length>0&&Yr(a)&&e.length===2){const p=e[0].size,g=e[1].size;o=r.reduce((y,b)=>ho(ho(y,b,p),b+1,g),o)}else[o,s]=Wle(o,e);if(o===a)return t;const{lastIndex:l,lastOffset:u,lastSize:f,offsetTree:h}=hS(t.offsetTree,s,o,i);return{groupIndices:r,groupOffsetTree:r.reduce((p,g)=>ho(p,g,Ag(g,h,i)),Hd()),lastIndex:l,lastOffset:u,lastSize:f,offsetTree:h,sizeTree:o}}function Yle(t){return uf(t).map(({k:e,v:r},n,i)=>{const a=i[n+1];return{endIndex:a?a.k-1:1/0,size:r,startIndex:e}})}function y6(t,e){let r=0,n=0;for(;r<t;)r+=e[n+1]-e[n]-1,n++;return n-(r===t?0:1)}function hS(t,e,r,n){let i=t,a=0,o=0,s=0,l=0;if(e!==0){l=kv(i,e-1,XA),s=i[l].offset;const u=ks(r,e-1);a=u[0],o=u[1],i.length&&i[l].size===ks(r,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:f}of Py(r,e,1/0)){const h=u-a,p=h*o+s+h*n;i.push({index:u,offset:p,size:f}),a=u,s=p,o=f}return{lastIndex:a,lastOffset:s,lastSize:o,offsetTree:i}}function Xle(t){return{index:t.index,value:t}}function Jle(t){const{endIndex:e,size:r,startIndex:n}=t;return i=>i.start===n&&(i.end===e||i.end===1/0)&&i.value===r}const Zle={offsetHeight:"height",offsetWidth:"width"},ul=_r(([{log:t},{recalcInProgress:e}])=>{const r=hr(),n=hr(),i=sa(n,0),a=hr(),o=hr(),s=it(0),l=it([]),u=it(void 0),f=it(void 0),h=it((j,O)=>ic(j,Zle[O])),p=it(void 0),g=it(0),y=zle(),b=sa(Je(r,sr(l,t,g),tl(Kle,y),sn()),y),v=sa(Je(l,sn(),tl((j,O)=>({current:O,prev:j.current}),{current:[],prev:[]}),vt(({prev:j})=>j)),[]);Lt(Je(l,Xt(j=>j.length>0),sr(b,g),vt(([j,O,M])=>{const N=j.reduce((C,H,T)=>ho(C,H,Ag(H,O.offsetTree,M)||T),Hd());return{...O,groupIndices:j,groupOffsetTree:N}})),b),Lt(Je(n,sr(b),Xt(([j,{lastIndex:O}])=>j<O),vt(([j,{lastIndex:O,lastSize:M}])=>[{endIndex:O,size:M,startIndex:j}])),r),Lt(u,f);const w=sa(Je(u,vt(j=>j===void 0)),!0);Lt(Je(f,Xt(j=>j!==void 0&&Yr(Gn(b).sizeTree)),vt(j=>[{endIndex:0,size:j,startIndex:0}])),r);const S=go(Je(r,sr(b),tl(({sizes:j},[O,M])=>({changed:M!==j,sizes:M}),{changed:!1,sizes:y}),vt(j=>j.changed)));Lr(Je(s,tl((j,O)=>({diff:j.prev-O,prev:O}),{diff:0,prev:0}),vt(j=>j.diff)),j=>{const{groupIndices:O}=Gn(b);if(j>0)ir(e,!0),ir(a,j+y6(j,O));else if(j<0){const M=Gn(v);M.length>0&&(j-=y6(-j,M)),ir(o,j)}}),Lr(Je(s,sr(t)),([j,O])=>{j<0&&O("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},Ua.ERROR)});const A=go(a);Lt(Je(a,sr(b),vt(([j,O])=>{const M=O.groupIndices.length>0,N=[],C=O.lastSize;if(M){const H=_g(O.sizeTree,0);let T=0,L=0;for(;T<j;){const F=O.groupIndices[L],U=O.groupIndices.length===L+1?1/0:O.groupIndices[L+1]-F-1;N.push({endIndex:F,size:H,startIndex:F}),N.push({endIndex:F+1+U-1,size:C,startIndex:F+1}),L++,T+=U+1}const $=uf(O.sizeTree);return T!==j&&$.shift(),$.reduce((F,{k:U,v:z})=>{let q=F.ranges;return F.prevSize!==0&&(q=[...F.ranges,{endIndex:U+j-1,size:F.prevSize,startIndex:F.prevIndex}]),{prevIndex:U+j,prevSize:z,ranges:q}},{prevIndex:j,prevSize:0,ranges:N}).ranges}return uf(O.sizeTree).reduce((H,{k:T,v:L})=>({prevIndex:T+j,prevSize:L,ranges:[...H.ranges,{endIndex:T+j-1,size:H.prevSize,startIndex:H.prevIndex}]}),{prevIndex:0,prevSize:C,ranges:[]}).ranges})),r);const k=go(Je(o,sr(b,g),vt(([j,{offsetTree:O},M])=>{const N=-j;return Ag(N,O,M)})));return Lt(Je(o,sr(b,g),vt(([j,O,M])=>{if(O.groupIndices.length>0){if(Yr(O.sizeTree))return O;let N=Hd();const C=Gn(v);let H=0,T=0,L=0;for(;H<-j;){L=C[T];const $=C[T+1]-L-1;T++,H+=$+1}if(N=uf(O.sizeTree).reduce(($,{k:F,v:U})=>ho($,Math.max(0,F+j),U),N),H!==-j){const $=_g(O.sizeTree,L);N=ho(N,0,$);const F=ks(O.sizeTree,-j+1)[1];N=ho(N,1,F)}return{...O,sizeTree:N,...hS(O.offsetTree,0,N,M)}}else{const N=uf(O.sizeTree).reduce((C,{k:H,v:T})=>ho(C,Math.max(0,H+j),T),Hd());return{...O,sizeTree:N,...hS(O.offsetTree,0,N,M)}}})),b),{beforeUnshiftWith:A,data:p,defaultItemSize:f,firstItemIndex:s,fixedItemSize:u,gap:g,groupIndices:l,itemSize:h,listRefresh:S,shiftWith:o,shiftWithOffset:k,sizeRanges:r,sizes:b,statefulTotalCount:i,totalCount:n,trackItemSizes:w,unshiftWith:a}},ln(gc,YA),{singleton:!0});function Qle(t){return t.reduce((e,r)=>(e.groupIndices.push(e.totalCount),e.totalCount+=r+1,e),{groupIndices:[],totalCount:0})}const J7=_r(([{groupIndices:t,sizes:e,totalCount:r},{headerHeight:n,scrollTop:i}])=>{const a=hr(),o=hr(),s=go(Je(a,vt(Qle)));return Lt(Je(s,vt(l=>l.totalCount)),r),Lt(Je(s,vt(l=>l.groupIndices)),t),Lt(Je(ii(i,e,n),Xt(([l,u])=>Ey(u)),vt(([l,u,f])=>ks(u.groupOffsetTree,Math.max(l-f,0),"v")[0]),sn(),vt(l=>[l])),o),{groupCounts:a,topItemsIndexes:o}},ln(ul,xa)),mc=_r(([{log:t}])=>{const e=it(!1),r=go(Je(e,Xt(n=>n),sn()));return Lr(e,n=>{n&&Gn(t)("props updated",{},Ua.DEBUG)}),{didMount:r,propsReady:e}},ln(gc),{singleton:!0}),eue=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Z7(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!eue)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const Fg=_r(([{gap:t,listRefresh:e,sizes:r,totalCount:n},{fixedFooterHeight:i,fixedHeaderHeight:a,footerHeight:o,headerHeight:s,scrollingInProgress:l,scrollTo:u,smoothScrollTargetReached:f,viewportHeight:h},{log:p}])=>{const g=hr(),y=hr(),b=it(0);let v=null,w=null,S=null;function A(){v&&(v(),v=null),S&&(S(),S=null),w&&(clearTimeout(w),w=null),ir(l,!1)}return Lt(Je(g,sr(r,h,n,b,s,o,p),sr(t,a,i),vt(([[k,j,O,M,N,C,H,T],L,$,F])=>{const U=Z7(k),{align:z,behavior:q,offset:G}=U,K=M-1,te=X7(U,j,K);let X=Ag(te,j.offsetTree,L)+C;z==="end"?(X+=$+ks(j.sizeTree,te)[1]-O+F,te===K&&(X+=H)):z==="center"?X+=($+ks(j.sizeTree,te)[1]-O+F)/2:X-=N,G&&(X+=G);const D=Y=>{A(),Y?(T("retrying to scroll to",{location:k},Ua.DEBUG),ir(g,k)):(ir(y,!0),T("list did not change, scroll successful",{},Ua.DEBUG))};if(A(),q==="smooth"){let Y=!1;S=Lr(e,J=>{Y=Y||J}),v=Ps(f,()=>{D(Y)})}else v=Ps(Je(e,tue(150)),D);return w=setTimeout(()=>{A()},1200),ir(l,!0),T("scrolling from index to",{behavior:q,index:te,top:X},Ua.DEBUG),{behavior:q,top:X}})),u),{scrollTargetReached:y,scrollToIndex:g,topListHeight:b}},ln(ul,xa,gc),{singleton:!0});function tue(t){return e=>{const r=setTimeout(()=>{e(!1)},t);return n=>{n&&(e(!0),clearTimeout(r))}}}function JA(t,e){t==0?e():requestAnimationFrame(()=>{JA(t-1,e)})}function ZA(t,e){const r=e-1;return typeof t=="number"?t:t.index==="LAST"?r:t.index}const Bg=_r(([{defaultItemSize:t,listRefresh:e,sizes:r},{scrollTop:n},{scrollTargetReached:i,scrollToIndex:a},{didMount:o}])=>{const s=it(!0),l=it(0),u=it(!0);return Lt(Je(o,sr(l),Xt(([f,h])=>!!h),Zs(!1)),s),Lt(Je(o,sr(l),Xt(([f,h])=>!!h),Zs(!1)),u),Lr(Je(ii(e,o),sr(s,r,t,u),Xt(([[,f],h,{sizeTree:p},g,y])=>f&&(!Yr(p)||VA(g))&&!h&&!y),sr(l)),([,f])=>{Ps(i,()=>{ir(u,!0)}),JA(4,()=>{Ps(n,()=>{ir(s,!0)}),ir(a,f)})}),{initialItemFinalLocationReached:u,initialTopMostItemIndex:l,scrolledToInitialItem:s}},ln(ul,xa,Fg,mc),{singleton:!0});function Q7(t,e){return Math.abs(t-e)<1.01}const Pg="up",Np="down",rue="none",nue={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},iue=0,$g=_r(([{footerHeight:t,headerHeight:e,scrollBy:r,scrollContainerState:n,scrollTop:i,viewportHeight:a}])=>{const o=it(!1),s=it(!0),l=hr(),u=hr(),f=it(4),h=it(iue),p=sa(Je(uS(Je(Gt(i),Pf(1),Zs(!0)),Je(Gt(i),Pf(1),Zs(!1),g6(100))),sn()),!1),g=sa(Je(uS(Je(r,Zs(!0)),Je(r,Zs(!1),g6(200))),sn()),!1);Lt(Je(ii(Gt(i),Gt(h)),vt(([S,A])=>S<=A),sn()),s),Lt(Je(s,Zl(50)),u);const y=go(Je(ii(n,Gt(a),Gt(e),Gt(t),Gt(f)),tl((S,[{scrollHeight:A,scrollTop:k},j,O,M,N])=>{const C=k+j-A>-N,H={scrollHeight:A,scrollTop:k,viewportHeight:j};if(C){let L,$;return k>S.state.scrollTop?(L="SCROLLED_DOWN",$=S.state.scrollTop-k):(L="SIZE_DECREASED",$=S.state.scrollTop-k||S.scrollTopDelta),{atBottom:!0,atBottomBecause:L,scrollTopDelta:$,state:H}}let T;return H.scrollHeight>S.state.scrollHeight?T="SIZE_INCREASED":j<S.state.viewportHeight?T="VIEWPORT_HEIGHT_DECREASING":k<S.state.scrollTop?T="SCROLLING_UPWARDS":T="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:T,state:H}},nue),sn((S,A)=>S&&S.atBottom===A.atBottom))),b=sa(Je(n,tl((S,{scrollHeight:A,scrollTop:k,viewportHeight:j})=>{if(Q7(S.scrollHeight,A))return{changed:!1,jump:0,scrollHeight:A,scrollTop:k};{const O=A-(k+j)<1;return S.scrollTop!==k&&O?{changed:!0,jump:S.scrollTop-k,scrollHeight:A,scrollTop:k}:{changed:!0,jump:0,scrollHeight:A,scrollTop:k}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),Xt(S=>S.changed),vt(S=>S.jump)),0);Lt(Je(y,vt(S=>S.atBottom)),o),Lt(Je(o,Zl(50)),l);const v=it(Np);Lt(Je(n,vt(({scrollTop:S})=>S),sn(),tl((S,A)=>Gn(g)?{direction:S.direction,prevScrollTop:A}:{direction:A<S.prevScrollTop?Pg:Np,prevScrollTop:A},{direction:Np,prevScrollTop:0}),vt(S=>S.direction)),v),Lt(Je(n,Zl(50),Zs(rue)),v);const w=it(0);return Lt(Je(p,Xt(S=>!S),Zs(0)),w),Lt(Je(i,Zl(100),sr(p),Xt(([S,A])=>!!A),tl(([S,A],[k])=>[A,k],[0,0]),vt(([S,A])=>A-S)),w),{atBottomState:y,atBottomStateChange:l,atBottomThreshold:f,atTopStateChange:u,atTopThreshold:h,isAtBottom:o,isAtTop:s,isScrolling:p,lastJumpDueToItemResize:b,scrollDirection:v,scrollVelocity:w}},ln(xa)),Ov="top",jv="bottom",b6="none";function w6(t,e,r){return typeof t=="number"?r===Pg&&e===Ov||r===Np&&e===jv?t:0:r===Pg?e===Ov?t.main:t.reverse:e===jv?t.main:t.reverse}function x6(t,e){var r;return typeof t=="number"?t:(r=t[e])!=null?r:0}const QA=_r(([{deviation:t,fixedHeaderHeight:e,headerHeight:r,scrollTop:n,viewportHeight:i}])=>{const a=hr(),o=it(0),s=it(0),l=it(0),u=sa(Je(ii(Gt(n),Gt(i),Gt(r),Gt(a,Sg),Gt(l),Gt(o),Gt(e),Gt(t),Gt(s)),vt(([f,h,p,[g,y],b,v,w,S,A])=>{const k=f-S,j=v+w,O=Math.max(p-k,0);let M=b6;const N=x6(A,Ov),C=x6(A,jv);return g-=S,g+=p+w,y+=p+w,y-=S,g>f+j-N&&(M=Pg),y<f-O+h+C&&(M=Np),M!==b6?[Math.max(k-p-w6(b,Ov,M)-N,0),k-O-w+h+w6(b,jv,M)+C]:null}),Xt(f=>f!=null),sn(Sg)),[0,0]);return{increaseViewportBy:s,listBoundary:a,overscan:l,topListHeight:o,visibleRange:u}},ln(xa),{singleton:!0});function aue(t,e,r){if(Ey(e)){const n=Y7(t,e);return[{index:ks(e.groupOffsetTree,n)[0],offset:0,size:0},{data:r?.[0],index:n,offset:0,size:0}]}return[{data:r?.[0],index:t,offset:0,size:0}]}const a5={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function h0(t,e,r,n,i,a){const{lastIndex:o,lastOffset:s,lastSize:l}=i;let u=0,f=0;if(t.length>0){u=t[0].offset;const b=t[t.length-1];f=b.offset+b.size}const h=r-o,p=s+h*l+(h-1)*n,g=u,y=p-f;return{bottom:f,firstItemIndex:a,items:_6(t,i,a),offsetBottom:y,offsetTop:u,top:g,topItems:_6(e,i,a),topListHeight:e.reduce((b,v)=>v.size+b,0),totalCount:r}}function eD(t,e,r,n,i,a){let o=0;if(r.groupIndices.length>0)for(const f of r.groupIndices){if(f-o>=t)break;o++}const s=t+o,l=ZA(e,s),u=Array.from({length:s}).map((f,h)=>({data:a[h+l],index:h+l,offset:0,size:0}));return h0(u,[],s,i,r,n)}function _6(t,e,r){if(t.length===0)return[];if(!Ey(e))return t.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=t[0].index,i=t[t.length-1].index,a=[],o=Py(e.groupOffsetTree,n,i);let s,l=0;for(const u of t){(!s||s.end<u.index)&&(s=o.shift(),l=e.groupIndices.indexOf(s.start));let f;u.index===s.start?f={index:l,type:"group"}:f={groupIndex:l,index:u.index-(l+1)+r},a.push({...f,data:u.data,offset:u.offset,originalIndex:u.index,size:u.size})}return a}const If=_r(([{data:t,firstItemIndex:e,gap:r,sizes:n,totalCount:i},a,{listBoundary:o,topListHeight:s,visibleRange:l},{initialTopMostItemIndex:u,scrolledToInitialItem:f},{topListHeight:h},p,{didMount:g},{recalcInProgress:y}])=>{const b=it([]),v=it(0),w=hr();Lt(a.topItemsIndexes,b);const S=sa(Je(ii(g,y,Gt(l,Sg),Gt(i),Gt(n),Gt(u),f,Gt(b),Gt(e),Gt(r),t),Xt(([O,M,,N,,,,,,,C])=>{const H=C&&C.length!==N;return O&&!M&&!H}),vt(([,,[O,M],N,C,H,T,L,$,F,U])=>{const z=C,{offsetTree:q,sizeTree:G}=z,K=Gn(v);if(N===0)return{...a5,totalCount:N};if(O===0&&M===0)return K===0?{...a5,totalCount:N}:eD(K,H,C,$,F,U||[]);if(Yr(G))return K>0?null:h0(aue(ZA(H,N),z,U),[],N,F,z,$);const te=[];if(L.length>0){const ee=L[0],ue=L[L.length-1];let me=0;for(const fe of Py(G,ee,ue)){const le=fe.value,ve=Math.max(fe.start,ee),Ae=Math.min(fe.end,ue);for(let be=ve;be<=Ae;be++)te.push({data:U?.[be],index:be,offset:me,size:le}),me+=le}}if(!T)return h0([],te,N,F,z,$);const X=L.length>0?L[L.length-1]+1:0,D=Gle(q,O,M,X);if(D.length===0)return null;const Y=N-1,J=Ay([],ee=>{for(const ue of D){const me=ue.value;let fe=me.offset,le=ue.start;const ve=me.size;if(me.offset<O){le+=Math.floor((O-me.offset+F)/(ve+F));const be=le-ue.start;fe+=be*ve+be*F}le<X&&(fe+=(X-le)*ve,le=X);const Ae=Math.min(ue.end,Y);for(let be=le;be<=Ae&&!(fe>=M);be++)ee.push({data:U?.[be],index:be,offset:fe,size:ve}),fe+=ve+F}});return h0(J,te,N,F,z,$)}),Xt(O=>O!==null),sn()),a5);Lt(Je(t,Xt(VA),vt(O=>O?.length)),i),Lt(Je(S,vt(O=>O.topListHeight)),h),Lt(h,s),Lt(Je(S,vt(O=>[O.top,O.bottom])),o),Lt(Je(S,vt(O=>O.items)),w);const A=go(Je(S,Xt(({items:O})=>O.length>0),sr(i,t),Xt(([{items:O},M])=>O[O.length-1].originalIndex===M-1),vt(([,O,M])=>[O-1,M]),sn(Sg),vt(([O])=>O))),k=go(Je(S,Zl(200),Xt(({items:O,topItems:M})=>O.length>0&&O[0].originalIndex===M.length),vt(({items:O})=>O[0].index),sn())),j=go(Je(S,Xt(({items:O})=>O.length>0),vt(({items:O})=>{let M=0,N=O.length-1;for(;O[M].type==="group"&&M<N;)M++;for(;O[N].type==="group"&&N>M;)N--;return{endIndex:O[N].index,startIndex:O[M].index}}),sn(G7)));return{endReached:A,initialItemCount:v,itemsRendered:w,listState:S,rangeChanged:j,startReached:k,topItemsIndexes:b,...p}},ln(ul,J7,QA,Bg,Fg,$g,mc,YA),{singleton:!0}),tD=_r(([{fixedFooterHeight:t,fixedHeaderHeight:e,footerHeight:r,headerHeight:n},{listState:i}])=>{const a=hr(),o=sa(Je(ii(r,t,n,e,i),vt(([s,l,u,f,h])=>s+l+u+f+h.offsetBottom+h.bottom)),0);return Lt(Gt(o),a),{totalListHeight:o,totalListHeightChanged:a}},ln(xa,If),{singleton:!0}),oue=_r(([{viewportHeight:t},{totalListHeight:e}])=>{const r=it(!1),n=sa(Je(ii(r,t,e),Xt(([i])=>i),vt(([,i,a])=>Math.max(0,i-a)),Zl(0),sn()),0);return{alignToBottom:r,paddingTopAddition:n}},ln(xa,tD),{singleton:!0}),rD=_r(()=>({context:it(null)})),sue=({itemBottom:t,itemTop:e,locationParams:{align:r,behavior:n,...i},viewportBottom:a,viewportTop:o})=>e<o?{...i,align:r??"start",behavior:n}:t>a?{...i,align:r??"end",behavior:n}:null,nD=_r(([{gap:t,sizes:e,totalCount:r},{fixedFooterHeight:n,fixedHeaderHeight:i,headerHeight:a,scrollingInProgress:o,scrollTop:s,viewportHeight:l},{scrollToIndex:u}])=>{const f=hr();return Lt(Je(f,sr(e,l,r,a,i,n,s),sr(t),vt(([[h,p,g,y,b,v,w,S],A])=>{const{align:k,behavior:j,calculateViewLocation:O=sue,done:M,...N}=h,C=X7(h,p,y-1),H=Ag(C,p.offsetTree,A)+b+v,T=H+ks(p.sizeTree,C)[1],L=S+v,$=S+g-w,F=O({itemBottom:T,itemTop:H,locationParams:{align:k,behavior:j,...N},viewportBottom:$,viewportTop:L});return F?M&&Ps(Je(o,Xt(U=>!U),Pf(Gn(o)?1:2)),M):M&&M(),F}),Xt(h=>h!==null)),u),{scrollIntoView:f}},ln(ul,xa,Fg,If,gc),{singleton:!0});function S6(t){return t?t==="smooth"?"smooth":"auto":!1}const lue=(t,e)=>typeof t=="function"?S6(t(e)):e&&S6(t),uue=_r(([{listRefresh:t,totalCount:e,fixedItemSize:r,data:n},{atBottomState:i,isAtBottom:a},{scrollToIndex:o},{scrolledToInitialItem:s},{didMount:l,propsReady:u},{log:f},{scrollingInProgress:h},{context:p},{scrollIntoView:g}])=>{const y=it(!1),b=hr();let v=null;function w(j){ir(o,{align:"end",behavior:j,index:"LAST"})}Lr(Je(ii(Je(Gt(e),Pf(1)),l),sr(Gt(y),a,s,h),vt(([[j,O],M,N,C,H])=>{let T=O&&C,L="auto";return T&&(L=lue(M,N||H),T=T&&!!L),{followOutputBehavior:L,shouldFollow:T,totalCount:j}}),Xt(({shouldFollow:j})=>j)),({followOutputBehavior:j,totalCount:O})=>{v&&(v(),v=null),Gn(r)?requestAnimationFrame(()=>{Gn(f)("following output to ",{totalCount:O},Ua.DEBUG),w(j)}):v=Ps(t,()=>{Gn(f)("following output to ",{totalCount:O},Ua.DEBUG),w(j),v=null})});function S(j){const O=Ps(i,M=>{j&&!M.atBottom&&M.notAtBottomBecause==="SIZE_INCREASED"&&!v&&(Gn(f)("scrolling to bottom due to increased size",{},Ua.DEBUG),w("auto"))});setTimeout(O,100)}Lr(Je(ii(Gt(y),e,u),Xt(([j,,O])=>j&&O),tl(({value:j},[,O])=>({refreshed:j===O,value:O}),{refreshed:!1,value:0}),Xt(({refreshed:j})=>j),sr(y,e)),([,j])=>{Gn(s)&&S(j!==!1)}),Lr(b,()=>{S(Gn(y)!==!1)}),Lr(ii(Gt(y),i),([j,O])=>{j&&!O.atBottom&&O.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&w("auto")});const A=it(null),k=hr();return Lt(uS(Je(Gt(n),vt(j=>{var O;return(O=j?.length)!=null?O:0})),Je(Gt(e))),k),Lr(Je(ii(Je(k,Pf(1)),l),sr(Gt(A),s,h,p),vt(([[j,O],M,N,C,H])=>O&&N&&M?.({context:H,totalCount:j,scrollingInProgress:C})),Xt(j=>!!j),Zl(0)),j=>{v&&(v(),v=null),Gn(r)?requestAnimationFrame(()=>{Gn(f)("scrolling into view",{}),ir(g,j)}):v=Ps(t,()=>{Gn(f)("scrolling into view",{}),ir(g,j),v=null})}),{autoscrollToBottom:b,followOutput:y,scrollIntoViewOnChange:A}},ln(ul,$g,Fg,Bg,mc,gc,xa,rD,nD)),cue=_r(([{data:t,firstItemIndex:e,gap:r,sizes:n},{initialTopMostItemIndex:i},{initialItemCount:a,listState:o},{didMount:s}])=>(Lt(Je(s,sr(a),Xt(([,l])=>l!==0),sr(i,n,e,r,t),vt(([[,l],u,f,h,p,g=[]])=>eD(l,u,f,h,p,g))),o),{}),ln(ul,Bg,If,mc),{singleton:!0}),fue=_r(([{didMount:t},{scrollTo:e},{listState:r}])=>{const n=it(0);return Lr(Je(t,sr(n),Xt(([,i])=>i!==0),vt(([,i])=>({top:i}))),i=>{Ps(Je(r,Pf(1),Xt(a=>a.items.length>1)),()=>{requestAnimationFrame(()=>{ir(e,i)})})}),{initialScrollTop:n}},ln(mc,xa,If),{singleton:!0}),iD=_r(([{scrollVelocity:t}])=>{const e=it(!1),r=hr(),n=it(!1);return Lt(Je(t,sr(n,e,r),Xt(([i,a])=>!!a),vt(([i,a,o,s])=>{const{enter:l,exit:u}=a;if(o){if(u(i,s))return!1}else if(l(i,s))return!0;return o}),sn()),e),Lr(Je(ii(e,t,r),sr(n)),([[i,a,o],s])=>{i&&s&&s.change&&s.change(a,o)}),{isSeeking:e,scrollSeekConfiguration:n,scrollSeekRangeChanged:r,scrollVelocity:t}},ln($g),{singleton:!0}),e3=_r(([{scrollContainerState:t,scrollTo:e}])=>{const r=hr(),n=hr(),i=hr(),a=it(!1),o=it(void 0);return Lt(Je(ii(r,n),vt(([{scrollHeight:s,scrollTop:l,viewportHeight:u},{offsetTop:f}])=>({scrollHeight:s,scrollTop:Math.max(0,l-f),viewportHeight:u}))),t),Lt(Je(e,sr(n),vt(([s,{offsetTop:l}])=>({...s,top:s.top+l}))),i),{customScrollParent:o,useWindowScroll:a,windowScrollContainerState:r,windowScrollTo:i,windowViewportRect:n}},ln(xa)),due=_r(([{sizeRanges:t,sizes:e},{headerHeight:r,scrollTop:n},{initialTopMostItemIndex:i},{didMount:a},{useWindowScroll:o,windowScrollContainerState:s,windowViewportRect:l}])=>{const u=hr(),f=it(void 0),h=it(null),p=it(null);return Lt(s,h),Lt(l,p),Lr(Je(u,sr(e,n,o,h,p,r)),([g,y,b,v,w,S,A])=>{const k=Yle(y.sizeTree);v&&w!==null&&S!==null&&(b=w.scrollTop-S.offsetTop),b-=A,g({ranges:k,scrollTop:b})}),Lt(Je(f,Xt(VA),vt(hue)),i),Lt(Je(a,sr(f),Xt(([,g])=>g!==void 0),sn(),vt(([,g])=>g.ranges)),t),{getState:u,restoreStateFrom:f}},ln(ul,xa,Bg,mc,e3));function hue(t){return{align:"start",index:0,offset:t.scrollTop}}const pue=_r(([{topItemsIndexes:t}])=>{const e=it(0);return Lt(Je(e,Xt(r=>r>=0),vt(r=>Array.from({length:r}).map((n,i)=>i))),t),{topItemCount:e}},ln(If));function aD(t){let e=!1,r;return()=>(e||(e=!0,r=t()),r)}const gue=aD(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),mue=_r(([{deviation:t,scrollBy:e,scrollingInProgress:r,scrollTop:n},{isAtBottom:i,isScrolling:a,lastJumpDueToItemResize:o,scrollDirection:s},{listState:l},{beforeUnshiftWith:u,gap:f,shiftWithOffset:h,sizes:p},{log:g},{recalcInProgress:y}])=>{const b=go(Je(l,sr(o),tl(([,w,S,A],[{bottom:k,items:j,offsetBottom:O,totalCount:M},N])=>{const C=k+O;let H=0;return S===M&&w.length>0&&j.length>0&&(j[0].originalIndex===0&&w[0].originalIndex===0||(H=C-A,H!==0&&(H+=N))),[H,j,M,C]},[0,[],0,0]),Xt(([w])=>w!==0),sr(n,s,r,i,g,y),Xt(([,w,S,A,,,k])=>!k&&!A&&w!==0&&S===Pg),vt(([[w],,,,,S])=>(S("Upward scrolling compensation",{amount:w},Ua.DEBUG),w))));function v(w){w>0?(ir(e,{behavior:"auto",top:-w}),ir(t,0)):(ir(t,0),ir(e,{behavior:"auto",top:-w}))}return Lr(Je(b,sr(t,a)),([w,S,A])=>{A&&gue()?ir(t,S-w):v(-w)}),Lr(Je(ii(sa(a,!1),t,y),Xt(([w,S,A])=>!w&&!A&&S!==0),vt(([w,S])=>S),Zl(1)),v),Lt(Je(h,vt(w=>({top:-w}))),e),Lr(Je(u,sr(p,f),vt(([w,{groupIndices:S,lastSize:A,sizeTree:k},j])=>{function O(M){return M*(A+j)}if(S.length===0)return O(w);{let M=0;const N=_g(k,0);let C=0,H=0;for(;C<w;){C++,M+=N;let T=S.length===H+1?1/0:S[H+1]-S[H]-1;C+T>w&&(M-=N,T=w-C+1),C+=T,M+=O(T),H++}return M}})),w=>{ir(t,w),requestAnimationFrame(()=>{ir(e,{top:w}),requestAnimationFrame(()=>{ir(t,0),ir(y,!1)})})}),{deviation:t}},ln(xa,$g,If,ul,gc,YA)),vue=_r(([t,e,r,n,i,a,o,s,l,u,f])=>({...t,...e,...r,...n,...i,...a,...o,...s,...l,...u,...f}),ln(QA,cue,mc,iD,tD,fue,oue,e3,nD,gc,rD)),oD=_r(([{data:t,defaultItemSize:e,firstItemIndex:r,fixedItemSize:n,gap:i,groupIndices:a,itemSize:o,sizeRanges:s,sizes:l,statefulTotalCount:u,totalCount:f,trackItemSizes:h},{initialItemFinalLocationReached:p,initialTopMostItemIndex:g,scrolledToInitialItem:y},b,v,w,{listState:S,topItemsIndexes:A,...k},{scrollToIndex:j},O,{topItemCount:M},{groupCounts:N},C])=>(Lt(k.rangeChanged,C.scrollSeekRangeChanged),Lt(Je(C.windowViewportRect,vt(H=>H.visibleHeight)),b.viewportHeight),{data:t,defaultItemHeight:e,firstItemIndex:r,fixedItemHeight:n,gap:i,groupCounts:N,initialItemFinalLocationReached:p,initialTopMostItemIndex:g,scrolledToInitialItem:y,sizeRanges:s,topItemCount:M,topItemsIndexes:A,totalCount:f,...w,groupIndices:a,itemSize:o,listState:S,scrollToIndex:j,statefulTotalCount:u,trackItemSizes:h,...k,...C,...b,sizes:l,...v}),ln(ul,Bg,xa,due,uue,If,Fg,mue,pue,J7,vue));function yue(t,e){const r={},n={};let i=0;const a=t.length;for(;i<a;)n[t[i]]=1,i+=1;for(const o in e)Object.hasOwn(n,o)||(r[o]=e[o]);return r}const t0=typeof document<"u"?ge.useLayoutEffect:ge.useEffect;function sD(t,e,r){const n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),a=Object.keys(e.methods||{}),o=Object.keys(e.events||{}),s=ge.createContext({});function l(v,w){v.propsReady&&ir(v.propsReady,!1);for(const S of n){const A=v[e.required[S]];ir(A,w[S])}for(const S of i)if(S in w){const A=v[e.optional[S]];ir(A,w[S])}v.propsReady&&ir(v.propsReady,!0)}function u(v){return a.reduce((w,S)=>(w[S]=A=>{const k=v[e.methods[S]];ir(k,A)},w),{})}function f(v){return o.reduce((w,S)=>(w[S]=Ile(v[e.events[S]]),w),{})}const h=ge.forwardRef((v,w)=>{const{children:S,...A}=v,[k]=ge.useState(()=>Ay(Mle(t),M=>{l(M,A)})),[j]=ge.useState(p6(f,k));t0(()=>{for(const M of o)M in A&&Lr(j[M],A[M]);return()=>{Object.values(j).map(GA)}},[A,j,k]),t0(()=>{l(k,A)}),ge.useImperativeHandle(w,h6(u(k)));const O=r;return P.jsx(s.Provider,{value:k,children:r?P.jsx(O,{...yue([...n,...i,...o],A),children:S}):S})}),p=v=>{const w=ge.useContext(s);return ge.useCallback(S=>{ir(w[v],S)},[w,v])},g=v=>{const w=ge.useContext(s)[v],S=ge.useCallback(A=>Lr(w,A),[w]);return ge.useSyncExternalStore(S,()=>Gn(w),()=>Gn(w))},y=v=>{const w=ge.useContext(s)[v],[S,A]=ge.useState(p6(Gn,w));return t0(()=>Lr(w,k=>{k!==S&&A(h6(k))}),[w,S]),S},b=ge.version.startsWith("18")?g:y;return{Component:h,useEmitter:(v,w)=>{const S=ge.useContext(s)[v];t0(()=>Lr(S,w),[w,S])},useEmitterValue:b,usePublisher:p}}const lD=ge.createContext(void 0),uD=ge.createContext(void 0),cD=typeof document<"u"?ge.useLayoutEffect:ge.useEffect;function o5(t){return"self"in t}function bue(t){return"body"in t}function fD(t,e,r,n=Oh,i,a){const o=ge.useRef(null),s=ge.useRef(null),l=ge.useRef(null),u=ge.useCallback(p=>{let g,y,b;const v=p.target;if(bue(v)||o5(v)){const S=o5(v)?v:v.defaultView;b=a?S.scrollX:S.scrollY,g=a?S.document.documentElement.scrollWidth:S.document.documentElement.scrollHeight,y=a?S.innerWidth:S.innerHeight}else b=a?v.scrollLeft:v.scrollTop,g=a?v.scrollWidth:v.scrollHeight,y=a?v.offsetWidth:v.offsetHeight;const w=()=>{t({scrollHeight:g,scrollTop:Math.max(b,0),viewportHeight:y})};p.suppressFlushSync?w():vF.flushSync(w),s.current!==null&&(b===s.current||b<=0||b===g-y)&&(s.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e,a]);ge.useEffect(()=>{const p=i||o.current;return n(i||o.current),u({suppressFlushSync:!0,target:p}),p.addEventListener("scroll",u,{passive:!0}),()=>{n(null),p.removeEventListener("scroll",u)}},[o,u,r,n,i]);function f(p){const g=o.current;if(!g||(a?"offsetWidth"in g&&g.offsetWidth===0:"offsetHeight"in g&&g.offsetHeight===0))return;const y=p.behavior==="smooth";let b,v,w;o5(g)?(v=Math.max(ic(g.document.documentElement,a?"width":"height"),a?g.document.documentElement.scrollWidth:g.document.documentElement.scrollHeight),b=a?g.innerWidth:g.innerHeight,w=a?window.scrollX:window.scrollY):(v=g[a?"scrollWidth":"scrollHeight"],b=ic(g,a?"width":"height"),w=g[a?"scrollLeft":"scrollTop"]);const S=v-b;if(p.top=Math.ceil(Math.max(Math.min(S,p.top),0)),Q7(b,v)||p.top===w){t({scrollHeight:v,scrollTop:w,viewportHeight:b}),y&&e(!0);return}y?(s.current=p.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,s.current=null,e(!0)},1e3)):s.current=null,a&&(p={behavior:p.behavior,left:p.top}),g.scrollTo(p)}function h(p){a&&(p={behavior:p.behavior,left:p.top}),o.current.scrollBy(p)}return{scrollByCallback:h,scrollerRef:o,scrollToCallback:f}}const s5="-webkit-sticky",A6="sticky",t3=aD(()=>{if(typeof document>"u")return A6;const t=document.createElement("div");return t.style.position=s5,t.style.position===s5?s5:A6});function r3(t){return t}const wue=_r(()=>{const t=it(s=>`Item ${s}`),e=it(s=>`Group ${s}`),r=it({}),n=it(r3),i=it("div"),a=it(Oh),o=(s,l=null)=>sa(Je(r,vt(u=>u[s]),sn()),l);return{components:r,computeItemKey:n,EmptyPlaceholder:o("EmptyPlaceholder"),FooterComponent:o("Footer"),GroupComponent:o("Group","div"),groupContent:e,HeaderComponent:o("Header"),HeaderFooterTag:i,ItemComponent:o("Item","div"),itemContent:t,ListComponent:o("List","div"),ScrollerComponent:o("Scroller","div"),scrollerRef:a,ScrollSeekPlaceholder:o("ScrollSeekPlaceholder"),TopItemListComponent:o("TopItemList")}}),xue=_r(([t,e])=>({...t,...e}),ln(oD,wue)),_ue=({height:t})=>P.jsx("div",{style:{height:t}}),Sue={overflowAnchor:"none",position:t3(),zIndex:1},dD={overflowAnchor:"none"},Aue={...dD,display:"inline-block",height:"100%"},P6=ge.memo(function({showTopList:t=!1}){const e=er("listState"),r=qo("sizeRanges"),n=er("useWindowScroll"),i=er("customScrollParent"),a=qo("windowScrollContainerState"),o=qo("scrollContainerState"),s=i||n?a:o,l=er("itemContent"),u=er("context"),f=er("groupContent"),h=er("trackItemSizes"),p=er("itemSize"),g=er("log"),y=qo("gap"),b=er("horizontalDirection"),{callbackRef:v}=Ble(r,p,h,t?Oh:s,g,y,i,b,er("skipAnimationFrameInResizeObserver")),[w,S]=ge.useState(0);n3("deviation",F=>{w!==F&&S(F)});const A=er("EmptyPlaceholder"),k=er("ScrollSeekPlaceholder")||_ue,j=er("ListComponent"),O=er("ItemComponent"),M=er("GroupComponent"),N=er("computeItemKey"),C=er("isSeeking"),H=er("groupIndices").length>0,T=er("alignToBottom"),L=er("initialItemFinalLocationReached"),$=t?{}:{boxSizing:"border-box",...b?{display:"inline-block",height:"100%",marginLeft:w!==0?w:T?"auto":0,paddingLeft:e.offsetTop,paddingRight:e.offsetBottom,whiteSpace:"nowrap"}:{marginTop:w!==0?w:T?"auto":0,paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},...L?{}:{visibility:"hidden"}};return!t&&e.totalCount===0&&A?P.jsx(A,{...oa(A,u)}):P.jsx(j,{...oa(j,u),"data-testid":t?"virtuoso-top-item-list":"virtuoso-item-list",ref:v,style:$,children:(t?e.topItems:e.items).map(F=>{const U=F.originalIndex,z=N(U+e.firstItemIndex,F.data,u);return C?se.createElement(k,{...oa(k,u),height:F.size,index:F.index,key:z,type:F.type||"item",...F.type==="group"?{}:{groupIndex:F.groupIndex}}):F.type==="group"?se.createElement(M,{...oa(M,u),"data-index":U,"data-item-index":F.index,"data-known-size":F.size,key:z,style:Sue},f(F.index,u)):se.createElement(O,{...oa(O,u),...Oue(O,F.data),"data-index":U,"data-item-group-index":F.groupIndex,"data-item-index":F.index,"data-known-size":F.size,key:z,style:b?Aue:dD},H?l(F.index,F.groupIndex,F.data,u):l(F.index,F.data,u))})})}),Pue={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Eue={outline:"none",overflowX:"auto",position:"relative"},ky=t=>({height:"100%",position:"absolute",top:0,width:"100%",...t?{display:"flex",flexDirection:"column"}:{}}),kue={position:t3(),top:0,width:"100%",zIndex:1};function oa(t,e){if(typeof t!="string")return{context:e}}function Oue(t,e){return{item:typeof t=="string"?void 0:e}}const jue=ge.memo(function(){const t=er("HeaderComponent"),e=qo("headerHeight"),r=er("HeaderFooterTag"),n=Lf(ge.useMemo(()=>a=>{e(ic(a,"height"))},[e]),!0,er("skipAnimationFrameInResizeObserver")),i=er("context");return t?P.jsx(r,{ref:n,children:P.jsx(t,{...oa(t,i)})}):null}),Cue=ge.memo(function(){const t=er("FooterComponent"),e=qo("footerHeight"),r=er("HeaderFooterTag"),n=Lf(ge.useMemo(()=>a=>{e(ic(a,"height"))},[e]),!0,er("skipAnimationFrameInResizeObserver")),i=er("context");return t?P.jsx(r,{ref:n,children:P.jsx(t,{...oa(t,i)})}):null});function hD({useEmitter:t,useEmitterValue:e,usePublisher:r}){return ge.memo(function({children:n,style:i,context:a,...o}){const s=r("scrollContainerState"),l=e("ScrollerComponent"),u=r("smoothScrollTargetReached"),f=e("scrollerRef"),h=e("horizontalDirection")||!1,{scrollByCallback:p,scrollerRef:g,scrollToCallback:y}=fD(s,u,l,f,void 0,h);return t("scrollTo",y),t("scrollBy",p),P.jsx(l,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:g,style:{...h?Eue:Pue,...i},tabIndex:0,...o,...oa(l,a),children:n})})}function pD({useEmitter:t,useEmitterValue:e,usePublisher:r}){return ge.memo(function({children:n,style:i,context:a,...o}){const s=r("windowScrollContainerState"),l=e("ScrollerComponent"),u=r("smoothScrollTargetReached"),f=e("totalListHeight"),h=e("deviation"),p=e("customScrollParent"),g=ge.useRef(null),y=e("scrollerRef"),{scrollByCallback:b,scrollerRef:v,scrollToCallback:w}=fD(s,u,l,y,p);return cD(()=>{var S;return v.current=p||((S=g.current)==null?void 0:S.ownerDocument.defaultView),()=>{v.current=null}},[v,p]),t("windowScrollTo",w),t("scrollBy",b),P.jsx(l,{ref:g,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...f!==0?{height:f+h}:{}},...o,...oa(l,a),children:n})})}const Nue=({children:t})=>{const e=ge.useContext(lD),r=qo("viewportHeight"),n=qo("fixedItemHeight"),i=er("alignToBottom"),a=er("horizontalDirection"),o=ge.useMemo(()=>B7(r,l=>ic(l,a?"width":"height")),[r,a]),s=Lf(o,!0,er("skipAnimationFrameInResizeObserver"));return ge.useEffect(()=>{e&&(r(e.viewportHeight),n(e.itemHeight))},[e,r,n]),P.jsx("div",{"data-viewport-type":"element",ref:s,style:ky(i),children:t})},Tue=({children:t})=>{const e=ge.useContext(lD),r=qo("windowViewportRect"),n=qo("fixedItemHeight"),i=er("customScrollParent"),a=U7(r,i,er("skipAnimationFrameInResizeObserver")),o=er("alignToBottom");return ge.useEffect(()=>{e&&(n(e.itemHeight),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,r,n]),P.jsx("div",{"data-viewport-type":"window",ref:a,style:ky(o),children:t})},Lue=({children:t})=>{const e=er("TopItemListComponent")||"div",r=er("headerHeight"),n={...kue,marginTop:`${r}px`},i=er("context");return P.jsx(e,{style:n,...oa(e,i),children:t})},Iue=ge.memo(function(t){const e=er("useWindowScroll"),r=er("topItemsIndexes").length>0,n=er("customScrollParent"),i=er("context");return P.jsxs(n||e?Due:Mue,{...t,context:i,children:[r&&P.jsx(Lue,{children:P.jsx(P6,{showTopList:!0})}),P.jsxs(n||e?Tue:Nue,{children:[P.jsx(jue,{}),P.jsx(P6,{}),P.jsx(Cue,{})]})]})}),{Component:Rue,useEmitter:n3,useEmitterValue:er,usePublisher:qo}=sD(xue,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Iue),Mue=hD({useEmitter:n3,useEmitterValue:er,usePublisher:qo}),Due=pD({useEmitter:n3,useEmitterValue:er,usePublisher:qo}),Fue=Rue,Bue=_r(()=>{const t=it(u=>P.jsxs("td",{children:["Item $",u]})),e=it(null),r=it(u=>P.jsxs("td",{colSpan:1e3,children:["Group ",u]})),n=it(null),i=it(null),a=it({}),o=it(r3),s=it(Oh),l=(u,f=null)=>sa(Je(a,vt(h=>h[u]),sn()),f);return{components:a,computeItemKey:o,context:e,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:i,fixedHeaderContent:n,itemContent:t,groupContent:r,ScrollerComponent:l("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr"),GroupComponent:l("Group","tr")}});ln(oD,Bue);t3();const E6={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},$ue={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:k6,floor:Cv,max:Tp,min:l5,round:O6}=Math;function j6(t,e,r){return Array.from({length:e-t+1}).map((n,i)=>({data:r===null?null:r[i+t],index:i+t}))}function Uue(t){return{...$ue,items:t}}function r0(t,e){return t&&t.width===e.width&&t.height===e.height}function que(t,e){return t&&t.column===e.column&&t.row===e.row}const zue=_r(([{increaseViewportBy:t,listBoundary:e,overscan:r,visibleRange:n},{footerHeight:i,headerHeight:a,scrollBy:o,scrollContainerState:s,scrollTo:l,scrollTop:u,smoothScrollTargetReached:f,viewportHeight:h},p,g,{didMount:y,propsReady:b},{customScrollParent:v,useWindowScroll:w,windowScrollContainerState:S,windowScrollTo:A,windowViewportRect:k},j])=>{const O=it(0),M=it(0),N=it(E6),C=it({height:0,width:0}),H=it({height:0,width:0}),T=hr(),L=hr(),$=it(0),F=it(null),U=it({column:0,row:0}),z=hr(),q=hr(),G=it(!1),K=it(0),te=it(!0),X=it(!1),D=it(!1);Lr(Je(y,sr(K),Xt(([fe,le])=>!!le)),()=>{ir(te,!1)}),Lr(Je(ii(y,te,H,C,K,X),Xt(([fe,le,ve,Ae,,be])=>fe&&!le&&ve.height!==0&&Ae.height!==0&&!be)),([,,,,fe])=>{ir(X,!0),JA(1,()=>{ir(T,fe)}),Ps(Je(u),()=>{ir(e,[0,0]),ir(te,!0)})}),Lt(Je(q,Xt(fe=>fe!=null&&fe.scrollTop>0),Zs(0)),M),Lr(Je(y,sr(q),Xt(([,fe])=>fe!=null)),([,fe])=>{fe&&(ir(C,fe.viewport),ir(H,fe.item),ir(U,fe.gap),fe.scrollTop>0&&(ir(G,!0),Ps(Je(u,Pf(1)),le=>{ir(G,!1)}),ir(l,{top:fe.scrollTop})))}),Lt(Je(C,vt(({height:fe})=>fe)),h),Lt(Je(ii(Gt(C,r0),Gt(H,r0),Gt(U,(fe,le)=>fe&&fe.column===le.column&&fe.row===le.row),Gt(u)),vt(([fe,le,ve,Ae])=>({gap:ve,item:le,scrollTop:Ae,viewport:fe}))),z),Lt(Je(ii(Gt(O),n,Gt(U,que),Gt(H,r0),Gt(C,r0),Gt(F),Gt(M),Gt(G),Gt(te),Gt(K)),Xt(([,,,,,,,fe])=>!fe),vt(([fe,[le,ve],Ae,be,De,Ee,ce,,at,Ze])=>{const{column:Ye,row:Be}=Ae,{height:tt,width:Ve}=be,{width:ut}=De;if(ce===0&&(fe===0||ut===0))return E6;if(Ve===0){const ze=ZA(Ze,fe),st=ze+Math.max(ce-1,0);return Uue(j6(ze,st,Ee))}const rt=gD(ut,Ve,Ye);let ft,ct;at?le===0&&ve===0&&ce>0?(ft=0,ct=ce-1):(ft=rt*Cv((le+Be)/(tt+Be)),ct=rt*k6((ve+Be)/(tt+Be))-1,ct=l5(fe-1,Tp(ct,rt-1)),ft=l5(ct,Tp(0,ft))):(ft=0,ct=-1);const kt=j6(ft,ct,Ee),{bottom:nr,top:pt}=C6(De,Ae,be,kt),ke=k6(fe/rt),qe=ke*tt+(ke-1)*Be-nr;return{bottom:nr,itemHeight:tt,items:kt,itemWidth:Ve,offsetBottom:qe,offsetTop:pt,top:pt}})),N),Lt(Je(F,Xt(fe=>fe!==null),vt(fe=>fe.length)),O),Lt(Je(ii(C,H,N,U),Xt(([fe,le,{items:ve}])=>ve.length>0&&le.height!==0&&fe.height!==0),vt(([fe,le,{items:ve},Ae])=>{const{bottom:be,top:De}=C6(fe,Ae,le,ve);return[De,be]}),sn(Sg)),e);const Y=it(!1);Lt(Je(u,sr(Y),vt(([fe,le])=>le||fe!==0)),Y);const J=go(Je(ii(N,O),Xt(([{items:fe}])=>fe.length>0),sr(Y),Xt(([[fe,le],ve])=>{const Ae=fe.items[fe.items.length-1].index===le-1;return(ve||fe.bottom>0&&fe.itemHeight>0&&fe.offsetBottom===0&&fe.items.length===le)&&Ae}),vt(([[,fe]])=>fe-1),sn())),ee=go(Je(Gt(N),Xt(({items:fe})=>fe.length>0&&fe[0].index===0),Zs(0),sn())),ue=go(Je(Gt(N),sr(G),Xt(([{items:fe},le])=>fe.length>0&&!le),vt(([{items:fe}])=>({endIndex:fe[fe.length-1].index,startIndex:fe[0].index})),sn(G7),Zl(0)));Lt(ue,g.scrollSeekRangeChanged),Lt(Je(T,sr(C,H,O,U),vt(([fe,le,ve,Ae,be])=>{const De=Z7(fe),{align:Ee,behavior:ce,offset:at}=De;let Ze=De.index;Ze==="LAST"&&(Ze=Ae-1),Ze=Tp(0,Ze,l5(Ae-1,Ze));let Ye=pS(le,be,ve,Ze);return Ee==="end"?Ye=O6(Ye-le.height+ve.height):Ee==="center"&&(Ye=O6(Ye-le.height/2+ve.height/2)),at&&(Ye+=at),{behavior:ce,top:Ye}})),l);const me=sa(Je(N,vt(fe=>fe.offsetBottom+fe.bottom)),0);return Lt(Je(k,vt(fe=>({height:fe.visibleHeight,width:fe.visibleWidth}))),C),{customScrollParent:v,data:F,deviation:$,footerHeight:i,gap:U,headerHeight:a,increaseViewportBy:t,initialItemCount:M,itemDimensions:H,overscan:r,restoreStateFrom:q,scrollBy:o,scrollContainerState:s,scrollHeight:L,scrollTo:l,scrollToIndex:T,scrollTop:u,smoothScrollTargetReached:f,totalCount:O,useWindowScroll:w,viewportDimensions:C,windowScrollContainerState:S,windowScrollTo:A,windowViewportRect:k,...g,gridState:N,horizontalDirection:D,initialTopMostItemIndex:K,totalListHeight:me,...p,endReached:J,propsReady:b,rangeChanged:ue,startReached:ee,stateChanged:z,stateRestoreInProgress:G,...j}},ln(QA,xa,$g,iD,mc,e3,gc));function gD(t,e,r){return Tp(1,Cv((t+r)/(Cv(e)+r)))}function C6(t,e,r,n){const{height:i}=r;if(i===void 0||n.length===0)return{bottom:0,top:0};const a=pS(t,e,r,n[0].index);return{bottom:pS(t,e,r,n[n.length-1].index)+i,top:a}}function pS(t,e,r,n){const i=gD(t.width,r.width,e.column),a=Cv(n/i),o=a*r.height+Tp(0,a-1)*e.row;return o>0?o+e.row:o}const Wue=_r(()=>{const t=it(h=>`Item ${h}`),e=it({}),r=it(null),n=it("virtuoso-grid-item"),i=it("virtuoso-grid-list"),a=it(r3),o=it("div"),s=it(Oh),l=(h,p=null)=>sa(Je(e,vt(g=>g[h]),sn()),p),u=it(!1),f=it(!1);return Lt(Gt(f),u),{components:e,computeItemKey:a,context:r,FooterComponent:l("Footer"),HeaderComponent:l("Header"),headerFooterTag:o,itemClassName:n,ItemComponent:l("Item","div"),itemContent:t,listClassName:i,ListComponent:l("List","div"),readyStateChanged:u,reportReadyState:f,ScrollerComponent:l("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),Hue=_r(([t,e])=>({...t,...e}),ln(zue,Wue)),Vue=ge.memo(function(){const t=yn("gridState"),e=yn("listClassName"),r=yn("itemClassName"),n=yn("itemContent"),i=yn("computeItemKey"),a=yn("isSeeking"),o=zo("scrollHeight"),s=yn("ItemComponent"),l=yn("ListComponent"),u=yn("ScrollSeekPlaceholder"),f=yn("context"),h=zo("itemDimensions"),p=zo("gap"),g=yn("log"),y=yn("stateRestoreInProgress"),b=zo("reportReadyState"),v=Lf(ge.useMemo(()=>w=>{const S=w.parentElement.parentElement.scrollHeight;o(S);const A=w.firstChild;if(A){const{height:k,width:j}=A.getBoundingClientRect();h({height:k,width:j})}p({column:N6("column-gap",getComputedStyle(w).columnGap,g),row:N6("row-gap",getComputedStyle(w).rowGap,g)})},[o,h,p,g]),!0,!1);return cD(()=>{t.itemHeight>0&&t.itemWidth>0&&b(!0)},[t]),y?null:P.jsx(l,{className:e,ref:v,...oa(l,f),"data-testid":"virtuoso-item-list",style:{paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},children:t.items.map(w=>{const S=i(w.index,w.data,f);return a?P.jsx(u,{...oa(u,f),height:t.itemHeight,index:w.index,width:t.itemWidth},S):se.createElement(s,{...oa(s,f),className:r,"data-index":w.index,key:S},n(w.index,w.data,f))})})}),Gue=ge.memo(function(){const t=yn("HeaderComponent"),e=zo("headerHeight"),r=yn("headerFooterTag"),n=Lf(ge.useMemo(()=>a=>{e(ic(a,"height"))},[e]),!0,!1),i=yn("context");return t?P.jsx(r,{ref:n,children:P.jsx(t,{...oa(t,i)})}):null}),Kue=ge.memo(function(){const t=yn("FooterComponent"),e=zo("footerHeight"),r=yn("headerFooterTag"),n=Lf(ge.useMemo(()=>a=>{e(ic(a,"height"))},[e]),!0,!1),i=yn("context");return t?P.jsx(r,{ref:n,children:P.jsx(t,{...oa(t,i)})}):null}),Yue=({children:t})=>{const e=ge.useContext(uD),r=zo("itemDimensions"),n=zo("viewportDimensions"),i=Lf(ge.useMemo(()=>a=>{n(a.getBoundingClientRect())},[n]),!0,!1);return ge.useEffect(()=>{e&&(n({height:e.viewportHeight,width:e.viewportWidth}),r({height:e.itemHeight,width:e.itemWidth}))},[e,n,r]),P.jsx("div",{ref:i,style:ky(!1),children:t})},Xue=({children:t})=>{const e=ge.useContext(uD),r=zo("windowViewportRect"),n=zo("itemDimensions"),i=yn("customScrollParent"),a=U7(r,i,!1);return ge.useEffect(()=>{e&&(n({height:e.itemHeight,width:e.itemWidth}),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,r,n]),P.jsx("div",{ref:a,style:ky(!1),children:t})},Jue=ge.memo(function({...t}){const e=yn("useWindowScroll"),r=yn("customScrollParent"),n=r||e?Que:Zue,i=r||e?Xue:Yue,a=yn("context");return P.jsx(n,{...t,...oa(n,a),children:P.jsxs(i,{children:[P.jsx(Gue,{}),P.jsx(Vue,{}),P.jsx(Kue,{})]})})}),{useEmitter:mD,useEmitterValue:yn,usePublisher:zo}=sD(Hue,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Jue),Zue=hD({useEmitter:mD,useEmitterValue:yn,usePublisher:zo}),Que=pD({useEmitter:mD,useEmitterValue:yn,usePublisher:zo});function N6(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r(`${t} was not resolved to pixel value correctly`,e,Ua.WARN),e==="normal"?0:parseInt(e??"0",10)}const T6={open:"bg-rose-100 text-rose-700",in_progress:"bg-amber-100 text-amber-700",completed:"bg-emerald-100 text-emerald-700",verified:"bg-blue-100 text-blue-700"},L6={low:"bg-slate-100 text-slate-700",medium:"bg-amber-100 text-amber-700",high:"bg-orange-100 text-orange-700",critical:"bg-rose-100 text-rose-700"},ece=({snags:t,onSelect:e,onEdit:r,onDelete:n})=>{const i=a=>{const o=t[a];return P.jsxs("div",{role:"button",tabIndex:0,onClick:()=>e(o),onKeyDown:s=>{s.key==="Enter"&&e(o)},className:"border-b border-slate-100 bg-white p-3 hover:bg-bpas-yellow/5 focus:outline-none focus:bg-bpas-yellow/5 transition-colors",children:[P.jsxs("div",{className:"block sm:hidden space-y-2",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-rose-500 text-[10px] font-bold text-white",children:o.friendly_id||a+1}),P.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["#",o.id.slice(0,4)]})]}),P.jsxs("div",{className:"flex gap-1",children:[P.jsx("span",{className:`rounded-full px-2 py-0.5 text-[10px] font-bold uppercase ${T6[o.status||"open"]}`,children:o.status?.replace("_"," ")||"open"}),P.jsx("span",{className:`rounded-full px-2 py-0.5 text-[10px] font-bold uppercase ${L6[o.priority||"medium"]}`,children:o.priority})]})]}),P.jsxs("div",{children:[P.jsx("h4",{className:"font-semibold text-slate-900 line-clamp-2",children:o.title}),P.jsx("p",{className:`text-xs ${o.plan_x==null?"text-rose-600 font-medium":"text-slate-500"}`,children:o.plan_x==null?" No pin placed":o.location||"No location"})]}),P.jsxs("div",{className:"flex items-center justify-between pt-1",children:[P.jsx("span",{className:"text-xs text-slate-400",children:o.due_date?`Due: ${o.due_date}`:"No due date"}),P.jsxs("div",{className:"flex gap-2",onClick:s=>s.stopPropagation(),children:[P.jsx("button",{onClick:s=>{s.stopPropagation(),r?.(o)},className:"rounded border border-slate-200 px-2 py-1 text-xs font-medium text-slate-600 hover:bg-slate-50",children:"Edit"}),P.jsx("button",{onClick:s=>{s.stopPropagation(),n?.(o)},className:"rounded border border-rose-100 px-2 py-1 text-xs font-medium text-rose-600 hover:bg-rose-50",children:"Delete"})]})]})]}),P.jsxs("div",{className:"hidden sm:grid sm:grid-cols-12 sm:gap-2 sm:items-center text-sm",children:[P.jsxs("span",{className:"col-span-2 truncate text-xs font-mono text-slate-500 flex items-center",children:[P.jsx("span",{className:"mr-2 inline-flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-full bg-rose-500 text-xs font-bold text-white",children:o.friendly_id||a+1}),o.id.slice(0,6)]}),P.jsx("span",{className:"col-span-3 font-semibold text-slate-900 break-words line-clamp-2",children:o.title}),P.jsx("span",{className:`col-span-2 truncate ${o.plan_x==null||o.plan_y==null?"text-rose-600 font-semibold":"text-slate-600"}`,children:o.plan_x==null||o.plan_y==null?"No pin placed":o.location||""}),P.jsx("span",{className:`col-span-1 flex items-center justify-center rounded-full px-2 py-1 text-xs font-semibold ${T6[o.status||"open"]}`,children:P.jsx("span",{className:"truncate",children:o.status?.replace("_"," ")||"open"})}),P.jsx("span",{className:`col-span-1 flex items-center justify-center rounded-full px-2 py-1 text-xs font-semibold ${L6[o.priority||"medium"]}`,children:P.jsx("span",{className:"truncate",children:o.priority})}),P.jsx("span",{className:"col-span-1 truncate text-slate-600 hidden lg:block",children:o.assigned_to||"Unassigned"}),P.jsx("span",{className:"col-span-1 text-slate-600 hidden xl:block",children:o.due_date||""}),P.jsxs("span",{className:"col-span-1 flex items-center justify-end gap-2 text-xs text-bpas-black ml-auto",onClick:s=>s.stopPropagation(),children:[P.jsx("button",{type:"button",className:"rounded-lg border border-bpas-yellow/60 px-2 py-1 font-semibold text-bpas-black hover:bg-bpas-yellow/30",onClick:s=>{s.stopPropagation(),r?.(o)},children:"Edit"}),P.jsx("button",{type:"button",className:"rounded-lg border border-rose-200 px-2 py-1 font-semibold text-rose-600 hover:bg-rose-50",onClick:s=>{s.stopPropagation(),n?.(o)},children:"Delete"})]})]})]})};return P.jsxs("div",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm h-[600px] flex flex-col",children:[P.jsx("div",{className:"overflow-x-auto flex-shrink-0 hidden sm:block",children:P.jsx("div",{className:"w-full",children:P.jsxs("div",{className:"grid grid-cols-12 gap-2 bg-slate-50 px-3 py-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:[P.jsx("span",{className:"col-span-2 whitespace-nowrap",children:"ID"}),P.jsx("span",{className:"col-span-3 whitespace-nowrap",children:"Description"}),P.jsx("span",{className:"col-span-2 whitespace-nowrap",children:"Location"}),P.jsx("span",{className:"col-span-1 text-center whitespace-nowrap",children:"Status"}),P.jsx("span",{className:"col-span-1 text-center whitespace-nowrap",children:"Priority"}),P.jsx("span",{className:"col-span-1 whitespace-nowrap hidden lg:block",children:"Assigned"}),P.jsx("span",{className:"col-span-1 whitespace-nowrap hidden xl:block",children:"Due"}),P.jsx("span",{className:"col-span-1 text-right whitespace-nowrap",children:"Actions"})]})})}),P.jsx("div",{className:"flex-grow w-full",children:t.length>0?P.jsx(Fue,{totalCount:t.length,itemContent:i,style:{height:"100%"}}):P.jsx("p",{className:"p-4 text-sm text-slate-600",children:"No snags yet."})})]})},tce=({comments:t,onAdd:e})=>{const[r,n]=se.useState(""),[i,a]=se.useState(!1),o=async()=>{r.trim()&&(a(!0),await e(r.trim()),n(""),a(!1))};return P.jsxs("div",{className:"space-y-3",children:[P.jsxs("div",{className:"space-y-2",children:[t.map(s=>P.jsxs("div",{className:"rounded-lg border border-slate-200 bg-slate-50 px-3 py-2",children:[P.jsx("p",{className:"text-xs text-slate-500",children:s.created_at?.slice(0,16)||"just now"}),P.jsx("p",{className:"text-sm text-slate-800",children:s.comment})]},s.id)),t.length===0&&P.jsx("p",{className:"text-sm text-slate-600",children:"No comments yet."})]}),P.jsxs("div",{className:"flex gap-2",children:[P.jsx("input",{value:r,onChange:s=>n(s.target.value),placeholder:"Add a comment",className:"flex-1 rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-brand focus:outline-none"}),P.jsx("button",{onClick:o,disabled:i,className:"rounded-lg bg-brand px-3 py-2 text-sm font-semibold text-white shadow disabled:opacity-60",children:i?"Saving...":"Post"})]})]})},gS=({imageSrc:t,onSave:e,onCancel:r})=>{const n=se.useRef(null),[i,a]=se.useState(!1),[o,s]=se.useState("#ef4444"),[l,u]=se.useState(4),[f,h]=se.useState("pen"),[p,g]=se.useState(null),[y,b]=se.useState(null),[v,w]=se.useState(null);se.useEffect(()=>{const F=n.current;if(!F)return;const U=F.getContext("2d");if(!U)return;g(U);const z=new Image;z.crossOrigin="anonymous",z.src=t,z.onload=()=>{const q=window.innerWidth*.9,G=window.innerHeight*.8;let K=z.width,te=z.height;if(K>q||te>G){const X=Math.min(q/K,G/te);K*=X,te*=X}F.width=K,F.height=te,U.drawImage(z,0,0,K,te),U.lineCap="round",U.lineJoin="round",U.strokeStyle=o,U.lineWidth=l}},[t]),se.useEffect(()=>{p&&(p.strokeStyle=o,p.lineWidth=l)},[o,l,p]);const S=F=>{const U=n.current;if(!U)return{x:0,y:0};const z=U.getBoundingClientRect();let q,G;return"touches"in F?(q=F.touches[0].clientX,G=F.touches[0].clientY):(q=F.clientX,G=F.clientY),{x:q-z.left,y:G-z.top}},A=F=>{if(!p||!n.current)return;a(!0),H();const U=S(F);b(U),f!=="pen"?w(p.getImageData(0,0,n.current.width,n.current.height)):(p.beginPath(),p.moveTo(U.x,U.y))},k=(F,U,z,q,G)=>{const K=l*3,te=q-U,X=G-z,D=Math.atan2(X,te);F.beginPath(),F.moveTo(U,z),F.lineTo(q,G),F.lineTo(q-K*Math.cos(D-Math.PI/6),G-K*Math.sin(D-Math.PI/6)),F.moveTo(q,G),F.lineTo(q-K*Math.cos(D+Math.PI/6),G-K*Math.sin(D+Math.PI/6)),F.stroke()},j=(F,U,z,q,G)=>{const K=Math.sqrt(Math.pow(q-U,2)+Math.pow(G-z,2));F.beginPath(),F.arc(U,z,K,0,2*Math.PI),F.stroke()},O=F=>{if(!i||!p||!n.current)return;F.preventDefault();const{x:U,y:z}=S(F);f==="pen"?(p.lineTo(U,z),p.stroke()):y&&v&&(p.putImageData(v,0,0),f==="arrow"?k(p,y.x,y.y,U,z):f==="circle"&&j(p,y.x,y.y,U,z))},M=()=>{p&&(f==="pen"&&p.closePath(),a(!1),b(null),w(null))},[N,C]=se.useState([]),H=()=>{if(!p||!n.current)return;const F=p.getImageData(0,0,n.current.width,n.current.height);C(U=>[...U,F])},T=()=>{if(N.length===0||!p||!n.current)return;const F=N[N.length-1],U=N.slice(0,-1);C(U),p.putImageData(F,0,0)},L=()=>{if(!p||!n.current)return;H();const F=new Image;F.crossOrigin="anonymous",F.src=t,F.onload=()=>{!p||!n.current||p.drawImage(F,0,0,n.current.width,n.current.height)}},$=()=>{const F=n.current;F&&F.toBlob(U=>{if(U){const z=new File([U],"annotated_image.jpg",{type:"image/jpeg"});e(z)}},"image/jpeg",.9)};return P.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col items-center justify-center bg-black/90 p-4",children:[P.jsxs("div",{className:"mb-4 flex w-full max-w-3xl items-center justify-between text-white",children:[P.jsx("h3",{className:"text-lg font-semibold",children:"Annotate Photo"}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("button",{onClick:r,className:"text-sm hover:text-slate-300",children:"Cancel"}),P.jsx("button",{onClick:$,className:"rounded bg-bpas-yellow px-4 py-1 text-sm font-bold text-bpas-black hover:bg-yellow-400",children:"Save"})]})]}),P.jsx("div",{className:"relative overflow-hidden rounded-lg bg-gray-800 shadow-2xl",children:P.jsx("canvas",{ref:n,onMouseDown:A,onMouseMove:O,onMouseUp:M,onMouseLeave:M,onTouchStart:A,onTouchMove:O,onTouchEnd:M,className:"cursor-crosshair touch-none"})}),P.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 rounded-full bg-white/10 px-6 py-2 backdrop-blur-sm justify-center",children:[P.jsxs("div",{className:"flex gap-2 border-r border-white/20 pr-4",children:[P.jsx("button",{onClick:()=>h("pen"),className:`p-2 rounded-lg ${f==="pen"?"bg-white/20 text-white":"text-white/60 hover:text-white"}`,title:"Pen",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:P.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})}),P.jsx("button",{onClick:()=>h("arrow"),className:`p-2 rounded-lg ${f==="arrow"?"bg-white/20 text-white":"text-white/60 hover:text-white"}`,title:"Arrow",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),P.jsx("polyline",{points:"12 5 19 12 12 19"})]})}),P.jsx("button",{onClick:()=>h("circle"),className:`p-2 rounded-lg ${f==="circle"?"bg-white/20 text-white":"text-white/60 hover:text-white"}`,title:"Circle",children:P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:P.jsx("circle",{cx:"12",cy:"12",r:"10"})})})]}),P.jsxs("div",{className:"flex gap-2 items-center",children:[P.jsx("button",{onClick:()=>s("#ef4444"),className:`h-6 w-6 rounded-full border-2 ${o==="#ef4444"?"border-white":"border-transparent"} bg-red-500`}),P.jsx("button",{onClick:()=>s("#eab308"),className:`h-6 w-6 rounded-full border-2 ${o==="#eab308"?"border-white":"border-transparent"} bg-yellow-500`}),P.jsx("button",{onClick:()=>s("#ffffff"),className:`h-6 w-6 rounded-full border-2 ${o==="#ffffff"?"border-white":"border-transparent"} bg-white`})]}),P.jsx("div",{className:"mx-2 h-8 w-px bg-white/20"}),P.jsxs("div",{className:"flex gap-2 items-center",children:[P.jsx("button",{onClick:()=>u(2),className:`flex h-8 w-8 items-center justify-center rounded-full ${l===2?"bg-white/20":""}`,children:P.jsx("div",{className:"h-1 w-1 rounded-full bg-white"})}),P.jsx("button",{onClick:()=>u(4),className:`flex h-8 w-8 items-center justify-center rounded-full ${l===4?"bg-white/20":""}`,children:P.jsx("div",{className:"h-2 w-2 rounded-full bg-white"})}),P.jsx("button",{onClick:()=>u(8),className:`flex h-8 w-8 items-center justify-center rounded-full ${l===8?"bg-white/20":""}`,children:P.jsx("div",{className:"h-3 w-3 rounded-full bg-white"})})]}),P.jsx("div",{className:"mx-2 h-8 w-px bg-white/20"}),P.jsxs("div",{className:"flex gap-2 items-center",children:[P.jsx("button",{onClick:T,disabled:N.length===0,className:"p-2 rounded-lg text-white/60 hover:text-white disabled:opacity-30 disabled:hover:text-white/60",title:"Undo",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{d:"M3 7v6h6"}),P.jsx("path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"})]})}),P.jsx("button",{onClick:L,className:"p-2 rounded-lg text-white/60 hover:text-rose-400",title:"Clear All",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("polyline",{points:"3 6 5 6 21 6"}),P.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]})]})},rce=["open","in_progress","completed","verified"],nce=({snag:t,isOpen:e,onClose:r,onUpdate:n,onEdit:i,onDelete:a})=>{const[o,s]=se.useState([]),[l,u]=se.useState([]),[f,h]=se.useState([]),[p,g]=se.useState("unknown"),[y,b]=se.useState(null);se.useEffect(()=>{e&&t&&(async()=>{if(!t)return;const{data:S}=await Qe.from("snag_photos").select("*").eq("snag_id",t.id);s(S||[]);const{data:A}=await Qe.from("snag_comments").select("*").eq("snag_id",t.id);u(A||[]);let k=p;if(t.created_by){const{data:O}=await Qe.from("profiles").select("full_name").eq("id",t.created_by).single();O&&(k=O.full_name||"Unknown")}g(k);const{data:j}=await Qe.from("activity_logs").select("*").eq("entity_type","snag").eq("entity_id",t.id).order("created_at",{ascending:!1});h(j||[])})()},[t,e]);const v=async w=>{if(confirm("Are you sure you want to delete this photo?"))try{const A=new URL(w.photo_url).pathname.split("/snag-photos/")[1];if(A){const{error:k}=await Qe.storage.from("snag-photos").remove([decodeURIComponent(A)]);k&&console.error("Storage delete error:",k)}if(w.id&&!w.id.startsWith("http")){const{error:k}=await Qe.from("snag_photos").delete().eq("id",w.id);if(k)throw k}s(k=>k.filter(j=>j.photo_url!==w.photo_url))}catch(S){console.error("Error deleting photo:",S),alert("Failed to delete photo")}};return!e||!t?null:P.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 sm:p-4 backdrop-blur-sm",children:[P.jsxs("div",{className:"flex h-[90vh] w-full sm:max-w-4xl flex-col overflow-hidden rounded-t-xl sm:rounded-xl bg-white shadow-2xl",children:[P.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-6 py-4",children:[P.jsxs("div",{children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsxs("h2",{className:"text-xl font-bold text-slate-900",children:["Snag #",t.friendly_id]}),P.jsx("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-medium capitalize ${t.status==="completed"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:t.status.replace("_"," ")})]}),P.jsxs("p",{className:"text-sm text-slate-500",children:["Created by ",p," on ",new Date(t.created_at).toLocaleDateString()]})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[i&&P.jsx("button",{onClick:()=>i(t),className:"rounded-lg p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600",title:"Edit Snag",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),P.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),a&&P.jsx("button",{onClick:()=>a(t),className:"rounded-lg p-2 text-rose-400 hover:bg-rose-50 hover:text-rose-600",title:"Delete Snag",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("polyline",{points:"3 6 5 6 21 6"}),P.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})}),P.jsx("button",{onClick:r,className:"rounded-lg p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),P.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[P.jsxs("div",{className:"mb-6",children:[P.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:t.title}),P.jsx("p",{className:"mt-2 text-slate-600",children:t.description})]}),P.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{className:"rounded-lg border border-slate-200 p-4",children:[P.jsx("h4",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Details"}),P.jsxs("div",{className:"space-y-3",children:[P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-xs text-slate-500",children:"Location"}),P.jsx("p",{className:"font-medium text-slate-900",children:t.location||""})]}),P.jsxs("div",{children:[P.jsx("p",{className:"text-xs text-slate-500",children:"Category"}),P.jsx("p",{className:"font-medium text-slate-900",children:t.category||""})]}),P.jsxs("div",{children:[P.jsx("p",{className:"text-xs text-slate-500",children:"Priority"}),P.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium capitalize
                        ${t.priority==="critical"?"bg-rose-100 text-rose-700":t.priority==="high"?"bg-orange-100 text-orange-700":t.priority==="medium"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:t.priority})]}),P.jsxs("div",{children:[P.jsx("p",{className:"text-xs text-slate-500",children:"Due Date"}),P.jsx("p",{className:"font-medium text-slate-900",children:t.due_date?new Date(t.due_date).toLocaleDateString():""})]})]}),P.jsxs("div",{className:"pt-3 border-t border-slate-100",children:[P.jsx("label",{className:"block text-xs font-medium text-slate-700 mb-1",children:"Status"}),P.jsx("select",{value:t.status,onChange:async w=>{const S=w.target.value;await Qe.from("snags").update({status:S}).eq("id",t.id),n()},className:"w-full rounded-lg border-slate-200 text-sm focus:border-bpas-black focus:ring-bpas-black",children:rce.map(w=>P.jsx("option",{value:w,children:w.replace("_"," ")},w))})]})]})]}),P.jsxs("div",{className:"rounded-lg border border-slate-200 p-4",children:[P.jsx("h4",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Photos"}),P.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:[o.map(w=>P.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-lg bg-slate-100",children:[P.jsx("img",{src:w.photo_url,alt:"",className:"h-full w-full object-cover"}),P.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2 bg-black/40 opacity-0 transition-opacity group-hover:opacity-100",children:[P.jsx("button",{onClick:()=>b(w.photo_url),className:"rounded-full bg-white px-3 py-1 text-xs font-medium text-slate-900 hover:bg-slate-50",children:"Annotate"}),P.jsx("button",{onClick:()=>v(w),className:"rounded-full bg-white p-1.5 text-rose-600 hover:bg-rose-50",title:"Delete Photo",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("polyline",{points:"3 6 5 6 21 6"}),P.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})})]})]},w.id)),P.jsx("div",{className:"aspect-square",children:P.jsx(lS,{label:"Add Photo",bucket:"snag-photos",onUploaded:async w=>{const A=(Array.isArray(w)?w:[w]).map(k=>({snag_id:t.id,photo_url:k}));await Qe.from("snag_photos").insert(A),s(k=>[...k,...A.map(j=>({id:j.photo_url,snag_id:j.snag_id,photo_url:j.photo_url}))])},className:"h-full w-full"})})]})]})]}),P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{className:"rounded-lg border border-slate-200 p-4",children:[P.jsx("h4",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Comments"}),P.jsx(tce,{snagId:t.id,comments:l,onAdd:async w=>{const{data:S,error:A}=await Qe.from("snag_comments").insert({snag_id:t.id,author_id:t.created_by||"",comment:w}).select("*").single();!A&&S&&u(k=>[...k,S])}})]}),P.jsxs("div",{className:"rounded-lg border border-slate-200 p-4",children:[P.jsx("h4",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-slate-500",children:"Activity Log"}),P.jsx("ul",{className:"space-y-3",children:f.map(w=>P.jsxs("li",{className:"flex gap-3 text-sm",children:[P.jsx("div",{className:"mt-0.5 h-2 w-2 shrink-0 rounded-full bg-slate-300"}),P.jsxs("div",{children:[P.jsx("p",{className:"text-slate-700",children:w.message}),P.jsx("p",{className:"text-xs text-slate-400",children:new Date(w.created_at).toLocaleString()})]})]},w.id))})]})]})]})]})]}),y&&P.jsx(gS,{imageSrc:y,onCancel:()=>b(null),onSave:async w=>{const S=Qe.storage.from("snag-photos"),k=`${t.id}/${Date.now()}-annotated.jpg`,{error:j}=await S.upload(k,w,{contentType:"image/jpeg",cacheControl:"3600",upsert:!1});if(!j){const{data:O}=S.getPublicUrl(k),M=O.publicUrl,N=o.find(C=>C.photo_url===y);N&&N.id&&await Qe.from("snag_photos").delete().eq("id",N.id),await Qe.from("snag_photos").insert({snag_id:t.id,photo_url:M}),s(C=>[...C.filter(H=>H.photo_url!==y),{id:M,snag_id:t.id,photo_url:M}])}b(null)}})]})},ice=t=>{if(!t)return null;const e=t.trim();return e.length?e:null},vD=(t,e=1600,r=.8)=>new Promise((n,i)=>{const a=new Image;a.src=URL.createObjectURL(t),a.onload=()=>{URL.revokeObjectURL(a.src);const o=document.createElement("canvas");let{width:s,height:l}=a;s>e&&(l=Math.round(l*e/s),s=e),o.width=s,o.height=l;const u=o.getContext("2d");if(!u){i(new Error("Failed to get canvas context"));return}u.drawImage(a,0,0,s,l),o.toBlob(f=>{f?n(f):i(new Error("Canvas to Blob failed"))},"image/jpeg",r)},a.onerror=o=>{URL.revokeObjectURL(a.src),i(o)}}),Oy=()=>{const[t,e]=se.useState(!navigator.onLine);return se.useEffect(()=>{const r=()=>e(!1),n=()=>e(!0);return window.addEventListener("online",r),window.addEventListener("offline",n),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}},[]),t},mS=(t,e)=>e.some(r=>t instanceof r);let I6,R6;function ace(){return I6||(I6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oce(){return R6||(R6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,u5=new WeakMap,jy=new WeakMap;function sce(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(mf(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return jy.set(e,t),e}function lce(t){if(vS.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});vS.set(t,e)}let yS={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return vS.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return mf(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yD(t){yS=t(yS)}function uce(t){return oce().includes(t)?function(...e){return t.apply(bS(this),e),mf(this.request)}:function(...e){return mf(t.apply(bS(this),e))}}function cce(t){return typeof t=="function"?uce(t):(t instanceof IDBTransaction&&lce(t),mS(t,ace())?new Proxy(t,yS):t)}function mf(t){if(t instanceof IDBRequest)return sce(t);if(u5.has(t))return u5.get(t);const e=cce(t);return e!==t&&(u5.set(t,e),jy.set(e,t)),e}const bS=t=>jy.get(t);function bD(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=mf(o);return n&&o.addEventListener("upgradeneeded",l=>{n(mf(o.result),l.oldVersion,l.newVersion,mf(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const fce=["get","getKey","getAll","getAllKeys","count"],dce=["put","add","delete","clear"],c5=new Map;function M6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(c5.get(e))return c5.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=dce.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||fce.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return c5.set(e,a),a}yD(t=>({...t,get:(e,r,n)=>M6(e,r)||t.get(e,r,n),has:(e,r)=>!!M6(e,r)||t.has(e,r)}));const hce=["continue","continuePrimaryKey","advance"],D6={},wS=new WeakMap,wD=new WeakMap,pce={get(t,e){if(!hce.includes(e))return t[e];let r=D6[e];return r||(r=D6[e]=function(...n){wS.set(this,wD.get(this)[e](...n))}),r}};async function*gce(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,pce);for(wD.set(r,e),jy.set(r,bS(e));e;)yield r,e=await(wS.get(r)||e.continue()),wS.delete(r)}function F6(t,e){return e===Symbol.asyncIterator&&mS(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&mS(t,[IDBIndex,IDBObjectStore])}yD(t=>({...t,get(e,r,n){return F6(e,r)?gce:t.get(e,r,n)},has(e,r){return F6(e,r)||t.has(e,r)}}));const mce="bpas-snagging-db",vf="mutations",ac="pending_photos",Rf=async()=>bD(mce,2,{upgrade(t,e,r,n){if(t.objectStoreNames.contains(vf)||t.createObjectStore(vf,{keyPath:"id",autoIncrement:!0}).createIndex("by-synced","synced"),e<2&&!t.objectStoreNames.contains(ac)){const i=t.createObjectStore(ac,{keyPath:"id",autoIncrement:!0});i.createIndex("by-snag","snagId"),i.createIndex("by-synced","synced")}}}),xS=async(t,e,r,n)=>{await(await Rf()).add(vf,{table:t,type:e,payload:r,timestamp:Date.now(),synced:0,offlineId:n})},vce=async()=>(await Rf()).getAllFromIndex(vf,"by-synced",0),yce=async(t,e)=>{const r=await Rf(),n=await r.get(vf,t);n&&e&&(n.realId=e,n.synced=1,await r.put(vf,n)),await r.delete(vf,t)},_S=async(t,e,r)=>{await(await Rf()).add(ac,{snagId:t,blob:e,filename:r,timestamp:Date.now(),synced:0})},xD=async t=>{const e=await Rf();return t?e.getAllFromIndex(ac,"by-snag",t):e.getAllFromIndex(ac,"by-synced",0)},B6=async t=>{await(await Rf()).delete(ac,t)},bce=async(t,e)=>{const r=await Rf(),n=await r.getAllFromIndex(ac,"by-snag",t);for(const i of n)i.id&&(i.snagId=e,await r.put(ac,i))},wce=["low","medium","high","critical"],xce=["open","in_progress","completed","verified"],_ce=({projectId:t,onCreated:e,onUpdated:r,onCancel:n,initialSnag:i,checklistFields:a,contractors:o,coords:s,existingLocations:l,onCoordsClear:u})=>{const{user:f}=ol(),[h,p]=se.useState(!1),[g,y]=se.useState(null),[b,v]=se.useState({}),w=()=>new Date().toISOString().split("T")[0],[S,A]=se.useState({title:"",description:"",priority:"medium",status:"open",location:"",category:"",due_date:w(),assigned_to:""}),[k,j]=se.useState([]),[O,M]=se.useState(!1),[N,C]=se.useState(null),[H,T]=se.useState([]),[L,$]=se.useState(null),F=!!i,U=s??(i&&i.plan_x!=null&&i.plan_y!=null?{x:i.plan_x,y:i.plan_y,page:i.plan_page??1,planId:i.plan_id||void 0}:null);se.useEffect(()=>{i&&(A({title:i.title,description:i.description??"",priority:i.priority,status:i.status,location:i.location??"",category:i.category??"",due_date:i.due_date??"",assigned_to:i.assigned_to??""}),(async()=>{const{data:D}=await Qe.from("snag_photos").select("*").eq("snag_id",i.id);T((D||[]).map(J=>({id:J.id,url:J.photo_url})))})())},[i]);const z=se.useMemo(()=>!!(S.title&&S.title.length>2&&U),[S.title,U]),q=(D,Y)=>{A(J=>({...J,[D]:Y}))},G=D=>{if(!D)return;const Y=Array.from(D).map(J=>({file:J,preview:URL.createObjectURL(J)}));j(J=>[...J,...Y])};se.useEffect(()=>()=>{k.forEach(D=>URL.revokeObjectURL(D.preview))},[k]);const K=async D=>{if(!k.length)return;const Y=Qe.storage.from("snag-photos");for(const{file:J}of k)try{const ee=await vD(J),ue=J.name.split(".").pop()||"jpg",me=`${D}/${Date.now()}-${Math.random().toString(36).slice(2)}.${ue}`,{error:fe}=await Y.upload(me,ee,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(fe){console.warn("Photo upload failed",fe.message);continue}const{data:le}=Y.getPublicUrl(me);await Qe.from("snag_photos").insert({snag_id:D,photo_url:le.publicUrl})}catch(ee){console.error("Failed to process image",ee)}j([])},te=Oy(),X=async D=>{if(D.preventDefault(),!O)try{if(M(!0),!f)throw new Error("You must be signed in to manage snags.");if(!U)throw new Error("Please place this snag on the floor plan before saving.");p(!0),y(null);const Y=ice(S.assigned_to);let J=null;if(te){const ee=`offline-${crypto.randomUUID()}`,ue=new Date().toISOString(),me={...S,project_id:t,created_by:f.id,assigned_to:Y,plan_x:U.x,plan_y:U.y,plan_page:U.page,plan_id:U.planId};if(F&&i)await xS("snags","UPDATE",{...me,id:i.id}),J={...i,...me},r?.(J);else{await xS("snags","INSERT",me,ee);for(const{file:fe}of k)await _S(ee,fe,fe.name);e?.({...me,id:ee,created_at:ue,status:"open",priority:me.priority||"medium",title:me.title||""})}}else if(F&&i){const ee={...S,assigned_to:Y,plan_x:U.x,plan_y:U.y,plan_page:U.page,plan_id:U.planId},{data:ue,error:me}=await Qe.from("snags").update(ee).eq("id",i.id).select("*").single();if(me)throw me;J=ue,await K(i.id),r?.(J)}else{const ee={...S,project_id:t,created_by:f.id,assigned_to:Y,plan_x:U.x,plan_y:U.y,plan_page:U.page,plan_id:U.planId},{data:ue,error:me}=await Qe.from("snags").insert(ee).select("*").single();if(me)throw me;if(!ue)throw new Error("Failed to create snag");J=ue,a.length>0&&await Qe.from("snag_comments").insert({snag_id:ue.id,author_id:ue.created_by,comment:`Custom fields: ${JSON.stringify(b)}`}),await K(J.id),e?.(J),A({title:"",description:"",priority:"medium",status:"open",location:"",category:"",due_date:w(),assigned_to:""}),v({})}j([]),u?.(),F&&n?.()}catch(Y){console.error("Error saving snag:",Y),alert(Y.message||"Failed to save snag")}finally{p(!1),M(!1)}};return P.jsxs("form",{onSubmit:X,className:"space-y-3 rounded-xl border border-slate-200 bg-white p-4 shadow-sm",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"On-site capture"}),P.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:F?"Edit snag":"Create a new snag"}),U?P.jsxs("p",{className:"text-xs font-raleway text-bpas-grey",children:["Floor ",U.page,"  ",(U.x*100).toFixed(1),"%, ",(U.y*100).toFixed(1),"%"]}):P.jsx("p",{className:"text-xs font-raleway text-rose-600",children:"Tap the floor plan to place this snag before saving."})]}),P.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n&&P.jsx("button",{type:"button",onClick:n,disabled:O,className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50 disabled:opacity-50",children:"Cancel"}),P.jsx("button",{type:"submit",disabled:O||!z,className:"rounded-lg bg-bpas-yellow px-4 py-2 text-sm font-bold text-white shadow-md hover:bg-bpas-dark disabled:opacity-50 disabled:cursor-not-allowed",children:O?"Saving...":F?"Update Snag":"Create Snag"})]})]}),g&&P.jsx("p",{className:"text-sm text-red-600",children:g}),P.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-600",children:"Title *"}),P.jsx("input",{value:S.title||"",onChange:D=>q("title",D.target.value),required:!0,placeholder:"e.g. Door misaligned",className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-brand focus:bg-white focus:outline-none"})]}),P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-600",children:"Location"}),P.jsx("input",{value:S.location||"",onChange:D=>q("location",D.target.value),placeholder:"Level 2 - Bedroom 3",list:"locations-list",className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-brand focus:bg-white focus:outline-none"}),P.jsx("datalist",{id:"locations-list",children:l.map(D=>P.jsx("option",{value:D},D))})]})]}),P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-600",children:"Description"}),P.jsx("textarea",{value:S.description||"",onChange:D=>q("description",D.target.value),rows:3,className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-brand focus:bg-white focus:outline-none"})]}),P.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-600",children:"Priority"}),P.jsx("select",{value:S.priority,onChange:D=>q("priority",D.target.value),className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-brand focus:bg-white focus:outline-none",children:wce.map(D=>P.jsx("option",{value:D,children:D},D))})]}),P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-600",children:"Status"}),P.jsx("select",{value:S.status,onChange:D=>q("status",D.target.value),className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-brand focus:bg-white focus:outline-none",children:xce.map(D=>P.jsx("option",{value:D,children:D.replace("_"," ")},D))})]}),P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-600",children:"Due date"}),P.jsx("input",{type:"date",value:S.due_date||"",onChange:D=>q("due_date",D.target.value),className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-brand focus:bg-white focus:outline-none"})]})]}),P.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-600",children:"Category"}),P.jsx("input",{value:S.category||"",onChange:D=>q("category",D.target.value),placeholder:"Finishes, Structure, Services",className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-brand focus:bg-white focus:outline-none"})]}),P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-600",children:"Assign to"}),P.jsxs("select",{value:S.assigned_to||"",onChange:D=>q("assigned_to",D.target.value),className:"w-full rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm focus:border-brand focus:bg-white focus:outline-none",children:[P.jsx("option",{value:"",children:"Unassigned"}),o?.map(D=>P.jsx("option",{value:D.id,children:D.full_name},D.id))]})]})]}),a&&a.length>0&&P.jsxs("div",{className:"rounded-lg border border-dashed border-brand/30 bg-brand/5 p-3",children:[P.jsx("p",{className:"text-sm font-semibold text-slate-700",children:"Template fields"}),P.jsx("div",{className:"mt-2 grid gap-2 sm:grid-cols-2",children:a.map(D=>P.jsxs("label",{className:"space-y-1 text-sm",children:[P.jsx("span",{className:"text-slate-600",children:D.label}),D.type==="select"?P.jsxs("select",{className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm focus:border-brand focus:outline-none",onChange:Y=>v(J=>({...J,[D.label]:Y.target.value})),children:[P.jsx("option",{value:"",children:"Select"}),D.options?.map(Y=>P.jsx("option",{value:Y,children:Y},Y))]}):D.type==="checkbox"?P.jsx("input",{type:"checkbox",onChange:Y=>v(J=>({...J,[D.label]:Y.target.checked}))}):P.jsx("input",{type:D.type,onChange:Y=>v(J=>({...J,[D.label]:Y.target.value})),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm focus:border-brand focus:outline-none"})]},D.id))})]}),N&&P.jsx(gS,{imageSrc:N.src,onCancel:()=>C(null),onSave:D=>{const Y=[...k];Y[N.index]={file:D,preview:URL.createObjectURL(D)},j(Y),C(null)}}),L&&P.jsx(gS,{imageSrc:L.url,onCancel:()=>$(null),onSave:async D=>{const Y=Qe.storage.from("snag-photos"),J=`${i?.id||"snag"}/${Date.now()}-annotated.jpg`,{error:ee}=await Y.upload(J,D,{contentType:"image/jpeg",cacheControl:"3600",upsert:!1});if(!ee){const{data:ue}=Y.getPublicUrl(J),me=ue.publicUrl;L.id&&await Qe.from("snag_photos").delete().eq("id",L.id),await Qe.from("snag_photos").insert({snag_id:i?.id||"",photo_url:me}),T(fe=>[...fe.filter(le=>le.id!==L.id),{id:me,url:me}])}$(null)}}),P.jsxs("div",{className:"space-y-2",children:[P.jsx("span",{className:"text-sm text-slate-600",children:"Attach photos"}),P.jsx("input",{type:"file",multiple:!0,accept:"image/*",capture:"environment",onChange:D=>G(D.target.files),className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:border-brand focus:outline-none"}),(k.length>0||H.length>0)&&P.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.map((D,Y)=>P.jsxs("div",{className:"relative group",children:[P.jsx("img",{src:D.preview,className:"h-20 w-20 rounded-lg object-cover cursor-pointer border border-slate-200",onClick:()=>C({index:Y,src:D.preview})}),P.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg pointer-events-none",children:P.jsx("span",{className:"text-xs text-white font-medium",children:"Annotate"})}),P.jsx("button",{type:"button",onClick:()=>j(J=>J.filter((ee,ue)=>ue!==Y)),className:"absolute -top-2 -right-2 bg-rose-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs shadow-sm",children:""})]},D.preview+Y)),H.map(D=>P.jsxs("div",{className:"relative group",children:[P.jsx("img",{src:D.url,className:"h-20 w-20 rounded-lg object-cover cursor-pointer border border-slate-200",onClick:()=>$(D)}),P.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg pointer-events-none",children:P.jsx("span",{className:"text-xs text-white font-medium",children:"Annotate"})})]},D.id))]})]})]})},Sce=({project:t,snags:e,checklistFields:r,selected:n,editingSnag:i,createCoords:a,editCoords:o,onSelect:s,onEdit:l,onCoordsClear:u,onSnagChange:f,contractors:h=[]})=>{const[p,g]=se.useState(""),[y,b]=se.useState("all"),[v,w]=se.useState(null),S=se.useMemo(()=>e.filter(O=>{const M=O.title.toLowerCase().includes(p.toLowerCase())||O.description?.toLowerCase().includes(p.toLowerCase())||O.id.toLowerCase().includes(p.toLowerCase()),N=y==="all"||O.status===y;return M&&N}),[e,p,y]),A=O=>{w(O.id)},k=Oy(),j=async()=>{if(!v)return;const O=e.find(M=>M.id===v);if(O){if(k)await xS("snags","DELETE",{id:O.id});else{const{data:M}=await Qe.from("snag_photos").select("*").eq("snag_id",O.id);if(M&&M.length>0){const N=Qe.storage.from("snag-photos"),C=M.map(H=>H.photo_url.split("/storage/v1/object/public/snag-photos/")[1]).filter(Boolean);C.length&&await N.remove(C),await Qe.from("snag_photos").delete().eq("snag_id",O.id)}await Qe.from("snag_comments").delete().eq("snag_id",O.id),await Qe.from("snags").delete().eq("id",O.id)}n?.id===O.id&&s(null),f(),w(null)}};return P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"w-full space-y-4",children:[P.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[P.jsx("div",{className:"relative flex-1",children:P.jsx("input",{type:"text",placeholder:"Search snags...",value:p,onChange:O=>g(O.target.value),className:"w-full rounded-lg border border-slate-300 px-4 py-2 text-sm focus:border-bpas-yellow focus:outline-none focus:ring-1 focus:ring-bpas-yellow"})}),P.jsx("div",{className:"flex items-center gap-2",children:P.jsxs("select",{value:y,onChange:O=>b(O.target.value),className:"rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-bpas-yellow focus:outline-none focus:ring-1 focus:ring-bpas-yellow",children:[P.jsx("option",{value:"all",children:"All Statuses"}),P.jsx("option",{value:"open",children:"Open"}),P.jsx("option",{value:"in_progress",children:"In Progress"}),P.jsx("option",{value:"completed",children:"Completed"}),P.jsx("option",{value:"verified",children:"Verified"})]})})]}),P.jsx(ece,{snags:S,onSelect:s,onEdit:l,onDelete:A})]}),n&&P.jsx(nce,{snag:n,isOpen:!0,onClose:()=>s(null),onUpdate:f,onDelete:A,onEdit:O=>l(O)}),(i||a)&&P.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/40 sm:px-4 sm:py-8",children:P.jsx("div",{className:"w-full max-w-2xl rounded-t-2xl sm:rounded-2xl bg-white p-6 shadow-2xl max-h-[85vh] overflow-y-auto",children:P.jsx(_ce,{projectId:t.id,initialSnag:i||void 0,coords:i?o:a,checklistFields:r,contractors:h,existingLocations:Array.from(new Set(e.map(O=>O.location).filter(Boolean))),onCoordsClear:u,onCreated:()=>{f(),u()},onUpdated:()=>{f(),l(null),u()},onCancel:()=>{l(null),u()}})})}),v&&P.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40 px-4",children:P.jsxs("div",{className:"w-full max-w-sm rounded-xl bg-white p-6 shadow-xl",children:[P.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Delete Snag?"}),P.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Are you sure you want to delete this snag? This action cannot be undone and will remove all associated photos."}),P.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[P.jsx("button",{onClick:()=>w(null),className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50",children:"Cancel"}),P.jsx("button",{onClick:j,className:"rounded-lg bg-rose-600 px-4 py-2 text-sm font-medium text-white hover:bg-rose-700",children:"Delete"})]})]})})]})},Ace=({project:t,onClose:e,onUpdate:r})=>{const[n,i]=se.useState(!1),[a,o]=se.useState(null),[s,l]=se.useState({name:t.name,client_name:t.client_name||"",address:t.address||"",start_date:t.start_date||"",end_date:t.end_date||"",status:t.status||"active",inspection_type:t.inspection_type||"",inspection_description:t.inspection_description||"",inspection_scope:t.inspection_scope||"",project_number:t.project_number||""}),u=(h,p)=>{l(g=>({...g,[h]:p}))},f=async h=>{h.preventDefault(),i(!0),o(null);try{const p={name:s.name,client_name:s.client_name||null,address:s.address||null,start_date:s.start_date||null,end_date:s.end_date||null,status:s.status,inspection_type:s.inspection_type||null,inspection_description:s.inspection_description||null,inspection_scope:s.inspection_scope||null,project_number:s.project_number||null},{data:g,error:y}=await Qe.from("projects").update(p).eq("id",t.id).select().single();if(y)throw y;g&&(r(g),e())}catch(p){o(p.message)}finally{i(!1)}};return P.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:P.jsxs("div",{className:"w-full max-w-lg rounded-xl bg-white p-6 shadow-xl",children:[P.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[P.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Edit Project"}),P.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-700",children:""})]}),a&&P.jsx("div",{className:"mb-4 rounded-lg bg-rose-50 p-3 text-sm text-rose-600",children:a}),P.jsxs("form",{onSubmit:f,className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Project Name *"}),P.jsx("input",{type:"text",required:!0,value:s.name,onChange:h=>u("name",h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 focus:border-bpas-yellow focus:outline-none"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Client Name"}),P.jsx("input",{type:"text",value:s.client_name,onChange:h=>u("client_name",h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 focus:border-bpas-yellow focus:outline-none"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Address"}),P.jsx("input",{type:"text",value:s.address,onChange:h=>u("address",h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 focus:border-bpas-yellow focus:outline-none"})]}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Start Date"}),P.jsx("input",{type:"date",value:s.start_date,onChange:h=>u("start_date",h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 focus:border-bpas-yellow focus:outline-none"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"End Date"}),P.jsx("input",{type:"date",value:s.end_date,onChange:h=>u("end_date",h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 focus:border-bpas-yellow focus:outline-none"})]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Status"}),P.jsxs("select",{value:s.status,onChange:h=>u("status",h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 focus:border-bpas-yellow focus:outline-none",children:[P.jsx("option",{value:"active",children:"Active"}),P.jsx("option",{value:"completed",children:"Completed"}),P.jsx("option",{value:"archived",children:"Archived"})]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Project Number"}),P.jsx("input",{type:"text",value:s.project_number,onChange:h=>u("project_number",h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 focus:border-bpas-yellow focus:outline-none"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Inspection Type"}),P.jsx("input",{type:"text",value:s.inspection_type,onChange:h=>u("inspection_type",h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 focus:border-bpas-yellow focus:outline-none",placeholder:"e.g. Practical Completion"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Inspection Scope"}),P.jsxs("select",{value:s.inspection_scope,onChange:h=>u("inspection_scope",h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 focus:border-bpas-yellow focus:outline-none",children:[P.jsx("option",{value:"",children:"Select Scope"}),P.jsx("option",{value:"Internal",children:"Internal"}),P.jsx("option",{value:"External",children:"External"}),P.jsx("option",{value:"Both",children:"Both"})]})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Description / Scope"}),P.jsx("textarea",{value:s.inspection_description,onChange:h=>u("inspection_description",h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 focus:border-bpas-yellow focus:outline-none",rows:3})]}),P.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[P.jsx("button",{type:"button",onClick:e,className:"rounded-lg px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-100",children:"Cancel"}),P.jsx("button",{type:"submit",disabled:n,className:"rounded-lg bg-bpas-black px-4 py-2 text-sm font-medium text-white hover:bg-slate-800 disabled:opacity-50",children:n?"Saving...":"Save Changes"})]})]})]})})},_D=({project:t,onClose:e})=>{const r=oc(),[n,i]=se.useState(""),[a,o]=se.useState(!1),[s,l]=se.useState(null),[u,f]=se.useState(""),h=async()=>{if(n!==t.name){l("Project name does not match");return}o(!0),l(null);try{f("Deleting floor plans...");const{data:p}=await Qe.from("project_plans").select("url").eq("project_id",t.id);if(p&&p.length>0){const S=p.map(A=>{const j=A.url.match(/floor-plans\/(.+)$/);return j?j[1]:null}).filter(Boolean);if(S.length>0){const{error:A}=await Qe.storage.from("floor-plans").remove(S);A&&console.warn("Failed to delete some floor plans from storage:",A)}}f("Deleting snag photos...");const{data:g}=await Qe.from("snags").select("id").eq("project_id",t.id);if(g&&g.length>0){const S=g.map(k=>k.id),{data:A}=await Qe.from("snag_photos").select("photo_url").in("snag_id",S);if(A&&A.length>0){const k=A.map(j=>{const M=j.photo_url.match(/snag-photos\/(.+)$/);return M?M[1]:null}).filter(Boolean);if(k.length>0){const{error:j}=await Qe.storage.from("snag-photos").remove(k);j&&console.warn("Failed to delete some snag photos from storage:",j)}}}f("Deleting reports...");const{data:y}=await Qe.storage.from("reports").list("",{search:t.id});if(y&&y.length>0){const S=y.map(k=>k.name),{error:A}=await Qe.storage.from("reports").remove(S);A&&console.warn("Failed to delete some reports from storage:",A)}f("Removing project plans...");const{error:b}=await Qe.from("snags").update({plan_id:null}).eq("project_id",t.id);b&&console.warn("Failed to update snag plan references:",b);const{error:v}=await Qe.from("project_plans").delete().eq("project_id",t.id);if(v)throw new Error(`Failed to delete project plans: ${v.message}`);f("Deleting project...");const{error:w}=await Qe.from("projects").delete().eq("id",t.id);if(w)throw new Error(`Failed to delete project: ${w.message}`);f("Project deleted successfully"),await new Promise(S=>setTimeout(S,500)),r("/projects")}catch(p){console.error("Error deleting project:",p),l(p.message||"Failed to delete project"),o(!1),f("")}};return P.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:P.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-red-200 bg-white p-6 shadow-xl",children:[P.jsx("h2",{className:"mb-4 text-xl font-bold text-red-600",children:"Delete Project"}),P.jsxs("div",{className:"mb-6 space-y-3",children:[P.jsxs("div",{className:"rounded-lg bg-red-50 p-4 border border-red-200",children:[P.jsx("p",{className:"text-sm font-semibold text-red-800 mb-2",children:" This action cannot be undone!"}),P.jsx("p",{className:"text-sm text-red-700",children:"This will permanently delete:"}),P.jsxs("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside space-y-1",children:[P.jsx("li",{children:"All snags and their comments"}),P.jsx("li",{children:"All snag photos"}),P.jsx("li",{children:"All floor plans"}),P.jsx("li",{children:"All generated reports"}),P.jsx("li",{children:"The project itself"})]})]}),P.jsxs("div",{children:[P.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Type the project name to confirm: ",P.jsx("span",{className:"font-bold",children:t.name})]}),P.jsx("input",{type:"text",value:n,onChange:p=>i(p.target.value),placeholder:"Enter project name",className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-red-500 focus:outline-none focus:ring-1 focus:ring-red-500",disabled:a})]}),u&&P.jsx("div",{className:"rounded-lg bg-blue-50 p-3 border border-blue-200",children:P.jsx("p",{className:"text-sm text-blue-700",children:u})}),s&&P.jsx("div",{className:"rounded-lg bg-red-50 p-3 border border-red-200",children:P.jsx("p",{className:"text-sm text-red-700",children:s})})]}),P.jsxs("div",{className:"flex gap-3",children:[P.jsx("button",{onClick:e,disabled:a,className:"flex-1 rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Cancel"}),P.jsx("button",{onClick:h,disabled:a||n!==t.name,className:"flex-1 rounded-lg bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Deleting...":"Delete Project"})]})]})})},SD=async()=>{const t=await vce(),e={};for(const r of t)try{const{id:n,table:i,type:a,payload:o,offlineId:s}=r;if(!n)continue;let l,u;if(a==="INSERT"){const{data:f,error:h}=await Qe.from(i).insert(o).select("id").single();l=h,f&&"id"in f&&(u=f.id,s&&(e[s]=u,i==="snags"&&await bce(s,u)))}else if(a==="UPDATE"){const{id:f,...h}=o;if(!f)throw new Error("No ID provided for UPDATE");const{error:p}=await Qe.from(i).update(h).eq("id",f);l=p}else if(a==="DELETE"){const{id:f}=o;if(!f)throw new Error("No ID provided for DELETE");const{error:h}=await Qe.from(i).delete().eq("id",f);l=h}l?console.error(`Failed to sync mutation ${n}:`,l):(await yce(n,u),a==="INSERT"&&i==="snags"&&u&&await i3(u))}catch(n){console.error("Unexpected error syncing mutation:",n)}return await AD(),e},i3=async t=>{const e=await xD(t);if(e.length===0)return;const{data:r}=await Qe.from("snag_photos").select("photo_url").eq("snag_id",t),n=r?.length||0;if(n>=e.length){console.log(`Snag ${t} already has ${n} photos, skipping upload`);for(const i of e)i.id&&await B6(i.id);return}for(const i of e)try{const a=await vD(i.blob),o=i.filename.split(".").pop()||"jpg",s=`${t}/${Date.now()}-${Math.random().toString(36).slice(2)}.${o}`,l=Qe.storage.from("snag-photos"),{error:u}=await l.upload(s,a,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(u){console.warn("Photo upload failed",u.message);continue}const{data:f}=l.getPublicUrl(s);await Qe.from("snag_photos").insert({snag_id:t,photo_url:f.publicUrl}),i.id&&await B6(i.id)}catch(a){console.error("Failed to upload photo",a)}},AD=async()=>{const t=await xD(),e={};for(const r of t)e[r.snagId]||(e[r.snagId]=[]),e[r.snagId].push(r);for(const r in e)await i3(r)},Pce=t=>{const e=Oy(),r=se.useRef(e),n=se.useRef(!1);se.useEffect(()=>{r.current&&!e&&!n.current&&(n.current=!0,(async()=>{await new Promise(s=>setTimeout(s,1e3));try{console.log("Connection restored, syncing offline mutations..."),await SD(),console.log("Sync completed successfully"),t&&await t()}catch(s){console.error("Failed to sync mutations:",s)}finally{setTimeout(()=>{n.current=!1},5e3)}})()),r.current=e},[e,t])},Ece=()=>{const{projectId:t}=K6(),e=oc(),{user:r}=ol(),[n,i]=se.useState(null),[a,o]=se.useState([]),[s,l]=se.useState(!0),[u,f]=se.useState(null),[h,p]=se.useState(null),[g,y]=se.useState(!1),[b,v]=se.useState(!1),[w,S]=se.useState([]),[A,k]=se.useState(null),[j,O]=se.useState(null),[M,N]=se.useState(null),C=async()=>{try{const{data:$,error:F}=await Qe.from("projects").select("*").eq("id",t).single();if(F)throw F;i($||null)}catch($){console.error("Error fetching project:",$),N($.message||"Failed to load project")}finally{l(!1)}},H=async()=>{if(!t)return;const{data:$}=await Qe.from("snags").select("*").eq("project_id",t).order("created_at",{ascending:!0}),U=($||[]).filter(z=>!z.id.startsWith("offline-")).map((z,q)=>({...z,friendly_id:q+1}));o(U)};se.useEffect(()=>{C(),H()},[t]),Pce(()=>{console.log("Syncing complete, refreshing snags..."),H()});const[T,L]=se.useState([]);return se.useEffect(()=>{(async()=>{if(!n?.checklist_template_id)return;const{data:F}=await Qe.from("checklist_template_fields").select("*").eq("template_id",n.checklist_template_id);S(F||[])})()},[n?.checklist_template_id]),se.useEffect(()=>{(async()=>{const{data:F}=await Qe.from("profiles").select("*");L(F||[])})()},[]),se.useMemo(()=>{const $=a.length,F=a.reduce((z,q)=>{const G=q.status||"open";return z[G]=(z[G]||0)+1,z},{open:0,in_progress:0,completed:0,verified:0}),U=$?Math.round(F.verified/$*100):0;return{total:$,statusCounts:F,completedPct:U}},[a]),s?P.jsx("p",{className:"p-4 text-slate-700",children:"Loading project..."}):M?P.jsx("div",{className:"p-4",children:P.jsxs("div",{className:"rounded-lg bg-red-50 p-4 text-red-800",children:[P.jsx("h3",{className:"font-bold",children:"Error loading project"}),P.jsx("p",{children:M}),P.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 rounded bg-red-100 px-3 py-1 text-sm font-medium hover:bg-red-200",children:"Retry"})]})}):n?P.jsxs("div",{className:"space-y-4 w-full max-w-full overflow-x-hidden",children:[P.jsx(ose,{project:n,snags:a,action:P.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row",children:[P.jsx("button",{onClick:()=>e(`/projects/${t}/site`),className:"rounded-lg border border-slate-900 bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:"Site Mode"}),P.jsx("button",{onClick:()=>e("/projects"),className:"rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 hover:bg-slate-50",children:"Back to Projects"})]}),onEdit:()=>y(!0),onDelete:()=>v(!0)}),P.jsx("div",{className:"flex flex-col gap-4 lg:grid lg:grid-cols-3",children:P.jsx("div",{className:"lg:col-span-3 space-y-4"})}),P.jsx(Ole,{project:n,snags:a,editingSnag:h,onProjectUpdate:i,onSelectLocation:({x:$,y:F,page:U,planId:z})=>{h?O({x:$,y:F,page:U,planId:z}):k({x:$,y:F,page:U,planId:z})},readOnly:!0}),P.jsx(Sce,{project:n,snags:a,checklistFields:w,selected:u,editingSnag:h,createCoords:A,editCoords:j,onSelect:f,onEdit:p,onCoordsClear:()=>{O(null),k(null)},onSnagChange:H,contractors:T}),g&&P.jsx(Ace,{project:n,onClose:()=>y(!1),onUpdate:$=>i($)}),b&&P.jsx(_D,{project:n,onClose:()=>v(!1)})]}):P.jsx("p",{className:"p-4 text-slate-700",children:"Project not found."})},kce=10,Oce=({imageUri:t,pins:e,onPinPlaced:r,isPlacePinMode:n=!1})=>{const i=se.useRef(null),a=se.useRef(null),o=se.useRef({scale:1}),[s,l]=se.useState({width:1,height:1}),[u,f]=se.useState(100),h=se.useRef(null),p=se.useCallback((b,v)=>{b.clearRect(0,0,s.width,s.height);let w=0,S=0,A=s.width,k=s.height;if(v){const j=Math.min(s.width/v.width,s.height/v.height);A=v.width*j,k=v.height*j,w=(s.width-A)/2,S=(s.height-k)/2,b.drawImage(v,w,S,A,k)}b.fillStyle="#FFB300",e.forEach(j=>{b.beginPath();const O=w+j.x*A,M=S+j.y*k;b.arc(O,M,kce,0,Math.PI*2),b.fill()})},[e,s.height,s.width]);se.useEffect(()=>{const b=i.current;if(!b)return;const v=b.getContext("2d");if(!v)return;const w=new Image;return w.src=t,w.onload=()=>{h.current=w,p(v,w)},w.onerror=()=>{h.current=null,p(v,null)},()=>{w.onload=null,w.onerror=null}},[p,t]),se.useEffect(()=>{const b=i.current;if(!b)return;const v=b.getContext("2d");if(!v)return;const w=h.current;w&&w.complete&&p(v,w)},[p,t,s.height,s.width]),se.useEffect(()=>{const b=a.current;if(!b)return;const v=new ResizeObserver(w=>{const S=w[0];if(S){const{width:A,height:k}=S.contentRect;A>0&&k>0&&l({width:A,height:k})}});return v.observe(b),()=>v.disconnect()},[]);const g=se.useCallback(b=>{if(!n)return;const v=h.current;if(!v)return;const w=b.currentTarget.getBoundingClientRect(),S=b.clientX-w.left,A=b.clientY-w.top,k=Math.min(s.width/v.width,s.height/v.height),j=v.width*k,O=v.height*k,M=(s.width-j)/2,N=(s.height-O)/2,C=S-M,H=A-N,T=Math.max(0,Math.min(1,C/j)),L=Math.max(0,Math.min(1,H/O));r({x:T,y:L})},[n,r,s.height,s.width]),y=se.useMemo(()=>({width:"100%",height:"100%",display:"block"}),[]);return P.jsx(P7,{initialScale:1,minScale:.5,maxScale:5,centerOnInit:!0,wheel:{step:.15},doubleClick:{disabled:!1,step:.7},panning:{velocityDisabled:!0,disabled:!1},limitToBounds:!0,minPositionX:-100,minPositionY:-100,maxPositionX:100,maxPositionY:100,onZoom:b=>{o.current.scale=b.state.scale,f(Math.round(b.state.scale*100))},children:({zoomIn:b,zoomOut:v,resetTransform:w})=>P.jsxs("div",{ref:a,style:{width:"100%",height:"100%",position:"relative"},children:[P.jsx(E7,{wrapperStyle:{width:"100%",height:"100%"},children:P.jsx("canvas",{ref:i,width:s.width,height:s.height,style:y,onClick:g})}),P.jsxs("div",{style:{position:"absolute",bottom:16,left:16,display:"flex",gap:8,alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:8,padding:"8px 12px",zIndex:10},children:[P.jsx("button",{onClick:()=>v(.3),style:{width:32,height:32,borderRadius:4,backgroundColor:"#FFFFFF",border:"none",fontSize:18,fontWeight:"bold",cursor:"pointer",color:"#000000"},children:""}),P.jsxs("span",{style:{color:"#FFFFFF",fontSize:12,fontWeight:700,minWidth:40,textAlign:"center"},children:[u,"%"]}),P.jsx("button",{onClick:()=>b(.3),style:{width:32,height:32,borderRadius:4,backgroundColor:"#FFFFFF",border:"none",fontSize:18,fontWeight:"bold",cursor:"pointer",color:"#000000"},children:"+"}),P.jsx("button",{onClick:()=>w(),style:{height:32,paddingLeft:12,paddingRight:12,borderRadius:4,backgroundColor:"#FFFFFF",border:"none",fontSize:11,fontWeight:700,cursor:"pointer",color:"#000000"},children:"Reset"})]})]})})},jce=({isOpen:t,onClose:e,onSave:r,onVoiceToText:n,onPhotoCapture:i,photoCount:a=0,photoPreviews:o=[],onRemovePhoto:s})=>{const[l,u]=se.useState({});ge.useEffect(()=>{t||u({})},[t]);const f=()=>{r(l),e()},h=async()=>{const p=await n();p&&u(g=>({...g,description:g.description?`${g.description} ${p}`:p}))};return P.jsxs("div",{style:{display:t?"block":"none"},children:[P.jsx("div",{style:di.overlay,onClick:e}),P.jsxs("div",{style:di.sheet,children:[P.jsx("div",{style:di.header,children:"Quick Capture"}),P.jsx("input",{style:di.input,placeholder:"Title (optional)",onChange:p=>u(g=>({...g,title:p.target.value}))}),P.jsxs("div",{style:di.row,children:[P.jsx("input",{style:{...di.input,...di.flex},placeholder:"Description",onChange:p=>u(g=>({...g,description:p.target.value}))}),P.jsx("button",{style:di.voiceButton,onClick:h,children:"Voice"})]}),P.jsx("div",{style:di.row,children:["low","med","high","critical"].map(p=>P.jsx("button",{style:{...di.chip,...l.priority===p?di.chipSelected:{}},onClick:()=>u(g=>({...g,priority:p})),children:p.toUpperCase()},p))}),P.jsxs("button",{style:di.photoButton,onClick:i,children:["Add Photo ",a>0?`(${a})`:""]}),o.length>0&&P.jsx("div",{style:di.previewRow,children:o.map((p,g)=>P.jsxs("div",{style:di.previewItem,children:[P.jsx("img",{src:p,style:di.previewImage}),s&&P.jsx("button",{style:di.previewRemove,onClick:()=>s(g),children:""})]},`${p}-${g}`))}),P.jsxs("div",{style:di.footer,children:[P.jsx("button",{style:di.discardButton,onClick:e,children:"Discard"}),P.jsx("button",{style:di.saveButton,onClick:f,children:"Save"})]})]})]})},di={overlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.45)",zIndex:40},sheet:{position:"fixed",left:0,right:0,bottom:0,padding:16,backgroundColor:"#0A0A0A",borderTopLeftRadius:16,borderTopRightRadius:16,zIndex:50},header:{color:"#FFFFFF",fontSize:18,marginBottom:12},input:{height:52,borderRadius:8,borderWidth:2,borderStyle:"solid",borderColor:"#FFFFFF",padding:"0 12px",color:"#FFFFFF",backgroundColor:"transparent",marginBottom:12,width:"100%"},row:{display:"flex",alignItems:"center",gap:8,marginBottom:12},flex:{flex:1},voiceButton:{height:52,padding:"0 16px",backgroundColor:"#FFD400",color:"#0A0A0A",border:"none",borderRadius:8,fontWeight:700},chip:{height:44,padding:"0 10px",borderRadius:22,borderWidth:2,borderStyle:"solid",borderColor:"#FFFFFF",backgroundColor:"transparent",color:"#FFFFFF",fontSize:12,fontWeight:700},chipSelected:{backgroundColor:"#FFD400",borderColor:"#FFD400",color:"#0A0A0A"},photoButton:{height:52,borderRadius:8,backgroundColor:"#1C1C1C",borderWidth:2,borderStyle:"solid",borderColor:"#FFFFFF",color:"#FFFFFF",fontWeight:700,marginBottom:16},previewRow:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:16},previewItem:{position:"relative",width:72,height:72,borderRadius:8,overflow:"hidden",border:"2px solid #FFFFFF"},previewImage:{width:"100%",height:"100%",objectFit:"cover",display:"block"},previewRemove:{position:"absolute",top:4,right:4,width:20,height:20,borderRadius:999,backgroundColor:"#EF4444",border:"none",color:"#FFFFFF",fontSize:12,cursor:"pointer"},footer:{display:"flex",gap:12},discardButton:{flex:1,height:52,borderRadius:8,borderWidth:2,borderStyle:"solid",borderColor:"#FFFFFF",backgroundColor:"transparent",color:"#FFFFFF",fontWeight:700},saveButton:{flex:1,height:56,borderRadius:8,backgroundColor:"#FFD400",border:"none",color:"#0A0A0A",fontWeight:800}},Cce=({isOpen:t,onClose:e,items:r,counts:n,onSyncNow:i,onRetryFailed:a})=>t?P.jsxs("div",{children:[P.jsx("div",{style:Oi.overlay,onClick:e}),P.jsxs("div",{style:Oi.drawer,children:[P.jsxs("div",{style:Oi.header,children:[P.jsxs("div",{children:[P.jsx("div",{style:Oi.title,children:"Sync Queue"}),P.jsxs("div",{style:Oi.subTitle,children:[n.queued+n.syncing+n.failed," pending  ",n.failed," failed"]})]}),P.jsx("button",{style:Oi.closeButton,onClick:e,children:""})]}),P.jsxs("div",{style:Oi.controls,children:[P.jsx("button",{style:Oi.primaryButton,onClick:i,children:"Sync now"}),P.jsx("button",{style:Oi.secondaryButton,onClick:a,children:"Retry failed"})]}),P.jsxs("div",{style:Oi.list,children:[r.length===0&&P.jsx("div",{style:Oi.empty,children:"No queued changes."}),r.map(o=>P.jsxs("div",{style:Oi.item,children:[P.jsxs("div",{children:[P.jsxs("div",{style:Oi.itemTitle,children:[o.action.toUpperCase(),"  ",o.entity]}),P.jsx("div",{style:Oi.itemMeta,children:o.entityId})]}),P.jsx("span",{style:{...Oi.badge,...o.status==="failed"?Oi.badgeFailed:o.status==="syncing"?Oi.badgeSyncing:Oi.badgeQueued},children:o.status})]},o.id))]})]})]}):null,Oi={overlay:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.4)",zIndex:60},drawer:{position:"fixed",right:0,top:0,height:"100%",width:"min(420px, 90vw)",backgroundColor:"#0A0A0A",borderLeft:"1px solid #1f2937",padding:16,zIndex:70,display:"flex",flexDirection:"column",gap:12},header:{display:"flex",justifyContent:"space-between",alignItems:"center"},title:{color:"#FFFFFF",fontSize:18,fontWeight:700},subTitle:{color:"#94a3b8",fontSize:12},closeButton:{background:"transparent",border:"none",color:"#FFFFFF",fontSize:18,cursor:"pointer"},controls:{display:"flex",gap:8},primaryButton:{flex:1,height:48,backgroundColor:"#FACC15",border:"none",borderRadius:8,fontWeight:700,cursor:"pointer"},secondaryButton:{flex:1,height:48,border:"2px solid #FACC15",backgroundColor:"transparent",color:"#FACC15",borderRadius:8,fontWeight:700,cursor:"pointer"},list:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:8},item:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,borderRadius:8,border:"1px solid #1f2937",backgroundColor:"#111827"},itemTitle:{color:"#FFFFFF",fontSize:12,fontWeight:700},itemMeta:{color:"#94a3b8",fontSize:11},badge:{padding:"4px 8px",borderRadius:999,fontSize:11,fontWeight:700,textTransform:"capitalize"},badgeQueued:{backgroundColor:"#475569",color:"#FFFFFF"},badgeSyncing:{backgroundColor:"#2563eb",color:"#FFFFFF"},badgeFailed:{backgroundColor:"#ef4444",color:"#FFFFFF"},empty:{color:"#94a3b8",fontSize:12,border:"1px dashed #334155",borderRadius:8,padding:12}},Nce="bpas-site-mode",Tce=1,Lce=bD(Nce,Tce,{upgrade(t){if(!t.objectStoreNames.contains("snags")){const e=t.createObjectStore("snags",{keyPath:"id"});e.createIndex("project_id","projectId"),e.createIndex("local_status","localStatus")}if(!t.objectStoreNames.contains("sync_queue")){const e=t.createObjectStore("sync_queue",{keyPath:"id"});e.createIndex("status","status"),e.createIndex("entity_id","entityId"),e.createIndex("created_at","createdAt")}}}).then(t=>(console.log("[SiteMode] IndexedDB initialized successfully"),t)).catch(t=>{throw console.error("[SiteMode] IndexedDB initialization failed:",t),t}),Mo=()=>Lce,Ice=()=>({snags:{upsert:async r=>{try{await(await Mo()).put("snags",r),console.log("[SiteMode] Snag upserted:",r.id)}catch(n){throw console.error("[SiteMode] Error upserting snag:",n),n}},listByProject:async r=>{try{const a=await(await Mo()).transaction("snags").store.index("project_id").getAll(r);return console.log(`[SiteMode] Listed ${a.length} snags for project ${r}`),a.sort((o,s)=>o.createdAt-s.createdAt)}catch(n){return console.error("[SiteMode] Error listing snags by project:",n),[]}},markSynced:async(r,n)=>{try{const i=await Mo(),a=await i.get("snags",r);if(!a){console.warn("[SiteMode] Snag not found for marking synced:",r);return}await i.put("snags",{...a,localStatus:"synced",updatedAt:n??a.updatedAt}),console.log("[SiteMode] Snag marked as synced:",r)}catch(i){throw console.error("[SiteMode] Error marking snag as synced:",i),i}},markFailed:async r=>{try{const n=await Mo(),i=await n.get("snags",r);if(!i)return;await n.put("snags",{...i,localStatus:"failed"}),console.log("[SiteMode] Snag marked as failed:",r)}catch(n){throw console.error("[SiteMode] Error marking snag as failed:",n),n}}},queue:{enqueue:async r=>{try{await(await Mo()).put("sync_queue",r),console.log("[SiteMode] Queue item enqueued:",r.id,r.action,r.entityId)}catch(n){throw console.error("[SiteMode] Error enqueueing item:",n),n}},fetchQueued:async()=>{try{const i=await(await Mo()).transaction("sync_queue").store.index("status").getAll("queued");return console.log(`[SiteMode] Fetched ${i.length} queued items`),i.sort((a,o)=>a.createdAt-o.createdAt)}catch(r){return console.error("[SiteMode] Error fetching queued items:",r),[]}},listAll:async()=>{try{const n=await(await Mo()).getAll("sync_queue");return console.log(`[SiteMode] Listed all ${n.length} queue items`),n.sort((i,a)=>i.createdAt-a.createdAt)}catch(r){return console.error("[SiteMode] Error listing all queue items:",r),[]}},listByStatus:async r=>{try{const a=await(await Mo()).transaction("sync_queue").store.index("status").getAll(r);return console.log(`[SiteMode] Listed ${a.length} queue items with status "${r}"`),a.sort((o,s)=>o.createdAt-s.createdAt)}catch(n){return console.error(`[SiteMode] Error listing queue items by status "${r}":`,n),[]}},markSyncing:async r=>{try{const n=await Mo(),i=await n.get("sync_queue",r);if(!i){console.warn("[SiteMode] Queue item not found for marking syncing:",r);return}await n.put("sync_queue",{...i,status:"syncing",errorMessage:void 0}),console.log("[SiteMode] Queue item marked as syncing:",r)}catch(n){throw console.error("[SiteMode] Error marking queue item as syncing:",n),n}},markFailed:async(r,n)=>{try{const i=await Mo(),a=await i.get("sync_queue",r);if(!a){console.warn("[SiteMode] Queue item not found for marking failed:",r);return}await i.put("sync_queue",{...a,status:"failed",errorMessage:n}),console.log("[SiteMode] Queue item marked as failed:",r,n)}catch(i){throw console.error("[SiteMode] Error marking queue item as failed:",i),i}},remove:async r=>{try{await(await Mo()).delete("sync_queue",r),console.log("[SiteMode] Queue item removed:",r)}catch(n){throw console.error("[SiteMode] Error removing queue item:",n),n}},countPending:async()=>{try{const n=(await Mo()).transaction("sync_queue").store.index("status"),i=await n.getAll("queued"),a=await n.getAll("syncing"),o=await n.getAll("failed"),s={queued:i.length,syncing:a.length,failed:o.length};return console.log("[SiteMode] Queue counts:",s),s}catch(r){return console.error("[SiteMode] Error counting pending items:",r),{queued:0,syncing:0,failed:0}}}}}),Rce=({queueRepo:t,snagRepo:e,api:r,isOnline:n,uploadPendingPhotosForSnag:i,uploadAllPendingPhotos:a,intervalMs:o=5e3})=>{let s=null,l=!1;const u=async()=>{if(!(l||!await n())){l=!0;try{const g=await t.fetchQueued();for(const y of g){await t.markSyncing(y.id);try{const b=JSON.parse(y.payloadJson);if(y.action==="create"){const v=await r.createSnag(b);await e.markSynced(y.entityId,v.updatedAt),i&&await i(y.entityId)}else if(y.action==="update"){const v=await r.updateSnag(y.entityId,b);await e.markSynced(y.entityId,v.updatedAt)}else y.action==="delete"&&await r.deleteSnag(y.entityId);await t.remove(y.id)}catch(b){const v=b instanceof Error?b.message:"Sync failed";await t.markFailed(y.id,v),await e.markFailed(y.entityId)}}}finally{l=!1}a&&await a()}};return{start:()=>{s||(s=setInterval(u,o),u())},stop:()=>{s&&(clearInterval(s),s=null)},processQueueOnce:u}},Mce={async createSnag(t){const{data:e,error:r}=await Qe.from("snags").insert(t).select("id, created_at").single();if(r)throw r;return{id:e.id,updatedAt:new Date(e.created_at).getTime()}},async updateSnag(t,e){const{data:r,error:n}=await Qe.from("snags").update(e).eq("id",t).select("created_at").single();if(n)throw n;return{updatedAt:new Date(r.created_at).getTime()}},async deleteSnag(t){const{error:e}=await Qe.from("snags").delete().eq("id",t);if(e)throw e}},gp=()=>{if(typeof crypto<"u"&&"randomUUID"in crypto)return crypto.randomUUID();const t=()=>Math.floor((1+Math.random())*65536).toString(16).slice(1);return`${t()}${t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`},n0=t=>t==="med"||!t?"medium":t,Dce=()=>{const{projectId:t}=K6(),e=oc(),[r,n]=ge.useState(null),[i,a]=ge.useState(null),[o,s]=ge.useState(null),[l,u]=ge.useState([]),[f,h]=ge.useState([]),[p,g]=ge.useState({queued:0,syncing:0,failed:0}),[y,b]=ge.useState(!1),[v,w]=ge.useState(!1),[S,A]=ge.useState(null),[k,j]=ge.useState(null),[O,M]=ge.useState(null),[N,C]=ge.useState(navigator.onLine),[H,T]=ge.useState(!1),[L,$]=ge.useState([]),[F,U]=ge.useState([]),[z,q]=ge.useState([]),G=ge.useRef(null),K=ge.useRef(null),[te,X]=ge.useState(!1),[D,Y]=ge.useState(new Set),[J,ee]=ge.useState(null),[ue,me]=ge.useState([]),[fe,le]=ge.useState([]),ve=ge.useMemo(()=>Ice(),[]),Ae=ge.useCallback(async()=>{if(!t)return;const ke=await ve.snags.listByProject(t);h(ke)},[t,ve.snags]),be=ge.useCallback(async()=>{const ke=await ve.queue.countPending();g(ke)},[ve.queue]),De=ge.useCallback(async()=>{const ke=await ve.queue.listAll();$(ke)},[ve.queue]);ge.useEffect(()=>{if(!t)return;const ke=async()=>{try{const{data:st}=await Qe.from("projects").select("*").eq("id",t).single();n(st||null)}catch(st){console.error("[SiteMode] Error fetching project:",st),M("Failed to load project")}},qe=async()=>{try{const{data:st}=await Qe.from("project_plans").select("*").eq("project_id",t).order("order",{ascending:!0}),Nt=st||[];u(Nt),Nt.length>0&&(a(Nt[0].id),s(Nt[0].url))}catch(st){console.error("[SiteMode] Error fetching plans:",st),M("Failed to load plans")}},ze=async()=>{try{await Ae(),await be(),await De(),console.log("[SiteMode] Local data loaded successfully")}catch(st){console.error("[SiteMode] Error loading local data:",st),M("Failed to load offline data")}};ke(),qe(),ze()},[t,be,De,Ae]),ge.useEffect(()=>{const ke=window.setInterval(()=>{be(),De()},5e3);return()=>window.clearInterval(ke)},[be,De]),ge.useEffect(()=>{const ke=()=>C(!0),qe=()=>C(!1);return window.addEventListener("online",ke),window.addEventListener("offline",qe),()=>{window.removeEventListener("online",ke),window.removeEventListener("offline",qe)}},[]),ge.useEffect(()=>{const ke=Rce({queueRepo:ve.queue,snagRepo:ve.snags,api:Mce,isOnline:async()=>navigator.onLine,uploadPendingPhotosForSnag:i3,uploadAllPendingPhotos:AD,intervalMs:7e3});return K.current=ke,ke.start(),()=>{ke.stop(),K.current=null}},[ve.queue,ve.snags]),ge.useEffect(()=>{if(!O)return;const ke=window.setTimeout(()=>M(null),2e3);return()=>window.clearTimeout(ke)},[O]);const Ee=async ke=>{if(k){const qe=f.find(st=>st.id===k);if(!qe)return;const ze={...qe,coordinates:ke,planId:i,localStatus:"queued",updatedAt:Date.now()};await ve.snags.upsert(ze),await Ve(qe,{plan_x:ke.x,plan_y:ke.y,plan_page:1,plan_id:i}),await Ae(),j(null),w(!1),M("Pin saved");return}A(ke),b(!0),w(!1)},ce=async ke=>{if(J){await Ye(ke);return}if(!t)return;const qe=Date.now(),ze=gp(),st={id:ze,projectId:t,title:ke.title?.trim()||"Untitled snag",description:ke.description?.trim(),assigneeId:ke.assigneeId,status:"open",planId:i,coordinates:S||void 0,localStatus:"queued",createdAt:qe,updatedAt:qe,metadataJson:JSON.stringify({priority:n0(ke.priority)})},lt={...{project_id:t,title:st.title,description:st.description??null,assigned_to:st.assigneeId??null,status:st.status??"open",priority:n0(ke.priority),plan_x:st.coordinates?.x??null,plan_y:st.coordinates?.y??null,plan_page:1,plan_id:i},id:ze},Mt={id:gp(),entity:"snag",entityId:ze,action:"create",payloadJson:JSON.stringify(lt),status:"queued",createdAt:qe};await ve.snags.upsert(st),await ve.queue.enqueue(Mt);for(const lr of F)await _S(ze,lr,lr.name);await Ae(),await be(),await De(),A(null),U([]),q([]),M("Saved  queued")},at=async()=>{const ke=window.SpeechRecognition||window.webkitSpeechRecognition;return ke?new Promise(qe=>{const ze=new ke;ze.lang="en-US",ze.interimResults=!1,ze.maxAlternatives=1,ze.onresult=st=>qe(st.results?.[0]?.[0]?.transcript??null),ze.onerror=()=>qe(null),ze.start()}):window.prompt("Voice unavailable. Type a description instead.")??null},Ze=ke=>{ee(ke.id),me([]),le([]),b(!0)},Ye=async ke=>{if(!J)return;const qe=f.find(Nt=>Nt.id===J);if(!qe)return;const ze={...qe,title:ke.title?.trim()||qe.title,description:ke.description?.trim(),assigneeId:ke.assigneeId,updatedAt:Date.now(),metadataJson:JSON.stringify({priority:n0(ke.priority)})},st={title:ze.title,description:ze.description??null,assigned_to:ze.assigneeId??null,priority:n0(ke.priority)};await ve.snags.upsert(ze),await Ve(qe,st);for(const Nt of ue)await _S(J,Nt,Nt.name);await Ae(),ee(null),me([]),le([]),b(!1),M("Updated  queued")},Be=async ke=>{if(!confirm("Delete this snag? This cannot be undone."))return;const qe={...ke,localStatus:"queued",updatedAt:Date.now()},ze={id:gp(),entity:"snag",entityId:ke.id,action:"delete",payloadJson:JSON.stringify({id:ke.id}),status:"queued",createdAt:Date.now()};await ve.snags.upsert(qe),await ve.queue.enqueue(ze),await Ae(),await be(),await De(),M("Deleted  queued")},tt=f.filter(ke=>ke.coordinates?i?!ke.planId||ke.planId===i:!0:!1).map(ke=>({id:ke.id,x:ke.coordinates.x,y:ke.coordinates.y})),Ve=async(ke,qe)=>{const ze=Date.now(),st={id:gp(),entity:"snag",entityId:ke.id,action:"update",payloadJson:JSON.stringify(qe),status:"queued",createdAt:ze};await ve.queue.enqueue(st),await be(),await De()},ut=async(ke,qe)=>{const ze={...ke,status:qe,localStatus:"queued",updatedAt:Date.now()};await ve.snags.upsert(ze),await Ve(ke,{status:qe}),await Ae()},rt=ke=>{Y(qe=>{const ze=new Set(qe);return ze.has(ke)?ze.delete(ke):ze.add(ke),ze})},ft=()=>Y(new Set),ct=async ke=>{const qe=f.filter(ze=>D.has(ze.id));if(qe.length!==0){for(const ze of qe)await ut(ze,ke);ft(),X(!1)}},kt=()=>{G.current?.click()},nr=ke=>{const qe=ke.target.files?Array.from(ke.target.files):[];qe.length!==0&&(U(ze=>[...ze,...qe]),q(ze=>[...ze,...qe.map(st=>URL.createObjectURL(st))]),ke.target.value="")},pt=ke=>{U(qe=>qe.filter((ze,st)=>st!==ke)),q(qe=>{const ze=qe.filter((Nt,lt)=>lt!==ke),st=qe[ke];return st&&URL.revokeObjectURL(st),ze})};return ge.useEffect(()=>()=>{z.forEach(ke=>URL.revokeObjectURL(ke))},[z]),P.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[P.jsxs("div",{className:"sticky top-0 z-20 flex items-center justify-between border-b border-slate-800 bg-slate-950/95 px-4 py-3 backdrop-blur",children:[P.jsxs("div",{className:"flex items-center gap-3",children:[P.jsx("button",{onClick:()=>e(`/projects/${t}`),className:"rounded-lg border border-slate-700 px-3 py-2 text-sm font-semibold",children:"Back"}),P.jsxs("div",{children:[P.jsx("div",{className:"text-sm text-slate-400",children:"Site Mode"}),P.jsx("div",{className:"text-base font-semibold",children:r?.name??"Project"})]})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsxs("button",{onClick:()=>T(!0),className:`rounded-full px-3 py-1 text-sm font-semibold ${N?"bg-emerald-600":"bg-amber-500"}`,children:[N?"Online":"Offline","  ",p.queued+p.syncing+p.failed," pending"]}),P.jsx("button",{onClick:()=>{Ae(),be(),De(),M("Data reloaded")},className:"rounded-full bg-slate-700 px-3 py-1 text-sm font-semibold hover:bg-slate-600",title:"Reload local data from IndexedDB",children:""}),p.failed>0&&P.jsxs("div",{className:"rounded-full bg-red-500 px-3 py-1 text-sm font-semibold",children:[p.failed," failed"]})]})]}),P.jsxs("div",{className:"grid gap-4 p-4 lg:grid-cols-[2fr_1fr]",children:[P.jsxs("div",{className:"relative h-[60vh] rounded-2xl border border-slate-800 bg-slate-900",children:[l.length>1&&P.jsx("div",{className:"absolute left-4 top-4 z-10 flex gap-2 overflow-x-auto rounded-full bg-black/40 p-2",children:l.map(ke=>P.jsx("button",{onClick:()=>{a(ke.id),s(ke.url)},className:`whitespace-nowrap rounded-full px-3 py-1 text-xs font-semibold ${ke.id===i?"bg-yellow-400 text-slate-900":"border border-slate-500 text-slate-200"}`,children:ke.name||"Plan"},ke.id))}),P.jsx(Oce,{imageUri:o||r?.plan_image_url||"/brand/logo-light.png",pins:tt,isPlacePinMode:v,onPinPlaced:Ee}),v&&P.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center bg-black/40 text-lg font-semibold",children:"Tap to place a pin"}),P.jsxs("div",{className:"absolute bottom-4 right-4 flex flex-col gap-2",children:[P.jsx("button",{onClick:()=>{w(!0),b(!1),j(null)},className:"h-14 w-14 rounded-full bg-yellow-400 text-2xl font-bold text-slate-900 shadow-lg",children:"+"}),P.jsx("button",{onClick:()=>{A(null),b(!0),w(!1)},className:"rounded-full border-2 border-yellow-400 px-4 py-2 text-sm font-semibold",children:"Quick snag"})]})]}),P.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900 p-4",children:[P.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[P.jsx("div",{className:"text-lg font-semibold",children:"Snags"}),P.jsx("button",{className:`rounded-full border px-3 py-1 text-xs font-semibold ${te?"border-yellow-400 text-yellow-300":"border-slate-600 text-slate-300"}`,onClick:()=>{X(ke=>!ke),ft()},children:te?"Exit bulk":"Bulk select"})]}),P.jsxs("div",{className:"space-y-3",children:[f.length===0&&P.jsx("div",{className:"rounded-lg border border-dashed border-slate-700 p-4 text-sm text-slate-400",children:"No local snags yet."}),f.map(ke=>P.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-950 p-3",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center gap-2",children:[te&&P.jsx("input",{type:"checkbox",checked:D.has(ke.id),onChange:()=>rt(ke.id),className:"h-4 w-4 accent-yellow-400"}),P.jsx("div",{className:"text-sm font-semibold",children:ke.title})]}),P.jsxs("div",{className:"flex items-center gap-2",children:[P.jsx("span",{className:"rounded-full border border-slate-700 px-2 py-0.5 text-[10px] font-semibold text-slate-300",children:(ke.status??"open").replace("_"," ")}),P.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs ${ke.localStatus==="failed"?"bg-red-500":ke.localStatus==="syncing"?"bg-blue-500":ke.localStatus==="queued"?"bg-slate-600":"bg-emerald-600"}`,children:ke.localStatus})]})]}),P.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs text-slate-400",children:[P.jsx("span",{children:ke.coordinates?"Pinned":"Needs pin"}),!ke.coordinates&&P.jsx("button",{className:"rounded-full border border-yellow-400 px-2 py-1 text-[10px] font-semibold text-yellow-300",onClick:()=>{w(!0),A(null),j(ke.id)},children:"Place on plan"})]}),!te&&P.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[(ke.status??"open")!=="completed"&&(ke.status??"open")!=="verified"&&P.jsx("button",{className:"h-11 rounded-lg bg-emerald-500 px-3 text-xs font-bold text-slate-900",onClick:()=>ut(ke,"completed"),children:"Mark Complete"}),(ke.status??"open")==="completed"&&P.jsx("button",{className:"h-11 rounded-lg bg-sky-400 px-3 text-xs font-bold text-slate-900",onClick:()=>ut(ke,"verified"),children:"Verify"}),(ke.status??"open")!=="open"&&P.jsx("button",{className:"h-11 rounded-lg border-2 border-slate-500 px-3 text-xs font-bold text-slate-200",onClick:()=>ut(ke,"open"),children:"Reopen"}),P.jsx("button",{className:"h-11 rounded-lg bg-blue-600 px-3 text-xs font-bold text-white hover:bg-blue-700",onClick:()=>Ze(ke),children:"Edit"}),P.jsx("button",{className:"h-11 rounded-lg bg-red-600 px-3 text-xs font-bold text-white hover:bg-red-700",onClick:()=>Be(ke),children:"Delete"})]})]},ke.id))]})]})]}),te&&P.jsxs("div",{className:"fixed bottom-4 left-1/2 z-50 flex -translate-x-1/2 items-center gap-2 rounded-full border border-slate-700 bg-slate-900 px-4 py-2 shadow-lg",children:[P.jsxs("span",{className:"text-xs text-slate-300",children:[D.size," selected"]}),P.jsx("button",{className:"h-10 rounded-full bg-emerald-400 px-3 text-xs font-bold text-slate-900",onClick:()=>ct("completed"),children:"Complete"}),P.jsx("button",{className:"h-10 rounded-full bg-sky-400 px-3 text-xs font-bold text-slate-900",onClick:()=>ct("verified"),children:"Verify"}),P.jsx("button",{className:"h-10 rounded-full border border-slate-500 px-3 text-xs font-bold text-slate-100",onClick:()=>ct("open"),children:"Reopen"}),P.jsx("button",{className:"h-10 rounded-full border border-slate-500 px-3 text-xs font-bold text-slate-100",onClick:()=>{ft(),X(!1)},children:"Done"})]}),O&&P.jsx("div",{className:"fixed bottom-6 left-1/2 z-50 -translate-x-1/2 rounded-full bg-emerald-500 px-4 py-2 text-sm font-semibold text-slate-900 shadow-lg",children:O}),P.jsx(jce,{isOpen:y,onClose:()=>{b(!1),ee(null),me([]),le([])},onSave:ce,onVoiceToText:at,onPhotoCapture:kt,photoCount:J?ue.length:F.length,photoPreviews:J?fe:z,onRemovePhoto:ke=>{J?(me(qe=>qe.filter((ze,st)=>st!==ke)),le(qe=>{const ze=qe.filter((Nt,lt)=>lt!==ke),st=qe[ke];return st&&URL.revokeObjectURL(st),ze})):pt(ke)}}),P.jsx("input",{ref:G,type:"file",accept:"image/*",multiple:!0,onChange:nr,style:{display:"none"}}),P.jsx(Cce,{isOpen:H,onClose:()=>T(!1),items:L,counts:p,onSyncNow:async()=>{await K.current?.processQueueOnce(),await be(),await De()},onRetryFailed:async()=>{const ke=await ve.queue.listByStatus("failed");await Promise.all(ke.map(qe=>ve.queue.enqueue({...qe,id:gp(),status:"queued",createdAt:Date.now()}))),await Promise.all(ke.map(qe=>ve.queue.remove(qe.id))),await be(),await De()}})]})},Fce=({project:t,openSnagCount:e=0})=>{const[r,n]=se.useState(!1),i=a=>{a.preventDefault(),a.stopPropagation(),n(!0)};return P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"relative group flex flex-col rounded-xl border border-slate-200 bg-white p-4 shadow-sm transition hover:-translate-y-1 hover:shadow-md",children:[P.jsxs(yf,{to:`/projects/${t.id}`,className:"flex flex-col flex-1",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:t.client_name||"Client TBD"}),P.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:t.name})]}),P.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold shadow-sm ${t.status==="archived"?"bg-slate-200 text-slate-700":"bg-bpas-yellow text-bpas-black"}`,children:t.status||"active"})]}),P.jsx("p",{className:"mt-2 text-sm text-slate-600",children:t.address||"No site address yet"}),P.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-slate-600",children:[P.jsxs("p",{children:["Open snags: ",e]}),P.jsxs("p",{children:[t.start_date||"TBD","  ",t.end_date||"TBD"]})]})]}),t.status==="archived"&&P.jsx("button",{onClick:i,className:"absolute top-2 right-2 p-2 text-red-400 hover:text-red-600 bg-white rounded-full shadow-sm hover:shadow-md transition-all opacity-0 group-hover:opacity-100",title:"Delete Project",children:P.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[P.jsx("path",{d:"M3 6h18"}),P.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),P.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),P.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]}),r&&P.jsx(_D,{project:t,onClose:()=>n(!1)})]})},Bce=()=>{const{user:t,profile:e}=ol(),[r,n]=se.useState([]),[i,a]=se.useState({}),[o,s]=se.useState({name:""}),[l,u]=se.useState(!1),[f,h]=se.useState(null),p=async()=>{try{const{data:b,error:v}=await Qe.from("projects").select("*").order("created_at",{ascending:!1});if(v)throw v;n(b||[])}catch(b){console.error("Error fetching projects:",b),h(b.message||"Failed to load projects")}const{data:y}=await Qe.from("snags").select("project_id, status").neq("status","verified");if(y){const b={};y.forEach(v=>{b[v.project_id]=(b[v.project_id]||0)+1}),a(b)}};se.useEffect(()=>{p()},[]);const g=async y=>{if(y.preventDefault(),!o.name||!t)return;u(!0),h(null),e||await Qe.from("profiles").upsert({id:t.id,full_name:t.user_metadata?.full_name||t.email?.split("@")[0]||"User",role:t.user_metadata?.role||"architect"});const{error:b}=await Qe.from("projects").insert({name:o.name,client_name:o.client_name,address:o.address,start_date:o.start_date,end_date:o.end_date,status:"active",created_by:t.id,project_number:o.project_number,inspection_type:o.inspection_type,inspection_scope:o.inspection_scope,inspection_description:o.inspection_description});b&&h(b.message),await p(),s({name:"",client_name:"",address:"",start_date:"",end_date:""}),u(!1)};return P.jsxs("div",{className:"space-y-4",children:[P.jsx("div",{className:"card bg-white/90 p-4",children:P.jsxs("div",{className:"space-y-3",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-bpas-grey font-syne",children:"Projects"}),P.jsx("h3",{className:"text-xl font-syne font-semibold text-bpas-black",children:"Create new project"}),P.jsx("span",{className:"section-accent"})]}),P.jsxs("form",{onSubmit:g,className:"grid gap-2 sm:grid-cols-2 md:grid-cols-3",children:[P.jsx("input",{value:o.name||"",onChange:y=>s(b=>({...b,name:y.target.value})),placeholder:"Project name",className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 text-sm focus:border-bpas-yellow focus:outline-none"}),P.jsx("input",{value:o.client_name||"",onChange:y=>s(b=>({...b,client_name:y.target.value})),placeholder:"Client",className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 text-sm focus:border-bpas-yellow focus:outline-none"}),P.jsx("input",{value:o.address||"",onChange:y=>s(b=>({...b,address:y.target.value})),placeholder:"Address",className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 text-sm focus:border-bpas-yellow focus:outline-none"}),P.jsxs("div",{className:"space-y-1",children:[P.jsx("label",{className:"text-xs font-medium text-slate-500",children:"Start Date"}),P.jsx("input",{type:"date",value:o.start_date||"",onChange:y=>s(b=>({...b,start_date:y.target.value})),className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 text-sm focus:border-bpas-yellow focus:outline-none"})]}),P.jsxs("div",{className:"space-y-1",children:[P.jsx("label",{className:"text-xs font-medium text-slate-500",children:"End Date"}),P.jsx("input",{type:"date",value:o.end_date||"",onChange:y=>s(b=>({...b,end_date:y.target.value})),className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 text-sm focus:border-bpas-yellow focus:outline-none"})]}),P.jsx("input",{value:o.project_number||"",onChange:y=>s(b=>({...b,project_number:y.target.value})),placeholder:"Project Number",className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 text-sm focus:border-bpas-yellow focus:outline-none"}),P.jsx("input",{value:o.inspection_type||"",onChange:y=>s(b=>({...b,inspection_type:y.target.value})),placeholder:"Inspection Type (e.g. Practical Completion)",className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 text-sm focus:border-bpas-yellow focus:outline-none"}),P.jsxs("select",{value:o.inspection_scope||"",onChange:y=>s(b=>({...b,inspection_scope:y.target.value})),className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 text-sm focus:border-bpas-yellow focus:outline-none",children:[P.jsx("option",{value:"",children:"Select Scope"}),P.jsx("option",{value:"Internal",children:"Internal"}),P.jsx("option",{value:"External",children:"External"}),P.jsx("option",{value:"Both",children:"Both"})]}),P.jsx("textarea",{value:o.inspection_description||"",onChange:y=>s(b=>({...b,inspection_description:y.target.value})),placeholder:"Inspection Description / Scope",className:"w-full rounded-lg border border-bpas-grey/30 bg-bpas-light px-3 py-2 text-sm focus:border-bpas-yellow focus:outline-none sm:col-span-2 md:col-span-3",rows:2}),P.jsx("button",{type:"submit",disabled:l,className:"btn-primary",children:l?"Creating...":"Create project"})]}),f&&P.jsx("p",{className:"text-sm text-rose-600",children:f})]})}),P.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[r.map(y=>P.jsx(Fce,{project:y,openSnagCount:i[y.id]||0},y.id)),r.length===0&&P.jsx("p",{className:"text-sm text-slate-600",children:"No projects yet."})]})]})},$ce=()=>{const[t,e]=se.useState([]),[r,n]=se.useState(null),[i,a]=se.useState(""),o=async()=>{try{if(!("caches"in window)){n("Cache API not supported");return}const f=await(await caches.open("api-cache")).keys();e(f.map(h=>h.url))}catch(u){n(u.message)}};se.useEffect(()=>{o()},[]);const s=async()=>{a("Testing...");try{const u="your_url_here/rest/v1/projects?select=*&limit=1",h=JSON.parse(localStorage.getItem("sb-"+"your_url_here".split("//")[1].split(".")[0]+"-auth-token")||"{}")?.access_token;if(!h){a("No auth token found. Login first.");return}const p=await fetch(u,{headers:{apikey:"Your_anon_key_here",Authorization:`Bearer ${h}`}});p.ok?(a(`Fetch success: ${p.status}. Checking cache...`),setTimeout(o,1e3)):a(`Fetch failed: ${p.status}`)}catch(u){a(`Error: ${u.message}`)}},l=async u=>{a(`Testing URL: ${u}...`);try{const h=await(await caches.open("api-cache")).match(u,{ignoreVary:!0,ignoreSearch:!1});if(h){a(` Cache Match Found! Status: ${h.status}`);try{const p=await fetch(u,{cache:"no-store"});a(g=>`${g} |  Fetch Success: ${p.status} (from ${p.type})`)}catch(p){a(g=>`${g} |  Fetch Failed: ${p.message}`)}}else a(" No Cache Match (caches.match failed)")}catch(f){a(`Error: ${f.message}`)}};return P.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg overflow-auto max-h-96 text-xs font-mono",children:[P.jsxs("div",{className:"flex justify-between items-center mb-2",children:[P.jsx("h3",{className:"font-bold",children:"Cache Debugger (api-cache)"}),P.jsx("button",{onClick:s,className:"px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Test Write"})]}),i&&P.jsx("div",{className:"mb-2 p-2 bg-white border border-blue-200 rounded text-blue-800 break-words",children:i}),r&&P.jsx("p",{className:"text-red-500",children:r}),P.jsxs("p",{className:"mb-2",children:["Total entries: ",t.length]}),P.jsx("ul",{className:"space-y-1",children:t.map((u,f)=>P.jsxs("li",{className:"break-all border-b border-gray-200 pb-1 flex justify-between items-start gap-2",children:[P.jsx("span",{children:u}),P.jsx("button",{onClick:()=>l(u),className:"shrink-0 px-2 py-0.5 bg-gray-200 hover:bg-gray-300 rounded text-[10px]",children:"Check"})]},f))})]})},Uce=()=>{const{signOut:t,user:e,profile:r}=ol();return P.jsxs("div",{className:"space-y-6",children:[P.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm border border-bpas-grey/20",children:[P.jsx("h2",{className:"text-xl font-syne font-semibold text-bpas-black mb-4",children:"Account Settings"}),P.jsxs("div",{className:"space-y-4",children:[P.jsxs("div",{children:[P.jsx("label",{className:"text-xs uppercase tracking-wide text-bpas-grey font-syne",children:"Email"}),P.jsx("p",{className:"text-bpas-black font-medium",children:e?.email})]}),P.jsxs("div",{children:[P.jsx("label",{className:"text-xs uppercase tracking-wide text-bpas-grey font-syne",children:"Role"}),P.jsx("p",{className:"text-bpas-black font-medium capitalize",children:r?.role||"User"})]}),P.jsx("div",{className:"pt-4",children:P.jsx("button",{onClick:()=>t(),className:"rounded-lg bg-rose-50 px-4 py-2 text-sm font-medium text-rose-600 hover:bg-rose-100 transition-colors",children:"Sign out"})})]})]}),P.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm border border-bpas-grey/20",children:[P.jsx("h2",{className:"text-xl font-syne font-semibold text-bpas-black mb-4",children:"Diagnostics"}),P.jsx($ce,{})]})]})},qce=()=>{const[t,e]=se.useState([]),[r,n]=se.useState({}),i=async()=>{const{data:o}=await Qe.from("project_reports").select("*").order("generated_at",{ascending:!1});e(o||[])};se.useEffect(()=>{const o=()=>{i()};return i(),window.addEventListener("report:created",o),()=>window.removeEventListener("report:created",o)},[]),se.useEffect(()=>{(async()=>{const{data:s}=await Qe.from("projects").select("*"),l={};s?.forEach(u=>{l[u.id]=u}),n(l)})()},[]);const a=async o=>{if(confirm("Are you sure you want to delete this report?"))try{const l=new URL(o.file_url).pathname.split("/project-reports/")[1];if(l){const{error:f}=await Qe.storage.from("project-reports").remove([decodeURIComponent(l)]);f&&console.error("Storage delete error:",f)}const{error:u}=await Qe.from("project_reports").delete().eq("id",o.id);if(u)throw u;e(f=>f.filter(h=>h.id!==o.id))}catch(s){console.error("Error deleting report:",s),alert("Failed to delete report")}};return P.jsxs("div",{className:"space-y-3 rounded-xl border border-bpas-grey/20 bg-white px-3 py-4 sm:px-4 shadow-sm w-full max-w-full overflow-x-hidden",children:[P.jsxs("div",{children:[P.jsx("p",{className:"text-xs uppercase tracking-wide text-bpas-grey font-syne",children:"Reports"}),P.jsx("h3",{className:"text-xl font-syne font-semibold text-bpas-black",children:"Generated reports"}),P.jsx("div",{className:"mt-2 h-1 w-10 rounded-full bg-bpas-yellow"})]}),P.jsxs("div",{className:"overflow-x-auto rounded-lg border border-bpas-grey/20",children:[P.jsxs("table",{className:"hidden sm:table min-w-full table-fixed text-sm font-raleway text-bpas-grey",children:[P.jsx("thead",{className:"bg-bpas-light text-bpas-black",children:P.jsxs("tr",{children:[P.jsx("th",{className:"w-[40%] px-3 py-2 text-left font-syne",children:"Report"}),P.jsx("th",{className:"w-[20%] px-3 py-2 text-left font-syne",children:"Project"}),P.jsx("th",{className:"w-[20%] px-3 py-2 text-left font-syne",children:"Generated"}),P.jsx("th",{className:"w-[20%] px-3 py-2 text-right font-syne",children:"Actions"})]})}),P.jsxs("tbody",{className:"divide-y divide-bpas-light",children:[t.map(o=>P.jsxs("tr",{className:"hover:bg-bpas-light",children:[P.jsx("td",{className:"px-3 py-2 font-semibold text-bpas-black",children:P.jsx("div",{className:"max-w-[300px] lg:max-w-[420px] truncate",title:o.file_name,children:o.file_name})}),P.jsx("td",{className:"px-3 py-2 truncate",children:r[o.project_id]?.name||o.project_id}),P.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:o.generated_at?.slice(0,16).replace("T"," ")||""}),P.jsx("td",{className:"px-3 py-2 text-right",children:P.jsxs("div",{className:"flex items-center justify-end gap-2 whitespace-nowrap",children:[P.jsx("a",{className:"btn-primary px-3 py-1 text-xs",href:o.file_url,target:"_blank",rel:"noreferrer",children:"Download"}),P.jsx("button",{type:"button",className:"btn-secondary px-3 py-1 text-xs",onClick:()=>navigator.clipboard.writeText(o.file_url),children:"Copy"}),P.jsx("button",{type:"button",className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-1 text-xs text-rose-600 hover:bg-rose-100",onClick:()=>a(o),children:"Delete"})]})})]},o.id)),t.length===0&&P.jsx("tr",{children:P.jsx("td",{colSpan:4,className:"px-3 py-4 text-center text-bpas-grey",children:"No reports yet."})})]})]}),P.jsxs("div",{className:"block sm:hidden divide-y divide-bpas-light",children:[t.map(o=>P.jsxs("div",{className:"p-4 space-y-3",children:[P.jsxs("div",{className:"flex justify-between items-start gap-2",children:[P.jsxs("div",{className:"min-w-0 flex-1",children:[P.jsx("p",{className:"font-semibold text-bpas-black text-sm truncate",children:o.file_name}),P.jsx("p",{className:"text-xs text-bpas-grey mt-1",children:r[o.project_id]?.name||o.project_id})]}),P.jsx("span",{className:"text-xs text-bpas-grey whitespace-nowrap",children:o.generated_at?.slice(0,10)||""})]}),P.jsxs("div",{className:"flex gap-2 pt-2",children:[P.jsx("a",{className:"flex-1 btn-primary text-center py-2 text-xs",href:o.file_url,target:"_blank",rel:"noreferrer",children:"Download"}),P.jsx("button",{type:"button",className:"flex-1 btn-secondary py-2 text-xs",onClick:()=>navigator.clipboard.writeText(o.file_url),children:"Copy Link"}),P.jsx("button",{type:"button",className:"flex-1 rounded-lg border border-rose-200 bg-rose-50 py-2 text-xs text-rose-600 hover:bg-rose-100",onClick:()=>a(o),children:"Delete"})]})]},o.id)),t.length===0&&P.jsx("div",{className:"p-4 text-center text-bpas-grey text-sm",children:"No reports yet."})]})]})]})},zce=()=>Oy()?P.jsx("div",{className:"bg-bpas-black px-4 py-2 text-center text-xs font-semibold text-bpas-yellow",children:"You are currently offline. Changes will be saved locally and synced when you reconnect."}):null,Wce=({children:t})=>{const{user:e,loading:r}=ol();return r?P.jsx("div",{className:"p-6 text-center text-slate-700",children:"Loading..."}):e?P.jsx(P.Fragment,{children:t}):P.jsx(Z6,{to:"/login",replace:!0})},Hce=()=>(ge.useEffect(()=>{const t=()=>{console.log("Back online, syncing mutations..."),SD()};return window.addEventListener("online",t),()=>window.removeEventListener("online",t)},[]),P.jsxs(q9,{children:[P.jsx(zce,{}),P.jsxs(_P,{children:[P.jsx(Do,{path:"/login",element:P.jsx(wne,{})}),P.jsx(Do,{path:"/register",element:P.jsx(xne,{})}),P.jsx(Do,{path:"/reset-password",element:P.jsx(_ne,{})}),P.jsx(Do,{path:"/*",element:P.jsx(Wce,{children:P.jsx(K9,{children:P.jsxs(_P,{children:[P.jsx(Do,{path:"dashboard",element:P.jsx(bne,{})}),P.jsx(Do,{path:"projects",element:P.jsx(Bce,{})}),P.jsx(Do,{path:"projects/:projectId",element:P.jsx(Ece,{})}),P.jsx(Do,{path:"projects/:projectId/site",element:P.jsx(Dce,{})}),P.jsx(Do,{path:"reports",element:P.jsx(qce,{})}),P.jsx(Do,{path:"settings",element:P.jsx(Uce,{})}),P.jsx(Do,{path:"*",element:P.jsx(Z6,{to:"/dashboard",replace:!0})})]})})})})]})]}));gF.createRoot(document.getElementById("root")).render(P.jsx(ge.StrictMode,{children:P.jsx(pB,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:P.jsx(Hce,{})})}));export{Fr as _,Ku as c,Br as g};
